var Eb=Object.defineProperty,ZR=Object.defineProperties;var JR=Object.getOwnPropertyDescriptors;var yb=Object.getOwnPropertySymbols,XR=Object.getPrototypeOf,eO=Object.prototype.hasOwnProperty,tO=Object.prototype.propertyIsEnumerable,nO=Reflect.get;var vb=(t,e,n)=>e in t?Eb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||={})eO.call(e,n)&&vb(t,n,e[n]);if(yb)for(var n of yb(e))tO.call(e,n)&&vb(t,n,e[n]);return t},K=(t,e)=>ZR(t,JR(e));var rO=(t,e)=>{for(var n in e)Eb(t,n,{get:e[n],enumerable:!0})};var Vi=(t,e,n)=>nO(XR(t),n,e);var y=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});function om(t,e){return Object.is(t,e)}var Ge=null,uu=!1,sm=1,ln=Symbol("SIGNAL");function Z(t){let e=Ge;return Ge=t,e}function am(){return Ge}var Oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ka(t){if(uu)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(t);let e=Ge.nextProducerIndex++;if(pu(Ge),e<Ge.producerNode.length&&Ge.producerNode[e]!==t&&Ra(Ge)){let n=Ge.producerNode[e];hu(n,Ge.producerIndexOfThis[e])}Ge.producerNode[e]!==t&&(Ge.producerNode[e]=t,Ge.producerIndexOfThis[e]=Ra(Ge)?bb(t,Ge,e):0),Ge.producerLastReadVersion[e]=t.version}function wb(){sm++}function lm(t){if(!(Ra(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sm)){if(!t.producerMustRecompute(t)&&!fm(t)){im(t);return}t.producerRecomputeValue(t),im(t)}}function cm(t){if(t.liveConsumerNode===void 0)return;let e=uu;uu=!0;try{for(let n of t.liveConsumerNode)n.dirty||iO(n)}finally{uu=e}}function um(){return Ge?.consumerAllowSignalWrites!==!1}function iO(t){t.dirty=!0,cm(t),t.consumerMarkedDirty?.(t)}function im(t){t.dirty=!1,t.lastCleanEpoch=sm}function fu(t){return t&&(t.nextProducerIndex=0),Z(t)}function dm(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ra(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fm(t){pu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lm(n),r!==n.version))return!0}return!1}function hm(t){if(pu(t),Ra(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bb(t,e,n){if(Cb(t),t.liveConsumerNode.length===0&&Ib(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=bb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hu(t,e){if(Cb(t),t.liveConsumerNode.length===1&&Ib(t))for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];pu(i),i.producerIndexOfThis[r]=e}}function Ra(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Cb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ib(t){return t.producerNode!==void 0}function pm(t,e){let n=Object.create(oO);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(lm(n),ka(n),n.value===du)throw n.error;return n.value};return r[ln]=n,r}var nm=Symbol("UNSET"),rm=Symbol("COMPUTING"),du=Symbol("ERRORED"),oO=K(C({},Oa),{value:nm,dirty:!0,error:null,equal:om,kind:"computed",producerMustRecompute(t){return t.value===nm||t.value===rm},producerRecomputeValue(t){if(t.value===rm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=rm;let n=fu(t),r,i=!1;try{r=t.computation(),Z(null),i=e!==nm&&e!==du&&r!==du&&t.equal(e,r)}catch(o){r=du,t.error=o}finally{dm(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function sO(){throw new Error}var Db=sO;function Tb(t){Db(t)}function mm(t){Db=t}var aO=null;function gm(t,e){let n=Object.create(mu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(ka(n),n.value);return r[ln]=n,r}function Pa(t,e){um()||Tb(t),t.equal(t.value,e)||(t.value=e,lO(t))}function _m(t,e){um()||Tb(t),Pa(t,e(t.value))}var mu=K(C({},Oa),{equal:om,value:void 0,kind:"signal"});function lO(t){t.version++,wb(),cm(t),aO?.()}function ym(t){let e=Z(null);try{return t()}finally{Z(e)}}var vm;function La(){return vm}function gr(t){let e=vm;return vm=t,e}var gu=Symbol("NotFound");function W(t){return typeof t=="function"}function Ko(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _u=Ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){e=o instanceof _u?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sb(o)}catch(s){e=e??[],s instanceof _u?e=[...e,...s.errors]:e.push(s)}}if(e)throw new _u(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Sb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fa(n,e)}remove(e){let{_finalizers:n}=this;n&&Fa(n,e),e instanceof t&&e._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var Em=je.EMPTY;function yu(t){return t instanceof je||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Sb(t){W(t)?t():t.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qo={setTimeout(t,e,...n){let{delegate:r}=Qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vu(t){Qo.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(t);else throw t})}function Va(){}var Ab=wm("C",void 0,void 0);function xb(t){return wm("E",void 0,t)}function Mb(t){return wm("N",t,void 0)}function wm(t,e,n){return{kind:t,value:e,error:n}}var ji=null;function Zo(t){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!ji;if(e&&(ji={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ji;if(ji=null,n)throw r}}else t()}function Nb(t){Mn.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=t)}var Ui=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yu(e)&&e.add(this)):this.destination=pO}static create(e,n,r){return new Jo(e,n,r)}next(e){this.isStopped?Cm(Mb(e),this):this._next(e)}error(e){this.isStopped?Cm(xb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cm(Ab,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fO=Function.prototype.bind;function bm(t,e){return fO.call(t,e)}var Im=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eu(r)}else Eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eu(n)}}},Jo=class extends Ui{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bm(e.next,o),error:e.error&&bm(e.error,o),complete:e.complete&&bm(e.complete,o)}):i=e}this.destination=new Im(i)}};function Eu(t){Mn.useDeprecatedSynchronousErrorHandling?Nb(t):vu(t)}function hO(t){throw t}function Cm(t,e){let{onStoppedNotification:n}=Mn;n&&Qo.setTimeout(()=>n(t,e))}var pO={closed:!0,next:Va,error:hO,complete:Va};var Xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function Dm(...t){return Tm(t)}function Tm(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gO(n)?n:new Jo(n,r,i);return Zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rb(r),new r((i,o)=>{let s=new Jo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xo](){return this}pipe(...n){return Tm(n)(this)}toPromise(n){return n=Rb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Rb(t){var e;return(e=t??Mn.Promise)!==null&&e!==void 0?e:Promise}function mO(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function gO(t){return t&&t instanceof Ui||mO(t)&&yu(t)}function Sm(t){return W(t?.lift)}function se(t){return e=>{if(Sm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Am(t,e,n,r,i)}var Am=class extends Ui{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function es(){return se((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ts=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return es()(this)}};var Ob=Ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ob}next(n){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Em:(this.currentObservers=null,o.push(n),new je(()=>{this.currentObservers=null,Fa(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new wu(e,n),t})(),wu=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Em}};var ot=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ft=new ce(t=>t.complete());function kb(t){return t&&W(t.schedule)}function Pb(t){return t[t.length-1]}function bu(t){return W(Pb(t))?t.pop():void 0}function qr(t){return kb(Pb(t))?t.pop():void 0}function xm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fb(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Lb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(t){return this instanceof Bi?(this.v=t,this):new Bi(t)}function Vb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(_){return Promise.resolve(_).then(h,d)}}function a(h,_){r[h]&&(i[h]=function(v){return new Promise(function(w,S){o.push([h,v,w,S])>1||l(h,v)})},_&&(i[h]=_(i[h])))}function l(h,_){try{c(r[h](_))}catch(v){f(o[0][3],v)}}function c(h){h.value instanceof Bi?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function jb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Lb=="function"?Lb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Cu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Iu(t){return W(t?.then)}function Du(t){return W(t[Xo])}function Tu(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Su(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _O(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Au=_O();function xu(t){return W(t?.[Au])}function Mu(t){return Vb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Bi(n.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{n.releaseLock()}})}function Nu(t){return W(t?.getReader)}function Be(t){if(t instanceof ce)return t;if(t!=null){if(Du(t))return yO(t);if(Cu(t))return vO(t);if(Iu(t))return EO(t);if(Tu(t))return Ub(t);if(xu(t))return wO(t);if(Nu(t))return bO(t)}throw Su(t)}function yO(t){return new ce(e=>{let n=t[Xo]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vO(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function EO(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vu)})}function wO(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ub(t){return new ce(e=>{CO(t,e).catch(n=>e.error(n))})}function bO(t){return Ub(Mu(t))}function CO(t,e){var n,r,i,o;return Fb(this,void 0,void 0,function*(){try{for(n=jb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ru(t,e=0){return se((n,r)=>{n.subscribe(ie(r,i=>Vt(r,t,()=>r.next(i),e),()=>Vt(r,t,()=>r.complete(),e),i=>Vt(r,t,()=>r.error(i),e)))})}function Ou(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Bb(t,e){return Be(t).pipe(Ou(e),Ru(e))}function $b(t,e){return Be(t).pipe(Ou(e),Ru(e))}function Hb(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Wb(t,e){return new ce(n=>{let r;return Vt(n,e,()=>{r=t[Au](),Vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function ku(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zb(t,e){return ku(Mu(t),e)}function Gb(t,e){if(t!=null){if(Du(t))return Bb(t,e);if(Cu(t))return Hb(t,e);if(Iu(t))return $b(t,e);if(Tu(t))return ku(t,e);if(xu(t))return Wb(t,e);if(Nu(t))return zb(t,e)}throw Su(t)}function Ie(t,e){return e?Gb(t,e):Be(t)}function B(...t){let e=qr(t);return Ie(t,e)}function ns(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Mm(t){return!!t&&(t instanceof ce||W(t.lift)&&W(t.subscribe))}var _r=Ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return se((n,r)=>{let i=0;n.subscribe(ie(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:IO}=Array;function DO(t,e){return IO(e)?t(...e):t(e)}function Pu(t){return J(e=>DO(t,e))}var{isArray:TO}=Array,{getPrototypeOf:SO,prototype:AO,keys:xO}=Object;function Lu(t){if(t.length===1){let e=t[0];if(TO(e))return{args:e,keys:null};if(MO(e)){let n=xO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function MO(t){return t&&typeof t=="object"&&SO(t)===AO}function Fu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ja(...t){let e=qr(t),n=bu(t),{args:r,keys:i}=Lu(t);if(r.length===0)return Ie([],e);let o=new ce(NO(r,e,i?s=>Fu(i,s):Zt));return n?o.pipe(Pu(n)):o}function NO(t,e,n=Zt){return r=>{qb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)qb(e,()=>{let c=Ie(t[l],e),u=!1;c.subscribe(ie(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qb(t,e,n){t?Vt(n,t,e):e()}function Yb(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=v=>c<r?_(v):l.push(v),_=v=>{o&&e.next(v),c++;let w=!1;Be(n(v,u++)).subscribe(ie(e,S=>{i?.(S),o?h(S):e.next(S)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let S=l.shift();s?Vt(e,s,()=>_(S)):_(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(ie(e,h,()=>{d=!0,f()})),()=>{a?.()}}function qe(t,e,n=1/0){return W(e)?qe((r,i)=>J((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>Yb(r,i,t,n)))}function Kb(t=1/0){return qe(Zt,t)}function Qb(){return Kb(1)}function rs(...t){return Qb()(Ie(t,qr(t)))}function Vu(t){return new ce(e=>{Be(t()).subscribe(e)})}function Nm(...t){let e=bu(t),{args:n,keys:r}=Lu(t),i=new ce(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Be(n[u]).subscribe(ie(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Fu(r,a):a),o.complete())}))}});return e?i.pipe(Pu(e)):i}function Jt(t,e){return se((n,r)=>{let i=0;n.subscribe(ie(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yr(t){return se((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ie(n,void 0,void 0,s=>{o=Be(t(s,Yr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Zb(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(ie(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Kr(t,e){return W(e)?qe(t,e,1):qe(t,1)}function Qr(t){return se((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yr(t){return t<=0?()=>Ft:se((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ju(t=RO){return se((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function RO(){return new _r}function $i(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,o)=>t(i,o,r)):Zt,yr(1),n?Qr(e):ju(()=>new _r))}function is(t){return t<=0?()=>Ft:se((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,o)=>t(i,o,r)):Zt,is(1),n?Qr(e):ju(()=>new _r))}function Om(t,e){return se(Zb(t,e,arguments.length>=2,!0))}function km(...t){let e=qr(t);return se((n,r)=>{(e?rs(t,n,e):rs(t,n)).subscribe(r)})}function jt(t,e){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ie(r,l=>{i?.unsubscribe();let c=0,u=o++;Be(t(l,u)).subscribe(i=ie(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pm(t){return se((e,n)=>{Be(t).subscribe(ie(n,()=>n.complete(),Va)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ie(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Zt}var jC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(e,n){super(kO(e,n)),this.code=e}};function OO(t){return`NG0${Math.abs(t)}`}function kO(t,e){return`${OO(t)}${e?": "+e:""}`}var UC=Symbol("InputSignalNode#UNSET"),PO=K(C({},mu),{transformFn:void 0,applyValueToInputSignal(t,e){Pa(t,e)}});function BC(t,e){let n=Object.create(PO);n.value=t,n.transformFn=e?.transform;function r(){if(ka(n),n.value===UC){let i=null;throw new A(-950,i)}return n.value}return r[ln]=n,r}function Xa(t){return{toString:t}.toString()}var Uu="__parameters__";function LO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $C(t,e,n){return Xa(()=>{let r=LO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Uu)?l[Uu]:Object.defineProperty(l,Uu,{value:[]})[Uu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wi=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function FO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Bt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Jb(t,e){return t?e?`${t} ${e}`:t:e||""}var VO=ve({__forward_ref__:ve});function dn(t){return t.__forward_ref__=dn,t.toString=function(){return Bt(this())},t}function bt(t){return HC(t)?t():t}function HC(t){return typeof t=="function"&&t.hasOwnProperty(VO)&&t.__forward_ref__===dn}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ei(t){return{providers:t.providers||[],imports:t.imports||[]}}function wd(t){return Xb(t,zC)||Xb(t,GC)}function WC(t){return wd(t)!==null}function Xb(t,e){return t.hasOwnProperty(e)?t[e]:null}function jO(t){let e=t&&(t[zC]||t[GC]);return e||null}function eC(t){return t&&(t.hasOwnProperty(tC)||t.hasOwnProperty(UO))?t[tC]:null}var zC=ve({\u0275prov:ve}),tC=ve({\u0275inj:ve}),GC=ve({ngInjectableDef:ve}),UO=ve({ngInjectorDef:ve}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qC(t){return t&&!!t.\u0275providers}var BO=ve({\u0275cmp:ve}),$O=ve({\u0275dir:ve}),HO=ve({\u0275pipe:ve}),WO=ve({\u0275mod:ve}),Yu=ve({\u0275fac:ve}),Ha=ve({__NG_ELEMENT_ID__:ve}),nC=ve({__NG_ENV_ID__:ve});function cs(t){return typeof t=="string"?t:t==null?"":String(t)}function zO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():cs(t)}function YC(t,e){throw new A(-200,t)}function Wg(t,e){throw new A(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),Jm;function KC(){return Jm}function Ut(t){let e=Jm;return Jm=t,e}function QC(t,e,n){let r=wd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;Wg(t,"Injector")}var GO={},zi=GO,Xm="__NG_DI_FLAG__",Ku=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?gu:zi,r)}},Qu="ngTempTokenPath",qO="ngTokenPath",YO=/\n/gm,KO="\u0275",rC="__source";function QO(t,e=Q.Default){if(La()===void 0)throw new A(-203,!1);if(La()===null)return QC(t,void 0,e);{let n=La(),r;return n instanceof Ku?r=n.injector:r=n,r.get(t,e&Q.Optional?null:void 0,e)}}function $(t,e=Q.Default){return(KC()||QO)(bt(t),e)}function T(t,e=Q.Default){return $(t,bd(e))}function bd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function eg(t){let e=[];for(let n=0;n<t.length;n++){let r=bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=ZO(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push($(i,o))}else e.push($(r))}return e}function ZC(t,e){return t[Xm]=e,t.prototype[Xm]=e,t}function ZO(t){return t[Xm]}function JO(t,e,n,r){let i=t[Qu];throw e[rC]&&i.unshift(e[rC]),t.message=XO(`
`+t.message,i,n,r),t[qO]=i,t[Qu]=null,t}function XO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==KO?t.slice(2):t;let i=Bt(e);if(Array.isArray(e))i=e.map(Bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Bt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YO,`
  `)}`}var ek=ZC($C("Optional"),8);var tk=ZC($C("SkipSelf"),4);function qi(t,e){let n=t.hasOwnProperty(Yu);return n?t[Yu]:null}function zg(t,e){t.forEach(n=>Array.isArray(n)?zg(n,e):e(n))}function JC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function rk(t,e,n){let r=el(t,e);return r>=0?t[r|1]=n:(r=~r,nk(t,r,e,n)),r}function Lm(t,e){let n=el(t,e);if(n>=0)return t[n|1]}function el(t,e){return ik(t,e,1)}function ik(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Yi={},cn=[],Wa=new x(""),XC=new x("",-1),eI=new x(""),Ju=class{get(e,n=zi){if(n===zi){let r=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw r.name="NullInjectorError",r}return n}};function tI(t,e){let n=t[WO]||null;if(!n&&e===!0)throw new Error(`Type ${Bt(t)} does not have '\u0275mod' property.`);return n}function Ki(t){return t[BO]||null}function ok(t){return t[$O]||null}function sk(t){return t[HO]||null}function Cd(t){return{\u0275providers:t}}function ak(...t){return{\u0275providers:nI(!0,t),\u0275fromNgModule:!0}}function nI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return zg(e,s=>{let a=s;tg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rI(i,o),n}function rI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gg(i,o=>{e(o,r)})}}function tg(t,e,n,r){if(t=bt(t),!t)return!1;let i=null,o=eC(t),s=!o&&Ki(t);if(!o&&!s){let l=t.ngModule;if(o=eC(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)tg(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{zg(o.imports,u=>{tg(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&rI(c,e)}if(!a){let c=qi(i)||(()=>new i);e({provide:i,useFactory:c,deps:cn},i),e({provide:eI,useValue:i,multi:!0},i),e({provide:Wa,useValue:()=>$(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Gg(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Gg(t,e){for(let n of t)qC(n)&&(n=n.\u0275providers),Array.isArray(n)?Gg(n,e):e(n)}var lk=ve({provide:String,useValue:ve});function iI(t){return t!==null&&typeof t=="object"&&lk in t}function ck(t){return!!(t&&t.useExisting)}function uk(t){return!!(t&&t.useFactory)}function us(t){return typeof t=="function"}function dk(t){return!!t.useClass}var Id=new x(""),Hu={},iC={},Fm;function qg(){return Fm===void 0&&(Fm=new Ju),Fm}var It=class{},za=class extends It{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,rg(e,s=>this.processProvider(s)),this.records.set(XC,os(void 0,this)),i.has("environment")&&this.records.set(It,os(void 0,this));let o=this.records.get(Id);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eI,cn,Q.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?gu:zi,r)}destroy(){Ba(this),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return Ba(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ba(this);let n=gr(this),r=Ut(void 0),i;try{return e()}finally{gr(n),Ut(r)}}get(e,n=zi,r=Q.Default){if(Ba(this),e.hasOwnProperty(nC))return e[nC](this);r=bd(r);let i,o=gr(this),s=Ut(void 0);try{if(!(r&Q.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=gk(e)&&wd(e);c&&this.injectableDefInScope(c)?l=os(ng(e),Hu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&Q.Self?qg():this.parent;return n=r&Q.Optional&&n===zi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Qu]=a[Qu]||[]).unshift(Bt(e)),o)throw a;return JO(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(s),gr(o)}}resolveInjectorInitializers(){let e=Z(null),n=gr(this),r=Ut(void 0),i;try{let o=this.get(Wa,cn,Q.Self);for(let s of o)s()}finally{gr(n),Ut(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=bt(e);let n=us(e)?e:bt(e&&e.provide),r=hk(e);if(!us(e)&&e.multi===!0){let i=this.records.get(n);i||(i=os(void 0,Hu,!0),i.factory=()=>eg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Z(null);try{return n.value===iC?YC(Bt(e)):n.value===Hu&&(n.value=iC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&mk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ng(t){let e=wd(t),n=e!==null?e.factory:qi(t);if(n!==null)return n;if(t instanceof x)throw new A(204,!1);if(t instanceof Function)return fk(t);throw new A(204,!1)}function fk(t){if(t.length>0)throw new A(204,!1);let n=jO(t);return n!==null?()=>n.factory(t):()=>new t}function hk(t){if(iI(t))return os(void 0,t.useValue);{let e=oI(t);return os(e,Hu)}}function oI(t,e,n){let r;if(us(t)){let i=bt(t);return qi(i)||ng(i)}else if(iI(t))r=()=>bt(t.useValue);else if(uk(t))r=()=>t.useFactory(...eg(t.deps||[]));else if(ck(t))r=(i,o)=>$(bt(t.useExisting),o!==void 0&&o&Q.Optional?Q.Optional:void 0);else{let i=bt(t&&(t.useClass||t.provide));if(pk(t))r=()=>new i(...eg(t.deps));else return qi(i)||ng(i)}return r}function Ba(t){if(t.destroyed)throw new A(205,!1)}function os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pk(t){return!!t.deps}function mk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gk(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function rg(t,e){for(let n of t)Array.isArray(n)?rg(n,e):n&&qC(n)?rg(n.\u0275providers,e):e(n)}function Xt(t,e){let n;t instanceof za?(Ba(t),n=t):n=new Ku(t);let r,i=gr(n),o=Ut(void 0);try{return e()}finally{gr(i),Ut(o)}}function _k(){return KC()!==void 0||La()!=null}function yk(t){return typeof t=="function"}var Cr=0,ee=1,G=2,Dt=3,Rn=4,kn=5,Ga=6,Xu=7,Ke=8,Qi=9,Er=10,Oe=11,qa=12,oC=13,ys=14,On=15,ds=16,ss=17,fs=18,Dd=19,sI=20,Zr=21,Vm=22,ed=23,un=24,jm=25,mt=26,aI=1;var Zi=7,td=8,nd=9,Ct=10;function Jr(t){return Array.isArray(t)&&typeof t[aI]=="object"}function Ir(t){return Array.isArray(t)&&t[aI]===!0}function Yg(t){return(t.flags&4)!==0}function vs(t){return t.componentOffset>-1}function Td(t){return(t.flags&1)===1}function zn(t){return!!t.template}function rd(t){return(t[G]&512)!==0}function Es(t){return(t[G]&256)===256}var ig=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ti=(()=>{let t=()=>cI;return t.ngInherit=!0,t})();function cI(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ek),vk}function vk(){let t=dI(this),e=t?.current;if(e){let n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ek(t,e,n,r,i){let o=this.declaredInputs[r],s=dI(t)||wk(t,{previous:Yi,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ig(c&&c.currentValue,n,l===Yi),lI(t,e,i,n)}var uI="__ngSimpleChanges__";function dI(t){return t[uI]||null}function wk(t,e){return t[uI]=e}var sC=null;var Ee=function(t,e=null,n){sC?.(t,e,n)},fI="svg",bk="math";function Gn(t){for(;Array.isArray(t);)t=t[Cr];return t}function hI(t,e){return Gn(e[t])}function Zn(t,e){return Gn(e[t.index])}function Kg(t,e){return t.data[e]}function pI(t,e){return t[e]}function qn(t,e){let n=e[t];return Jr(n)?n:n[Cr]}function Qg(t){return(t[G]&128)===128}function Ck(t){return Ir(t[Dt])}function Xr(t,e){return e==null?null:t[e]}function mI(t){t[ss]=0}function gI(t){t[G]&1024||(t[G]|=1024,Qg(t)&&Ad(t))}function Ik(t,e){for(;t>0;)e=e[ys],t--;return e}function Sd(t){return!!(t[G]&9216||t[un]?.dirty)}function og(t){t[Er].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),Sd(t)&&Ad(t)}function Ad(t){t[Er].changeDetectionScheduler?.notify(0);let e=Ji(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Qg(e)));)e=Ji(e)}function _I(t,e){if(Es(t))throw new A(911,!1);t[Zr]===null&&(t[Zr]=[]),t[Zr].push(e)}function Dk(t,e){if(t[Zr]===null)return;let n=t[Zr].indexOf(e);n!==-1&&t[Zr].splice(n,1)}function Ji(t){let e=t[Dt];return Ir(e)?e[Dt]:e}function yI(t){return t[Xu]??=[]}function vI(t){return t.cleanup??=[]}var X={lFrame:SI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sg=!1;function Tk(){return X.lFrame.elementDepthCount}function Sk(){X.lFrame.elementDepthCount++}function Ak(){X.lFrame.elementDepthCount--}function Zg(){return X.bindingsEnabled}function xk(){return X.skipHydrationRootTNode!==null}function Mk(t){return X.skipHydrationRootTNode===t}function Nk(){X.skipHydrationRootTNode=null}function ae(){return X.lFrame.lView}function Xe(){return X.lFrame.tView}function M(t){return X.lFrame.contextLView=t,t[Ke]}function N(t){return X.lFrame.contextLView=null,t}function en(){let t=EI();for(;t!==null&&t.type===64;)t=t.parent;return t}function EI(){return X.lFrame.currentTNode}function Rk(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ro(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function Jg(){return X.lFrame.isParent}function wI(){X.lFrame.isParent=!1}function bI(){return sg}function aC(t){let e=sg;return sg=t,e}function Xg(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ok(){return X.lFrame.bindingIndex}function kk(t){return X.lFrame.bindingIndex=t}function ws(){return X.lFrame.bindingIndex++}function CI(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Pk(){return X.lFrame.inI18n}function Lk(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,ag(e)}function Fk(){return X.lFrame.currentDirectiveIndex}function ag(t){X.lFrame.currentDirectiveIndex=t}function Vk(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function II(t){X.lFrame.currentQueryIndex=t}function jk(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[kn]:null}function DI(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=jk(o),i===null||(o=o[ys],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=X.lFrame=TI();return r.currentTNode=e,r.lView=t,!0}function e_(t){let e=TI(),n=t[ee];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TI(){let t=X.lFrame,e=t===null?null:t.child;return e===null?SI(t):e}function SI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function AI(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xI=AI;function t_(){let t=AI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Uk(t){return(X.lFrame.contextLView=Ik(t,X.lFrame.contextLView))[Ke]}function ni(){return X.lFrame.selectedIndex}function Xi(t){X.lFrame.selectedIndex=t}function xd(){let t=X.lFrame;return Kg(t.tView,t.selectedIndex)}function MI(){X.lFrame.currentNamespace=fI}function NI(){Bk()}function Bk(){X.lFrame.currentNamespace=null}function $k(){return X.lFrame.currentNamespace}var RI=!0;function Md(){return RI}function Nd(t){RI=t}function Hk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function n_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Wu(t,e,n){OI(t,e,3,n)}function zu(t,e,n,r){(t[G]&3)===n&&OI(t,e,n,r)}function Um(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function OI(t,e,n,r){let i=r!==void 0?t[ss]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[ss]+=65536),(a<o||o==-1)&&(Wk(t,n,e,l),t[ss]=(t[ss]&4294901760)+l+2),l++}function lC(t,e){Ee(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Ee(5,t,e)}}function Wk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[G]>>14<t[ss]>>16&&(t[G]&3)===e&&(t[G]+=16384,lC(a,o)):lC(a,o)}var ls=-1,eo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function zk(t){return(t.flags&8)!==0}function Gk(t){return(t.flags&16)!==0}function qk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Yk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function kI(t){return t===3||t===4||t===6}function Yk(t){return t.charCodeAt(0)===64}function hs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cC(t,n,i,null,e[++r]):cC(t,n,i,null,null))}}return t}function cC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function PI(t){return t!==ls}function id(t){return t&32767}function Kk(t){return t>>16}function od(t,e){let n=Kk(t),r=e;for(;n>0;)r=r[ys],n--;return r}var lg=!0;function sd(t){let e=lg;return lg=t,e}var Qk=256,LI=Qk-1,FI=5,Zk=0,Wn={};function Jk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ha)&&(r=n[Ha]),r==null&&(r=n[Ha]=Zk++);let i=r&LI,o=1<<i;e.data[t+(i>>FI)]|=o}function ad(t,e){let n=VI(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,Bm(r.data,t),Bm(e,null),Bm(r.blueprint,null));let i=r_(t,e),o=t.injectorIndex;if(PI(i)){let s=id(i),a=od(i,e),l=a[ee].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Bm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function r_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HI(i),r===null)return ls;if(n++,i=i[ys],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ls}function cg(t,e,n){Jk(t,e,n)}function Xk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(kI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function jI(t,e,n){if(n&Q.Optional||t!==void 0)return t;Wg(e,"NodeInjector")}function UI(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),(n&(Q.Self|Q.Host))===0){let i=t[Qi],o=Ut(void 0);try{return i?i.get(e,r,n&Q.Optional):QC(e,r,n&Q.Optional)}finally{Ut(o)}}return jI(r,e,n)}function BI(t,e,n,r=Q.Default,i){if(t!==null){if(e[G]&2048&&!(r&Q.Self)){let s=iP(t,e,n,r,Wn);if(s!==Wn)return s}let o=$I(t,e,n,r,Wn);if(o!==Wn)return o}return UI(e,n,r,i)}function $I(t,e,n,r,i){let o=nP(n);if(typeof o=="function"){if(!DI(e,t,r))return r&Q.Host?jI(i,n,r):UI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Q.Optional))Wg(n);else return s}finally{xI()}}else if(typeof o=="number"){let s=null,a=VI(t,e),l=ls,c=r&Q.Host?e[On][kn]:null;for((a===-1||r&Q.SkipSelf)&&(l=a===-1?r_(t,e):e[a+8],l===ls||!dC(r,!1)?a=-1:(s=e[ee],a=id(l),e=od(l,e)));a!==-1;){let u=e[ee];if(uC(o,a,u.data)){let d=eP(a,e,n,s,r,c);if(d!==Wn)return d}l=e[a+8],l!==ls&&dC(r,e[ee].data[a+8]===c)&&uC(o,a,e)?(s=u,a=id(l),e=od(l,e)):a=-1}}return i}function eP(t,e,n,r,i,o){let s=e[ee],a=s.data[t+8],l=r==null?vs(a)&&lg:r!=s&&(a.type&3)!==0,c=i&Q.Host&&o===a,u=tP(a,s,n,l,c);return u!==null?ld(e,s,u,a,i):Wn}function tP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let _=s[h];if(h<l&&n===_||h>=l&&_.type===n)return h}if(i){let h=s[l];if(h&&zn(h)&&h.type===n)return l}return null}function ld(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof eo){let a=o;a.resolving&&YC(zO(s[n]));let l=sd(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Ut(a.injectImpl):null,d=DI(t,r,Q.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Hk(n,s[n],e)}finally{u!==null&&Ut(u),sd(l),a.resolving=!1,xI()}}return o}function nP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ha)?t[Ha]:void 0;return typeof e=="number"?e>=0?e&LI:rP:e}function uC(t,e,n){let r=1<<t;return!!(n[e+(t>>FI)]&r)}function dC(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Gi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BI(this._tNode,this._lView,e,bd(r),n)}};function rP(){return new Gi(en(),ae())}function Jn(t){return Xa(()=>{let e=t.prototype.constructor,n=e[Yu]||ug(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yu]||ug(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ug(t){return HC(t)?()=>{let e=ug(bt(t));return e&&e()}:qi(t)}function iP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!rd(s);){let a=$I(o,s,n,r|Q.Self,Wn);if(a!==Wn)return a;let l=o.parent;if(!l){let c=s[sI];if(c){let u=c.get(n,Wn,r);if(u!==Wn)return u}l=HI(s),s=s[ys]}o=l}return i}function HI(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[kn]:null}function i_(t){return Xk(en(),t)}function fC(t,e=null,n=null,r){let i=WI(t,e,n,r);return i.resolveInjectorInitializers(),i}function WI(t,e=null,n=null,r,i=new Set){let o=[n||cn,ak(t)];return r=r||(typeof t=="object"?void 0:Bt(t)),new za(o,e||qg(),r||null,i)}var Yn=class t{static THROW_IF_NOT_FOUND=zi;static NULL=new Ju;static create(e,n){if(Array.isArray(e))return fC({name:""},n,e,"");{let r=e.name??"";return fC({name:r},e.parent,e.providers,r)}}static \u0275prov=P({token:t,providedIn:"any",factory:()=>$(XC)});static __NG_ELEMENT_ID__=-1};var oP=new x("");oP.__NG_ELEMENT_ID__=t=>{let e=en();if(e===null)throw new A(204,!1);if(e.type&2)return e.value;if(t&Q.Optional)return null;throw new A(204,!1)};var zI=!1,Rd=(()=>{class t{static __NG_ELEMENT_ID__=sP;static __NG_ENV_ID__=n=>n}return t})(),dg=class extends Rd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Es(n)?(e(),()=>{}):(_I(n,e),()=>Dk(n,e))}};function sP(){return new dg(ae())}var Ya=class{},GI=new x("",{providedIn:"root",factory:()=>!1});var qI=new x(""),YI=new x(""),ri=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ot(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})();var fg=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_k()&&(this.destroyRef=T(Rd,{optional:!0})??void 0,this.pendingTasks=T(ri,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ye=fg;function cd(...t){}function KI(t){let e,n;function r(){t=cd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hC(t){return queueMicrotask(()=>t()),()=>{t=cd}}var o_="isAngularZone",ud=o_+"_ID",aP=0,Je=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ye(!1);onMicrotaskEmpty=new Ye(!1);onStable=new Ye(!1);onError=new Ye(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zI}=e;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(o_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,lP,cd,cd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},lP={};function s_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){KI(()=>{t.callbackScheduled=!1,hg(t),t.isCheckStableRunning=!0,s_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),hg(t)}function uP(t){let e=()=>{cP(t)},n=aP++;t._inner=t._inner.fork({name:"angular",properties:{[o_]:!0,[ud]:n,[ud+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(dP(l))return r.invokeTask(o,s,a,l);try{return pC(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),mC(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return pC(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!fP(l)&&e(),mC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hg(t),s_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function pC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mC(t){t._nesting--,s_(t)}var pg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ye;onMicrotaskEmpty=new Ye;onStable=new Ye;onError=new Ye;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function dP(t){return QI(t,"__ignore_ng_zone__")}function fP(t){return QI(t,"__scheduler_tick__")}function QI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var wr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},hP=new x("",{providedIn:"root",factory:()=>{let t=T(Je),e=T(wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function gC(t,e){return BC(t,e)}function pP(t){return BC(UC,t)}var ZI=(gC.required=pP,gC);function mP(){return a_(en(),ae())}function a_(t,e){return new Xn(Zn(t,e))}var Xn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=mP}return t})();function gP(t){return typeof t=="function"&&t[ln]!==void 0}function tl(t,e){let n=gm(t,e?.equal),r=n[ln];return n.set=i=>Pa(r,i),n.update=i=>_m(r,i),n.asReadonly=_P.bind(n),n}function _P(){let t=this[ln];if(t.readonlyFn===void 0){let e=()=>this();e[ln]=t,t.readonlyFn=e}return t.readonlyFn}function JI(t){return gP(t)&&typeof t.set=="function"}function XI(t){return(t.flags&128)===128}var e0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(e0||{}),t0=new Map,yP=0;function vP(){return yP++}function EP(t){t0.set(t[Dd],t)}function mg(t){t0.delete(t[Dd])}var _C="__ngContext__";function bs(t,e){Jr(e)?(t[_C]=e[Dd],EP(e)):t[_C]=e}function n0(t){return i0(t[qa])}function r0(t){return i0(t[Rn])}function i0(t){for(;t!==null&&!Ir(t);)t=t[Rn];return t}var gg;function o0(t){gg=t}function wP(){if(gg!==void 0)return gg;if(typeof document<"u")return document;throw new A(210,!1)}var Od=new x("",{providedIn:"root",factory:()=>bP}),bP="ng",l_=new x(""),nl=new x("",{providedIn:"platform",factory:()=>"unknown"});var c_=new x("",{providedIn:"root",factory:()=>wP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var CP="h",IP="b";var s0=!1,DP=new x("",{providedIn:"root",factory:()=>s0});var a0=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(a0||{}),kd=new x(""),yC=new Set;function Pd(t){yC.has(t)||(yC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var TP=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})();var SP=()=>null;function l0(t,e,n=!1){return SP(t,e,n)}function c0(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];II(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function _g(t,e,n){II(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function u_(t,e,n){if(Yg(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Z(r)}}}var Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{});var Bu;function AP(){if(Bu===void 0&&(Bu=null,Wi.trustedTypes))try{Bu=Wi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bu}function vC(t){return AP()?.createScriptURL(t)||t}var dd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jC})`}};function d_(t){return t instanceof dd?t.changingThisBreaksApplicationSecurity:t}function u0(t,e){let n=xP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${jC})`)}return n===e}function xP(t){return t instanceof dd&&t.getTypeName()||null}var MP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function NP(t){return t=String(t),t.match(MP)?t:"unsafe:"+t}var f_=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(f_||{});function h_(t){let e=f0();return e?e.sanitize(f_.URL,t)||"":u0(t,"URL")?d_(t):NP(cs(t))}function RP(t){let e=f0();if(e)return vC(e.sanitize(f_.RESOURCE_URL,t)||"");if(u0(t,"ResourceURL"))return vC(d_(t));throw new A(904,!1)}function OP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?RP:h_}function d0(t,e,n){return OP(e,n)(t)}function f0(){let t=ae();return t&&t[Er].sanitizer}var kP=/^>|^->|<!--|-->|--!>|<!-$/g,PP=/(<|>)/g,LP="\u200B$1\u200B";function FP(t){return t.replace(kP,e=>e.replace(PP,LP))}function h0(t){return t instanceof Function?t():t}function VP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var p0="ng-template";function jP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(p_(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function p_(t){return t.type===4&&t.value!==p0}function UP(t,e,n){let r=t.type===4&&!n?p0:t.value;return e===r}function BP(t,e,n){let r=4,i=t.attrs,o=i!==null?WP(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Nn(r)&&!Nn(l))return!1;if(s&&Nn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!UP(t,l,n)||l===""&&e.length===1){if(Nn(r))return!1;s=!0}}else if(r&8){if(i===null||!jP(t,i,l,n)){if(Nn(r))return!1;s=!0}}else{let c=e[++a],u=$P(l,i,p_(t),n);if(u===-1){if(Nn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Nn(r))return!1;s=!0}}}}return Nn(r)||s}function Nn(t){return(t&1)===0}function $P(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zP(e,t)}function HP(t,e,n=!1){for(let r=0;r<e.length;r++)if(BP(t,e[r],n))return!0;return!1}function WP(t){for(let e=0;e<t.length;e++){let n=t[e];if(kI(n))return e}return t.length}function zP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EC(t,e){return t?":not("+e.trim()+")":e}function GP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nn(s)&&(e+=EC(o,i),i=""),r=s,o=o||!Nn(r);n++}return i!==""&&(e+=EC(o,i)),e}function qP(t){return t.map(GP).join(",")}function YP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Nn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var fn={};function KP(t,e){return t.createText(e)}function QP(t,e,n){t.setValue(e,n)}function ZP(t,e){return t.createComment(FP(e))}function m0(t,e,n){return t.createElement(e,n)}function fd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function g0(t,e,n){t.appendChild(e,n)}function wC(t,e,n,r,i){r!==null?fd(t,e,n,r,i):g0(t,e,n)}function JP(t,e,n){t.removeChild(null,e,n)}function XP(t,e,n){t.setAttribute(e,"style",n)}function e1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qk(t,e,r),i!==null&&e1(t,e,i),o!==null&&XP(t,e,o)}function m_(t,e,n,r,i,o,s,a,l,c,u){let d=mt+r,f=d+i,h=t1(d,f),_=typeof c=="function"?c():c;return h[ee]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function t1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:fn);return n}function n1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=m_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function g_(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Cr]=i,d[G]=r|4|128|8|64|1024,(c!==null||t&&t[G]&2048)&&(d[G]|=2048),mI(d),d[Dt]=d[ys]=t,d[Ke]=n,d[Er]=s||t&&t[Er],d[Oe]=a||t&&t[Oe],d[Qi]=l||t&&t[Qi]||null,d[kn]=o,d[Dd]=vP(),d[Ga]=u,d[sI]=c,d[On]=e.type==2?t[On]:d,d}function r1(t,e,n){let r=Zn(e,t),i=n1(n),o=t[Er].rendererFactory,s=__(t,g_(t,i,null,y0(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function y0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function v0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function __(t,e){return t[qa]?t[oC][Rn]=e:t[qa]=e,t[oC]=e,e}function E(t=1){E0(Xe(),ae(),ni()+t,!1)}function E0(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Wu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zu(e,o,0,n)}Xi(n)}var Ld=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ld||{});function yg(t,e,n,r){let i=Z(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Ld.SignalBased)!==0&&(l=e[o][ln]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):lI(e,l,o,r)}finally{Z(i)}}function w0(t,e,n,r,i){let o=ni(),s=r&2;try{Xi(-1),s&&e.length>mt&&E0(t,e,mt,!1),Ee(s?2:0,i),n(r,i)}finally{Xi(o),Ee(s?3:1,i)}}function Fd(t,e,n){c1(t,e,n),(n.flags&64)===64&&u1(t,e,n)}function y_(t,e,n=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function i1(t,e,n,r){let o=r.get(DP,s0)||n===Kn.ShadowDom,s=t.selectRootElement(e,o);return o1(s),s}function o1(t){s1(t)}var s1=()=>null;function a1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function v_(t,e,n,r,i,o,s,a){if(!a&&w_(e,t,n,r,i)){vs(e)&&l1(n,e.index);return}if(e.type&3){let l=Zn(e,n);r=a1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function l1(t,e){let n=qn(e,t);n[G]&16||(n[G]|=64)}function c1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;vs(n)&&r1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ad(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=ld(e,t,s,n);if(bs(l,e),o!==null&&p1(e,s-r,l,a,n,o),zn(a)){let c=qn(n.index,e);c[Ke]=ld(e,t,s,n)}}}function u1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Fk();try{Xi(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];ag(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&d1(l,c)}}finally{Xi(-1),ag(s)}}function d1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function E_(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];HP(e,o.selectors,!1)&&(r??=[],zn(o)?r.unshift(o):r.push(o))}return r}function f1(t,e,n,r,i,o){let s=Zn(t,e);h1(e[Oe],s,o,t.value,n,r,i)}function h1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?cs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function p1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];yg(r,n,l,c)}}function m1(t,e){let n=t[Qi],r=n?n.get(wr,null):null;r&&r.handleError(e)}function w_(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];yg(d,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=e.data[l];yg(u,c,r,i),a=!0}return a}function g1(t,e){let n=qn(e,t),r=n[ee];_1(r,n);let i=n[Cr];i!==null&&n[Ga]===null&&(n[Ga]=l0(i,n[Qi])),Ee(18),b_(r,n,n[Ke]),Ee(19,n[Ke])}function _1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function b_(t,e,n){e_(e);try{let r=t.viewQuery;r!==null&&_g(1,r,n);let i=t.template;i!==null&&w0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[fs]?.finishViewCreation(t),t.staticContentQueries&&c0(t,e),t.staticViewQueries&&_g(2,t.viewQuery,n);let o=t.components;o!==null&&y1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,t_()}}function y1(t,e){for(let n=0;n<e.length;n++)g1(t,e[n])}function C_(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[G]&4096?4096:16,l=g_(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[ds]=c;let u=t[fs];return u!==null&&(l[fs]=u.createEmbeddedView(o)),b_(o,l,n),l}finally{Z(i)}}function Ka(t,e){return!e||e.firstChild===null||XI(t)}var v1;function I_(t,e){return v1(t,e)}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(br||{});function b0(t){return(t.flags&32)===32}function as(t,e,n,r,i){if(r!=null){let o,s=!1;Ir(r)?o=r:Jr(r)&&(s=!0,r=r[Cr]);let a=Gn(r);t===0&&n!==null?i==null?g0(e,n,a):fd(e,n,a,i||null,!0):t===1&&n!==null?fd(e,n,a,i||null,!0):t===2?JP(e,a,s):t===3&&e.destroyNode(a),o!=null&&N1(e,t,o,n,i)}}function E1(t,e){C0(t,e),e[Cr]=null,e[kn]=null}function w1(t,e,n,r,i,o){r[Cr]=i,r[kn]=e,Ud(t,r,n,1,i,o)}function C0(t,e){e[Er].changeDetectionScheduler?.notify(9),Ud(t,e,e[Oe],2,null,null)}function b1(t){let e=t[qa];if(!e)return $m(t[ee],t);for(;e;){let n=null;if(Jr(e))n=e[qa];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Rn]&&e!==t;)Jr(e)&&$m(e[ee],e),e=e[Dt];e===null&&(e=t),Jr(e)&&$m(e[ee],e),n=e&&e[Rn]}e=n}}function D_(t,e){let n=t[nd],r=n.indexOf(e);n.splice(r,1)}function Vd(t,e){if(Es(e))return;let n=e[Oe];n.destroyNode&&Ud(t,e,n,3,null,null),b1(e)}function $m(t,e){if(Es(e))return;let n=Z(null);try{e[G]&=-129,e[G]|=256,e[un]&&hm(e[un]),I1(t,e),C1(t,e),e[ee].type===1&&e[Oe].destroy();let r=e[ds];if(r!==null&&Ir(e[Dt])){r!==e[Dt]&&D_(r,e);let i=e[fs];i!==null&&i.detachView(t)}mg(e)}finally{Z(n)}}function C1(t,e){let n=t.cleanup,r=e[Xu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Xu]=null);let i=e[Zr];if(i!==null){e[Zr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ed];if(o!==null){e[ed]=null;for(let s of o)s.destroy()}}function I1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof eo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ee(4,a,l);try{l.call(a)}finally{Ee(5,a,l)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function D1(t,e,n){return T1(t,e.parent,n)}function T1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Cr];if(vs(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Kn.None||i===Kn.Emulated)return null}return Zn(r,n)}function S1(t,e,n){return x1(t,e,n)}function A1(t,e,n){return t.type&40?Zn(t,n):null}var x1=A1,bC;function jd(t,e,n,r){let i=D1(t,r,e),o=e[Oe],s=r.parent||e[kn],a=S1(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)wC(o,i,n[l],a,!1);else wC(o,i,n,a,!1);bC!==void 0&&bC(o,r,e,n,i)}function $a(t,e){if(e!==null){let n=e.type;if(n&3)return Zn(e,t);if(n&4)return vg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return $a(t,r);{let i=t[e.index];return Ir(i)?vg(-1,i):Gn(i)}}else{if(n&128)return $a(t,e.next);if(n&32)return I_(e,t)()||Gn(t[e.index]);{let r=I0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ji(t[On]);return $a(i,r)}else return $a(t,e.next)}}}return null}function I0(t,e){if(e!==null){let r=t[On][kn],i=e.projection;return r.projection[i]}return null}function vg(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return $a(r,i)}return e[Zi]}function T_(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&bs(Gn(a),r),n.flags|=2),!b0(n))if(l&8)T_(t,e,n.child,r,i,o,!1),as(e,t,i,a,o);else if(l&32){let c=I_(n,r),u;for(;u=c();)as(e,t,i,u,o);as(e,t,i,a,o)}else l&16?M1(t,e,r,n,i,o):as(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ud(t,e,n,r,i,o){T_(n,r,t.firstChild,e,i,o,!1)}function M1(t,e,n,r,i,o){let s=n[On],l=s[kn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];as(e,t,i,u,o)}else{let c=l,u=s[Dt];XI(r)&&(c.flags|=128),T_(t,e,c,u,i,o,!0)}}function N1(t,e,n,r,i){let o=n[Zi],s=Gn(n);o!==s&&as(e,t,r,o,i);for(let a=Ct;a<n.length;a++){let l=n[a];Ud(l[ee],l,t,e,r,o)}}function R1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:br.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=br.Important),t.setStyle(n,r,i,o))}}function hd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Gn(o)),Ir(o)&&O1(o,r);let s=n.type;if(s&8)hd(t,e,n.child,r);else if(s&32){let a=I_(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=I0(e,n);if(Array.isArray(a))r.push(...a);else{let l=Ji(e[On]);hd(l[ee],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function O1(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&hd(r[ee],r,i,e)}t[Zi]!==t[Cr]&&e.push(t[Zi])}function D0(t){if(t[jm]!==null){for(let e of t[jm])e.impl.addSequence(e);t[jm].length=0}}var T0=[];function k1(t){return t[un]??P1(t)}function P1(t){let e=T0.pop()??Object.create(F1);return e.lView=t,e}function L1(t){t.lView[un]!==t&&(t.lView=null,T0.push(t))}var F1=K(C({},Oa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ad(t.lView)},consumerOnSignalRead(){this.lView[un]=this}});function V1(t){let e=t[un]??Object.create(j1);return e.lView=t,e}var j1=K(C({},Oa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Ji(t.lView);for(;e&&!S0(e[ee]);)e=Ji(e);e&&gI(e)},consumerOnSignalRead(){this.lView[un]=this}});function S0(t){return t.type!==2}function A0(t){if(t[ed]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ed])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[G]&8192)}}var U1=100;function x0(t,e=!0,n=0){let i=t[Er].rendererFactory,o=!1;o||i.begin?.();try{B1(t,n)}catch(s){throw e&&m1(t,s),s}finally{o||i.end?.()}}function B1(t,e){let n=bI();try{aC(!0),Eg(t,e);let r=0;for(;Sd(t);){if(r===U1)throw new A(103,!1);r++,Eg(t,1)}}finally{aC(n)}}function $1(t,e,n,r){if(Es(e))return;let i=e[G],o=!1,s=!1;e_(e);let a=!0,l=null,c=null;o||(S0(t)?(c=k1(e),l=fu(c)):am()===null?(a=!1,c=V1(e),l=fu(c)):e[un]&&(hm(e[un]),e[un]=null));try{mI(e),kk(t.bindingStartIndex),n!==null&&w0(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Wu(e,h,null)}else{let h=t.preOrderHooks;h!==null&&zu(e,h,0,null),Um(e,0)}if(s||H1(e),A0(e),M0(e,0),t.contentQueries!==null&&c0(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Wu(e,h)}else{let h=t.contentHooks;h!==null&&zu(e,h,1),Um(e,1)}z1(t,e);let d=t.components;d!==null&&R0(e,d,0);let f=t.viewQuery;if(f!==null&&_g(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Wu(e,h)}else{let h=t.viewHooks;h!==null&&zu(e,h,2),Um(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vm]){for(let h of e[Vm])h();e[Vm]=null}o||(D0(e),e[G]&=-73)}catch(u){throw o||Ad(e),u}finally{c!==null&&(dm(c,l),a&&L1(c)),t_()}}function M0(t,e){for(let n=n0(t);n!==null;n=r0(n))for(let r=Ct;r<n.length;r++){let i=n[r];N0(i,e)}}function H1(t){for(let e=n0(t);e!==null;e=r0(e)){if(!(e[G]&2))continue;let n=e[nd];for(let r=0;r<n.length;r++){let i=n[r];gI(i)}}}function W1(t,e,n){Ee(18);let r=qn(e,t);N0(r,n),Ee(19,r[Ke])}function N0(t,e){Qg(t)&&Eg(t,e)}function Eg(t,e){let r=t[ee],i=t[G],o=t[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fm(o)),s||=!1,o&&(o.dirty=!1),t[G]&=-9217,s)$1(r,t,r.template,t[Ke]);else if(i&8192){A0(t),M0(t,1);let a=r.components;a!==null&&R0(t,a,1),D0(t)}}function R0(t,e,n){for(let r=0;r<e.length;r++)W1(t,e[r],n)}function z1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xi(~i);else{let o=i,s=n[++r],a=n[++r];Lk(s,o);let l=e[o];Ee(24,l),a(2,l),Ee(25,l)}}}finally{Xi(-1)}}function S_(t,e){let n=bI()?64:1088;for(t[Er].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Ji(t);if(rd(t)&&!r)return t;t=r}return null}function O0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function k0(t,e){let n=Ct+e;if(n<t.length)return t[n]}function Bd(t,e,n,r=!0){let i=e[ee];if(G1(i,e,t,n),r){let s=vg(n,t),a=e[Oe],l=a.parentNode(t[Zi]);l!==null&&w1(i,t[kn],a,e,l,s)}let o=e[Ga];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function P0(t,e){let n=Qa(t,e);return n!==void 0&&Vd(n[ee],n),n}function Qa(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[ds];i!==null&&i!==t&&D_(i,r),e>0&&(t[n-1][Rn]=r[Rn]);let o=Zu(t,Ct+e);E1(r[ee],r);let s=o[fs];s!==null&&s.detachView(o[ee]),r[Dt]=null,r[Rn]=null,r[G]&=-129}return r}function G1(t,e,n,r){let i=Ct+r,o=n.length;r>0&&(n[i-1][Rn]=e),r<o-Ct?(e[Rn]=n[i],JC(n,Ct+r,e)):(n.push(e),e[Rn]=null),e[Dt]=n;let s=e[ds];s!==null&&n!==s&&L0(s,e);let a=e[fs];a!==null&&a.insertView(t),og(e),e[G]|=128}function L0(t,e){let n=t[nd],r=e[Dt];if(Jr(r))t[G]|=2;else{let i=r[Dt][On];e[On]!==i&&(t[G]|=2)}n===null?t[nd]=[e]:n.push(e)}var pd=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ee];return hd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return Es(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Dt];if(Ir(e)){let n=e[td],r=n?n.indexOf(this):-1;r>-1&&(Qa(e,r),Zu(n,r))}this._attachedToViewContainer=!1}Vd(this._lView[ee],this._lView)}onDestroy(e){_I(this._lView,e)}markForCheck(){S_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){og(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,x0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rd(this._lView),n=this._lView[ds];n!==null&&!e&&D_(n,this._lView),C0(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e;let n=rd(this._lView),r=this._lView[ds];r!==null&&!n&&L0(r,this._lView),og(this._lView)}};function $d(t,e,n,r,i){let o=t.data[e];if(o===null)o=q1(t,e,n,r,i),Pk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Rk();o.injectorIndex=s===null?-1:s.injectorIndex}return ro(o,!0),o}function q1(t,e,n,r,i){let o=EI(),s=Jg(),a=s?o:o&&o.parent,l=t.data[e]=K1(t,a,n,e,r,i);return Y1(t,l,o,s),l}function Y1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function K1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xk()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var dJ=new RegExp(`^(\\d+)*(${IP}|${CP})*(.*)`);var Q1=()=>null;function Za(t,e){return Q1(t,e)}var Z1=class{},F0=class{},wg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Bt(e)}.`)}},Hd=class{static NULL=new wg},ps=class{},Dr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>J1()}return t})();function J1(){let t=ae(),e=en(),n=qn(e.index,t);return(Jr(n)?n:t)[Oe]}var X1=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>null})}return t})();var Hm={},bg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bd(r);let i=this.injector.get(e,Hm,r);return i!==Hm||n===Hm?i:this.parentInjector.get(e,n,r)}};function Cg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Jb(i,a);else if(o==2){let l=a,c=e[++s];r=Jb(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function L(t,e=Q.Default){let n=ae();if(n===null)return $(t,e);let r=en();return BI(r,n,bt(t),e)}function A_(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,l=null,c=null,u=tL(s);u===null?a=s:[a,l,c]=u,iL(t,e,n,a,o,l,c)}o!==null&&r!==null&&eL(n,r,o)}function eL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new A(-301,!1);r.push(e[i],o)}}function tL(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&zn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,nL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function nL(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function rL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iL(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&zn(h)&&(l=!0,rL(t,n,f)),cg(ad(n,e),t,h.type)}uL(n,t.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=v0(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=hs(n.mergedAttrs,h.hostAttrs),sL(t,n,e,d,h),cL(d,h,i),s!==null&&s.has(h)){let[v,w]=s.get(h);n.directiveToIndex.set(h.type,[d,v+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let _=h.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}oL(t,n,o)}function oL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))CC(0,e,i,r),CC(1,e,i,r),DC(e,r,!1);else{let o=n.get(i);IC(0,e,o,r),IC(1,e,o,r),DC(e,r,!0)}}}function CC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),V0(e,o)}}function IC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),V0(e,s)}}function V0(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function DC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||p_(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function sL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=qi(i.type,!0)),s=new eo(o,zn(i),L);t.blueprint[r]=s,n[r]=s,aL(t,e,r,v0(t,n,i.hostVars,fn),i)}function aL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;lL(s)!=a&&s.push(a),s.push(n,r,o)}}function lL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function cL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zn(e)&&(n[""]=t)}}function uL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function j0(t,e,n,r,i,o,s,a){let l=e.consts,c=Xr(l,s),u=$d(e,t,2,r,c);return o&&A_(e,n,u,Xr(l,a),i),u.mergedAttrs=hs(u.mergedAttrs,u.attrs),u.attrs!==null&&Cg(u,u.attrs,!1),u.mergedAttrs!==null&&Cg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function U0(t,e){n_(t,e),Yg(e)&&t.queries.elementEnd(e)}var md=class extends Hd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ki(e);return new ms(n,this.ngModule)}};function dL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ld.SignalBased)!==0};return i&&(o.transform=i),o})}function fL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function hL(t,e,n){let r=e instanceof It?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new bg(n,r):n}function pL(t){let e=t.get(ps,null);if(e===null)throw new A(407,!1);let n=t.get(X1,null),r=t.get(Ya,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function mL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return m0(e,n,n==="svg"?fI:n==="math"?bk:null)}var ms=class extends F0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=fL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Ee(22);let o=Z(null);try{let s=this.componentDef,a=r?["ng-version","19.2.11"]:YP(this.componentDef.selectors[0]),l=m_(0,null,null,1,0,null,null,null,null,[a],null),c=hL(s,i||this.ngModule,e),u=pL(c),d=u.rendererFactory.createRenderer(null,s),f=r?i1(d,r,s.encapsulation,c):mL(s,d),h=g_(null,l,null,512|y0(s),null,null,u,d,c,null,l0(f,c,!0));h[mt]=f,e_(h);let _=null;try{let v=j0(mt,l,h,"#host",()=>[this.componentDef],!0,0);f&&(_0(d,f,v),bs(f,h)),Fd(l,h,v),u_(l,v,h),U0(l,v),n!==void 0&&gL(v,this.ngContentSelectors,n),_=qn(v.index,h),h[Ke]=_[Ke],b_(l,h,null)}catch(v){throw _!==null&&mg(_),mg(h),v}finally{Ee(23),t_()}return new Ig(this.componentType,h)}finally{Z(o)}}},Ig=class extends Z1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Kg(n[ee],mt),this.location=a_(this._tNode,n),this.instance=qn(this._tNode.index,n)[Ke],this.hostView=this.changeDetectorRef=new pd(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=w_(r,i[ee],i,e,n);this.previousInputValues.set(e,n);let s=qn(r.index,i);S_(s,1)}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wd=(()=>{class t{static __NG_ELEMENT_ID__=_L}return t})();function _L(){let t=en();return vL(t,ae())}var yL=Wd,B0=class extends yL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return a_(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=r_(this._hostTNode,this._hostLView);if(PI(e)){let n=od(e,this._hostLView),r=id(e),i=n[ee].data[r+8];return new Gi(i,n)}else return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=TC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Za(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ka(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!yk(e),a;if(s)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?e:new ms(Ki(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(It,null);v&&(o=v)}let u=Ki(l.componentType??{}),d=Za(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,Ka(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ck(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Dt],c=new B0(l,l[kn],l[Dt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Bd(s,i,o,r),e.attachToViewContainerRef(),JC(Wm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=TC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qa(this._lContainer,n);r&&(Zu(Wm(this._lContainer),n),Vd(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qa(this._lContainer,n);return r&&Zu(Wm(this._lContainer),n)!=null?new pd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function TC(t){return t[td]}function Wm(t){return t[td]||(t[td]=[])}function vL(t,e){let n,r=e[t.index];return Ir(r)?n=r:(n=O0(r,e,null,t),e[t.index]=n,__(e,n)),wL(n,e,t,r),new B0(n,t,e)}function EL(t,e){let n=t[Oe],r=n.createComment(""),i=Zn(e,t),o=n.parentNode(i);return fd(n,o,r,n.nextSibling(i),!1),r}var wL=IL,bL=()=>!1;function CL(t,e,n){return bL(t,e,n)}function IL(t,e,n,r){if(t[Zi])return;let i;n.type&8?i=Gn(r):i=EL(e,n),t[Zi]=i}var gs=class{},x_=class{};var Dg=class extends gs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new md(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=tI(e);this._bootstrapComponents=h0(o.bootstrap),this._r3Injector=WI(e,n,[{provide:gs,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver},...r],Bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tg=class extends x_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Dg(this.moduleType,e,[])}};var gd=class extends gs{injector;componentFactoryResolver=new md(this);instance=null;constructor(e){super();let n=new za([...e.providers,{provide:gs,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],e.parent||qg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zd(t,e,n=null){return new gd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var DL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=nI(!1,n.type),i=r.length>0?zd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:t,providedIn:"environment",factory:()=>new t($(It))})}return t})();function $t(t){return Xa(()=>{let e=$0(t),n=K(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===e0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(DL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||cn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Pd("NgStandalone"),H0(n);let r=t.dependencies;return n.directiveDefs=SC(r,!1),n.pipeDefs=SC(r,!0),n.id=ML(n),n})}function TL(t){return Ki(t)||ok(t)}function SL(t){return t!==null}function ii(t){return Xa(()=>({type:t.type,bootstrap:t.bootstrap||cn,declarations:t.declarations||cn,imports:t.imports||cn,exports:t.exports||cn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AL(t,e){if(t==null)return Yi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Ld.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function xL(t){if(t==null)return Yi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Te(t){return Xa(()=>{let e=$0(t);return H0(e),e})}function Cs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||cn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AL(t.inputs,e),outputs:xL(t.outputs),debugInfo:null}}function H0(t){t.features?.forEach(e=>e(t))}function SC(t,e){if(!t)return null;let n=e?sk:TL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SL)}function ML(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function NL(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=NL(t.type),n=!0,r=[t];for(;e;){let i;if(zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=zm(t.inputs),s.declaredInputs=zm(t.declaredInputs),s.outputs=zm(t.outputs);let a=i.hostBindings;a&&LL(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&kL(t,l),c&&PL(t,c),RL(t,i),FO(t.outputs,i.outputs),zn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}OL(r)}function RL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function OL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hs(i.hostAttrs,n=hs(n,i.hostAttrs))}}function zm(t){return t===Yi?{}:t===cn?[]:t}function kL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function PL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function LL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function W0(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function M_(t,e,n){return t[e]=n}function FL(t,e){return t[e]}function Qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function z0(t,e,n,r){let i=Qn(t,e,n);return Qn(t,e+1,r)||i}function VL(t,e,n,r,i,o,s,a,l){let c=e.consts,u=$d(e,t,4,s||null,a||null);Zg()&&A_(e,n,u,Xr(c,l),E_),u.mergedAttrs=hs(u.mergedAttrs,u.attrs),n_(e,u);let d=u.tView=m_(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Sg(t,e,n,r,i,o,s,a,l,c){let u=n+mt,d=e.firstCreatePass?VL(u,e,t,r,i,o,s,a,l):e.data[u];ro(d,!1);let f=jL(e,t,d,n);Md()&&jd(e,t,f,d),bs(f,t);let h=O0(f,t,f,d);return t[u]=h,__(t,h),CL(h,d,t),Td(d)&&Fd(e,t,d),l!=null&&y_(t,d,c),d}function he(t,e,n,r,i,o,s,a){let l=ae(),c=Xe(),u=Xr(c.consts,o);return Sg(l,c,t,e,n,r,i,u,s,a),he}var jL=UL;function UL(t,e,n,r){return Nd(!0),e[Oe].createComment("")}var G0=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var q0=new x("");var BL=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>new Ag})}return t})(),Ag=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function io(t){return!!t&&typeof t.then=="function"}function Y0(t){return!!t&&typeof t.subscribe=="function"}var $L=new x("");var K0=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=T($L,{optional:!0})??[];injector=T(Yn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Xt(this.injector,i);if(io(o))n.push(o);else if(Y0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N_=new x("");function HL(){mm(()=>{throw new A(600,!1)})}function WL(t){return t.isBoundToModule}var zL=10;var to=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=T(hP);afterRenderManager=T(TP);zonelessEnabled=T(GI);rootEffectScheduler=T(BL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=T(ri).hasPendingTasks.pipe(J(n=>!n));constructor(){T(kd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=T(It);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Yn.NULL){Ee(10);let o=n instanceof F0;if(!this._injector.get(K0).done){let h="";throw new A(405,h)}let a;o?a=n:a=this._injector.get(Hd).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=WL(a)?void 0:this._injector.get(gs),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,f=u.injector.get(q0,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Gu(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),Ee(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(a0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let n=Z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Z(n),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ps,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<zL;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)GL(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Sd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Gu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(N_,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Gu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GL(t,e,n,r){if(!n&&!Sd(t))return;x0(t,e,n&&!r?0:1)}function er(t,e,n,r){let i=ae(),o=ws();if(Qn(i,o,e)){let s=Xe(),a=xd();f1(a,i,t,e,n,r)}return er}function Q0(t,e,n,r){return Qn(t,ws(),n)?e+cs(n)+r:fn}function qL(t,e,n,r,i,o){let s=Ok(),a=z0(t,s,n,i);return CI(2),a?e+cs(n)+r+cs(i)+o:fn}function $u(t,e){return t<<17|e<<2}function no(t){return t>>17&32767}function YL(t){return(t&2)==2}function KL(t,e){return t&131071|e<<17}function xg(t){return t|2}function _s(t){return(t&131068)>>2}function Gm(t,e){return t&-131069|e<<2}function QL(t){return(t&1)===1}function Mg(t){return t|1}function ZL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),l=_s(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||el(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=no(t[a+1]);t[r+1]=$u(f,a),f!==0&&(t[f+1]=Gm(t[f+1],r)),t[a+1]=KL(t[a+1],r)}else t[r+1]=$u(a,0),a!==0&&(t[a+1]=Gm(t[a+1],r)),a=r;else t[r+1]=$u(l,0),a===0?a=r:t[l+1]=Gm(t[l+1],r),l=r;c&&(t[r+1]=xg(t[r+1])),AC(t,u,r,!0),AC(t,u,r,!1),JL(e,u,t,r,o),s=$u(a,l),o?e.classBindings=s:e.styleBindings=s}function JL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&el(o,e)>=0&&(n[r+1]=Mg(n[r+1]))}function AC(t,e,n,r){let i=t[n+1],o=e===null,s=r?no(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];XL(l,e)&&(a=!0,t[s+1]=r?Mg(c):xg(c)),s=r?no(c):_s(c)}a&&(t[n+1]=r?xg(i):Mg(i))}function XL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?el(t,e)>=0:!1}function hn(t,e,n){let r=ae(),i=ws();if(Qn(r,i,e)){let o=Xe(),s=xd();v_(o,s,r,t,e,r[Oe],n,!1)}return hn}function xC(t,e,n,r,i){w_(e,t,n,i?"class":"style",r)}function Gd(t,e){return eF(t,e,null,!0),Gd}function eF(t,e,n,r){let i=ae(),o=Xe(),s=CI(2);if(o.firstUpdatePass&&nF(o,t,s,r),e!==fn&&Qn(i,s,e)){let a=o.data[ni()];aF(o,a,i,i[Oe],t,i[s+1]=lF(e,n),r,s)}}function tF(t,e){return e>=t.expandoStartIndex}function nF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ni()],s=tF(t,n);cF(o,r)&&e===null&&!s&&(e=!1),e=rF(i,o,e,r),ZL(i,o,e,n,s,r)}}function rF(t,e,n,r){let i=Vk(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qm(null,t,e,n,r),n=Ja(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=qm(i,t,e,n,r),o===null){let l=iF(t,e,r);l!==void 0&&Array.isArray(l)&&(l=qm(null,t,e,l[1],r),l=Ja(l,e.attrs,r),oF(t,e,r,l))}else o=sF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function iF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_s(r)!==0)return t[no(r)]}function oF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[no(i)]=r}function sF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ja(r,s,n)}return Ja(r,e.attrs,n)}function qm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ja(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ja(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rk(t,s,n?!0:e[++o]))}return t===void 0?null:t}function aF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=QL(c)?MC(l,e,n,i,_s(c),s):void 0;if(!_d(u)){_d(o)||YL(c)&&(o=MC(l,null,n,i,a,s));let d=hI(ni(),n);R1(r,s,d,i,o)}}function MC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===fn&&(f=d?cn:void 0);let h=d?Lm(f,r):u===r?f:void 0;if(c&&!_d(h)&&(h=Lm(l,r)),_d(h)&&(a=h,s))return a;let _=t[i+1];i=s?no(_):_s(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Lm(l,r))}return a}function _d(t){return t!==void 0}function lF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Bt(d_(t)))),t}function cF(t,e){return(t.flags&(e?8:16))!==0}var Ng=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Ym(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function uF(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Ym(o,c,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[l],_=Ym(s,f,l,h,n);if(_!==0){_<0&&t.updateValue(s,h),s--,l--;continue}let v=n(o,c),w=n(s,f),S=n(o,u);if(Object.is(S,w)){let H=n(l,h);Object.is(H,v)?(t.swap(o,s),t.updateValue(s,h),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new yd,i??=RC(t,o,s,n),Rg(t,r,o,S))t.updateValue(o,u),o++,s++;else if(i.has(S))r.set(v,t.detach(o)),s--;else{let H=t.create(o,e[o]);t.attach(o,H),o++,s++}}for(;o<=l;)NC(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,f=Ym(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new yd,i??=RC(t,o,s,n);let h=n(o,d);if(Rg(t,r,o,h))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let _=n(o,u);r.set(_,t.detach(o)),s--}}}for(;!c.done;)NC(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function Rg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function NC(t,e,n,r,i){if(Rg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function RC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var yd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function de(t,e){Pd("NgControlFlow");let n=ae(),r=ws(),i=n[r]!==fn?n[r]:-1,o=i!==-1?vd(n,mt+i):void 0,s=0;if(Qn(n,r,t)){let a=Z(null);try{if(o!==void 0&&P0(o,s),t!==-1){let l=mt+t,c=vd(n,l),u=Lg(n[ee],l),d=Za(c,u.tView.ssrId),f=C_(n,u,e,{dehydratedView:d});Bd(c,f,s,Ka(u,d))}}finally{Z(a)}}else if(o!==void 0){let a=k0(o,s);a!==void 0&&(a[Ke]=e)}}var Og=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ct}};function Tt(t){return t}var kg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function St(t,e,n,r,i,o,s,a,l,c,u,d,f){Pd("NgControlFlow");let h=ae(),_=Xe(),v=l!==void 0,w=ae(),S=a?s.bind(w[On][Ke]):s,H=new kg(v,S);w[mt+t]=H,Sg(h,_,t+1,e,n,r,i,Xr(_.consts,o)),v&&Sg(h,_,t+2,l,c,u,d,Xr(_.consts,f))}var Pg=class extends Ng{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ct}at(e){return this.getLView(e)[Ke].$implicit}attach(e,n){let r=n[Ga];this.needsIndexUpdate||=e!==this.length,Bd(this.lContainer,n,e,Ka(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,dF(this.lContainer,e)}create(e,n){let r=Za(this.lContainer,this.templateTNode.tView.ssrId),i=C_(this.hostLView,this.templateTNode,new Og(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Vd(e[ee],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ke].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ke].$index=e}getLView(e){return fF(this.lContainer,e)}};function At(t){let e=Z(null),n=ni();try{let r=ae(),i=r[ee],o=r[n],s=n+1,a=vd(r,s);if(o.liveCollection===void 0){let c=Lg(i,s);o.liveCollection=new Pg(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(uF(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=ws(),u=l.length===0;if(Qn(r,c,u)){let d=n+2,f=vd(r,d);if(u){let h=Lg(i,d),_=Za(f,h.tView.ssrId),v=C_(r,h,void 0,{dehydratedView:_});Bd(f,v,0,Ka(h,_))}else P0(f,0)}}}finally{Z(e)}}function vd(t,e){return t[e]}function dF(t,e){return Qa(t,e)}function fF(t,e){return k0(t,e)}function Lg(t,e){return Kg(t,e)}function m(t,e,n,r){let i=ae(),o=Xe(),s=mt+t,a=i[Oe],l=o.firstCreatePass?j0(s,o,i,e,E_,Zg(),n,r):o.data[s],c=hF(o,i,l,a,e,t);i[s]=c;let u=Td(l);return ro(l,!0),_0(a,c,l),!b0(l)&&Md()&&jd(o,i,c,l),(Tk()===0||u)&&bs(c,i),Sk(),u&&(Fd(o,i,l),u_(o,l,i)),r!==null&&y_(i,l),m}function p(){let t=en();Jg()?wI():(t=t.parent,ro(t,!1));let e=t;Mk(e)&&Nk(),Ak();let n=Xe();return n.firstCreatePass&&U0(n,e),e.classesWithoutHost!=null&&zk(e)&&xC(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Gk(e)&&xC(n,e,ae(),e.stylesWithoutHost,!1),p}function R(t,e,n,r){return m(t,e,n,r),p(),R}var hF=(t,e,n,r,i,o)=>(Nd(!0),m0(r,i,$k()));function pF(t,e,n,r,i){let o=e.consts,s=Xr(o,r),a=$d(e,t,8,"ng-container",s);s!==null&&Cg(a,s,!0);let l=Xr(o,i);return Zg()&&A_(e,n,a,l,E_),a.mergedAttrs=hs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function qd(t,e,n){let r=ae(),i=Xe(),o=t+mt,s=i.firstCreatePass?pF(o,i,r,e,n):i.data[o];ro(s,!0);let a=mF(i,r,s,t);return r[o]=a,Md()&&jd(i,r,a,s),bs(a,r),Td(s)&&(Fd(i,r,s),u_(i,s,r)),n!=null&&y_(r,s),qd}function Yd(){let t=en(),e=Xe();return Jg()?wI():(t=t.parent,ro(t,!1)),e.firstCreatePass&&(n_(e,t),Yg(t)&&e.queries.elementEnd(t)),Yd}var mF=(t,e,n,r)=>(Nd(!0),ZP(e[Oe],""));function ue(){return ae()}var Hi=void 0;function gF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var _F=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gF],Km={};function pn(t){let e=yF(t),n=OC(e);if(n)return n;let r=e.split("-")[0];if(n=OC(r),n)return n;if(r==="en")return _F;throw new A(701,!1)}function OC(t){return t in Km||(Km[t]=Wi.ng&&Wi.ng.common&&Wi.ng.common.locales&&Wi.ng.common.locales[t]),Km[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function yF(t){return t.toLowerCase().replace(/_/g,"-")}var Ed="en-US";var vF=Ed;function EF(t){typeof t=="string"&&(vF=t.toLowerCase().replace(/_/g,"-"))}function kC(t,e,n){return function r(i){if(i===Function)return n;let o=vs(t)?qn(t.index,e):e;S_(o,5);let s=e[Ke],a=PC(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=PC(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function PC(t,e,n,r){let i=Z(null);try{return Ee(6,e,n),n(r)!==!1}catch(o){return wF(t,o),!1}finally{Ee(7,e,n),Z(i)}}function wF(t,e){let n=t[Qi],r=n?n.get(wr,null):null;r&&r.handleError(e)}function LC(t,e,n,r,i,o){let s=e[n],a=e[ee],c=a.data[n].outputs[r],u=s[c],d=a.firstCreatePass?vI(a):null,f=yI(e),h=u.subscribe(o),_=f.length;f.push(o,h),d&&d.push(i,t.index,_,-(_+1))}var bF=new Map;function O(t,e,n,r){let i=ae(),o=Xe(),s=en();return Z0(o,i,i[Oe],s,t,e,r),O}function CF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Xu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Z0(t,e,n,r,i,o,s){let a=Td(r),c=t.firstCreatePass?vI(t):null,u=yI(e),d=!0;if(r.type&3||s){let f=Zn(r,e),h=s?s(f):f,_=u.length,v=s?S=>s(Gn(S[r.index])):r.index,w=null;if(!s&&a&&(w=CF(t,e,i,r.index)),w!==null){let S=w.__ngLastListenerFn__||w;S.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,d=!1}else{o=kC(r,e,o);let S=e[Qi].get(Od);bF.get(S)?.(h,i,o);let k=n.listen(h,i,o);u.push(o,k),c&&c.push(i,v,_,_+1)}}else o=kC(r,e,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let _=0;_<h.length;_+=2){let v=h[_],w=h[_+1];LC(r,e,v,w,i,o)}if(f&&f.length)for(let _ of f)LC(r,e,_,i,i,o)}}function I(t=1){return Uk(t)}function at(t,e,n){return J0(t,"",e,"",n),at}function J0(t,e,n,r,i){let o=ae(),s=Q0(o,e,n,r);if(s!==fn){let a=Xe(),l=xd();v_(a,l,o,t,s,o[Oe],i,!1)}return J0}function IF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function g(t,e=""){let n=ae(),r=Xe(),i=t+mt,o=r.firstCreatePass?$d(r,i,1,e,null):r.data[i],s=DF(r,n,o,e,t);n[i]=s,Md()&&jd(r,n,s,o),ro(o,!1)}var DF=(t,e,n,r,i)=>(Nd(!0),KP(e[Oe],r));function z(t){return gt("",t,""),z}function gt(t,e,n){let r=ae(),i=Q0(r,t,e,n);return i!==fn&&X0(r,ni(),i),gt}function Kd(t,e,n,r,i){let o=ae(),s=qL(o,t,e,n,r,i);return s!==fn&&X0(o,ni(),s),Kd}function X0(t,e,n){let r=hI(e,t);QP(t[Oe],r,n)}function lt(t,e,n){JI(e)&&(e=e());let r=ae(),i=ws();if(Qn(r,i,e)){let o=Xe(),s=xd();v_(o,s,r,t,e,r[Oe],n,!1)}return lt}function _t(t,e){let n=JI(t);return n&&t.set(e),n}function ct(t,e){let n=ae(),r=Xe(),i=en();return Z0(r,n,n[Oe],i,t,e),ct}function TF(t,e,n){let r=Xe();if(r.firstCreatePass){let i=zn(t);Fg(n,r.data,r.blueprint,i,!0),Fg(e,r.data,r.blueprint,i,!1)}}function Fg(t,e,n,r,i){if(t=bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Fg(t[o],e,n,r,i);else{let o=Xe(),s=ae(),a=en(),l=us(t)?t:bt(t.provide),c=oI(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(us(t)||!t.multi){let h=new eo(c,i,L),_=Zm(l,e,i?u:u+f,d);_===-1?(cg(ad(a,s),o,l),Qm(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[_]=h,s[_]=h)}else{let h=Zm(l,e,u+f,d),_=Zm(l,e,u,u+f),v=h>=0&&n[h],w=_>=0&&n[_];if(i&&!w||!i&&!v){cg(ad(a,s),o,l);let S=xF(i?AF:SF,n.length,i,r,c);!i&&w&&(n[_].providerFactory=S),Qm(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=eD(n[i?_:h],c,!i&&r);Qm(o,t,h>-1?h:_,S)}!i&&r&&w&&n[_].componentProviders++}}}function Qm(t,e,n,r){let i=us(e),o=dk(e);if(i||o){let l=(o?bt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function eD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SF(t,e,n,r,i){return Vg(this.multi,[])}function AF(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=ld(r,r[ee],this.providerFactory.index,i);s=l.slice(0,a),Vg(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Vg(o,s);return s}function Vg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xF(t,e,n,r,i){let o=new eo(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,eD(o,i,r&&!n),o}function tr(t,e=[]){return n=>{n.providersResolver=(r,i)=>TF(r,i?i(t):t,e)}}function tD(t,e,n){let r=Xg()+t,i=ae();return i[r]===fn?M_(i,r,n?e.call(n):e()):FL(i,r)}function nD(t,e){let n=t[e];return n===fn?void 0:n}function MF(t,e,n,r,i,o){let s=e+n;return Qn(t,s,i)?M_(t,s+1,o?r.call(o,i):r(i)):nD(t,s+1)}function NF(t,e,n,r,i,o,s){let a=e+n;return z0(t,a,i,o)?M_(t,a+2,s?r.call(s,i,o):r(i,o)):nD(t,a+2)}function Pe(t,e){let n=Xe(),r,i=t+mt;n.firstCreatePass?(r=RF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=qi(r.type,!0)),s,a=Ut(L);try{let l=sd(!1),c=o();return sd(l),IF(n,ae(),i,c),c}finally{Ut(a)}}function RF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function oi(t,e,n){let r=t+mt,i=ae(),o=pI(i,r);return rD(i,r)?MF(i,Xg(),e,o.transform,n,o):o.transform(n)}function xt(t,e,n,r){let i=t+mt,o=ae(),s=pI(o,i);return rD(o,i)?NF(o,Xg(),e,s.transform,n,r,s):s.transform(n,r)}function rD(t,e){return t[ee].data[e].pure}var jg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},iD=(()=>{class t{compileModuleSync(n){return new Tg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=tI(n),o=h0(i.declarations).reduce((s,a)=>{let l=Ki(a);return l&&s.push(new ms(l)),s},[]);return new jg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var OF=(()=>{class t{zone=T(Je);changeDetectionScheduler=T(Ya);applicationRef=T(to);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kF({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Je(K(C({},PF()),{scheduleInRootZone:n})),[{provide:Je,useFactory:t},{provide:Wa,multi:!0,useFactory:()=>{let r=T(OF,{optional:!0});return()=>r.initialize()}},{provide:Wa,multi:!0,useFactory:()=>{let r=T(LF);return()=>{r.initialize()}}},e===!0?{provide:qI,useValue:!0}:[],{provide:YI,useValue:n??zI}]}function PF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LF=(()=>{class t{subscription=new je;initialized=!1;zone=T(Je);pendingTasks=T(ri);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var FF=(()=>{class t{appRef=T(to);taskService=T(ri);ngZone=T(Je);zonelessEnabled=T(GI);tracing=T(kd,{optional:!0});disableScheduling=T(qI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ud):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(T(YI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?hC:KI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ud+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VF(){return typeof $localize<"u"&&$localize.locale||Ed}var Qd=new x("",{providedIn:"root",factory:()=>T(Qd,Q.Optional|Q.SkipSelf)||VF()});var Ug=new x(""),jF=new x("");function Ua(t){return!t.moduleRef}function UF(t){let e=Ua(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Je);return n.run(()=>{Ua(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(wr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ua(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ug);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ug);s.add(o),t.moduleRef.onDestroy(()=>{Gu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return $F(r,n,()=>{let o=e.get(K0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Qd,Ed);if(EF(s||Ed),!e.get(jF,!0))return Ua(t)?e.get(to):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ua(t)){let l=e.get(to);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return BF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function BF(t,e){let n=t.injector.get(to);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new A(-403,!1);e.push(t)}function $F(t,e,n){try{let r=n();return io(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var qu=null;function HF(t=[],e){return Yn.create({name:e,providers:[{provide:Id,useValue:"platform"},{provide:Ug,useValue:new Set([()=>qu=null])},...t]})}function WF(t=[]){if(qu)return qu;let e=HF(t);return qu=e,HL(),zF(e),e}function zF(t){let e=t.get(l_,null);Xt(t,()=>{e?.forEach(n=>n())})}var nr=(()=>{class t{static __NG_ELEMENT_ID__=GF}return t})();function GF(t){return qF(en(),ae(),(t&16)===16)}function qF(t,e,n){if(vs(t)&&!n){let r=qn(t.index,e);return new pd(r,r)}else if(t.type&175){let r=e[On];return new pd(r,e)}return null}var Bg=class{constructor(){}supports(e){return e instanceof Map||W0(e)}create(){return new $g}},$g=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||W0(e)))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Hg(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Hg=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function FC(){return new R_([new Bg])}var R_=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:FC});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||FC()),deps:[[t,new tk,new ek]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new A(901,!1)}}return t})();function oD(t){Ee(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=WF(r),o=[kF({}),{provide:Ya,useExisting:FF},...n||[]],s=new gd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return UF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ee(9)}}function Is(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Tr(t){return ym(t)}function rl(t,e){return pm(t,e?.equal)}var VC=class{[ln];constructor(e){this[ln]=e}destroy(){this[ln].destroy()}};function sD(t){let e=Ki(t);if(!e)return null;let n=new ms(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var et=new x("");var cD=null;function mn(){return cD}function O_(t){cD??=t}var il=class{},k_=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>T(uD),providedIn:"platform"})}return t})();var uD=(()=>{class t extends k_{_location;_history;_doc=T(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mn().getBaseHref(this._doc)}onPopState(n){let r=mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function dD(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function aD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function si(t){return t&&t[0]!=="?"?`?${t}`:t}var Ds=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>T(hD),providedIn:"root"})}return t})(),fD=new x(""),hD=(()=>{class t extends Ds{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??T(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+si(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+si(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+si(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)($(k_),$(fD,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ts=(()=>{class t{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=QF(aD(lD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+si(r))}normalize(n){return t.stripTrailingSlash(KF(this._basePath,lD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+si(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=si;static joinWithSlash=dD;static stripTrailingSlash=aD;static \u0275fac=function(r){return new(r||t)($(Ds))};static \u0275prov=P({token:t,factory:()=>YF(),providedIn:"root"})}return t})();function YF(){return new Ts($(Ds))}function KF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lD(t){return t.replace(/\/index.html$/,"")}function QF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vt||{}),ye=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ye||{}),Wt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Wt||{}),Ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gD(t){return pn(t)[ke.LocaleId]}function _D(t,e,n){let r=pn(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],o=gn(i,e);return gn(o,n)}function yD(t,e,n){let r=pn(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],o=gn(i,e);return gn(o,n)}function vD(t,e,n){let r=pn(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],o=gn(i,e);return gn(o,n)}function ED(t,e){let r=pn(t)[ke.Eras];return gn(r,e)}function ol(t,e){let n=pn(t);return gn(n[ke.DateFormat],e)}function sl(t,e){let n=pn(t);return gn(n[ke.TimeFormat],e)}function al(t,e){let r=pn(t)[ke.DateTimeFormat];return gn(r,e)}function ll(t,e){let n=pn(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===Ar.CurrencyDecimal)return n[ke.NumberSymbols][Ar.Decimal];if(e===Ar.CurrencyGroup)return n[ke.NumberSymbols][Ar.Group]}return r}function wD(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bD(t){let e=pn(t);return wD(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?P_(r):[P_(r[0]),P_(r[1])])}function CD(t,e,n){let r=pn(t);wD(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],o=gn(i,e)||[];return gn(o,n)||[]}function gn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function P_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var ZF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zd={},JF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ID(t,e,n,r){let i=aV(t);e=Sr(n,e)||e;let s=[],a;for(;e;)if(a=JF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=TD(r,l),i=sV(i,r));let c="";return s.forEach(u=>{let d=iV(u);c+=d?d(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function nf(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Sr(t,e){let n=gD(t);if(Zd[n]??={},Zd[n][e])return Zd[n][e];let r="";switch(e){case"shortDate":r=ol(t,Wt.Short);break;case"mediumDate":r=ol(t,Wt.Medium);break;case"longDate":r=ol(t,Wt.Long);break;case"fullDate":r=ol(t,Wt.Full);break;case"shortTime":r=sl(t,Wt.Short);break;case"mediumTime":r=sl(t,Wt.Medium);break;case"longTime":r=sl(t,Wt.Long);break;case"fullTime":r=sl(t,Wt.Full);break;case"short":let i=Sr(t,"shortTime"),o=Sr(t,"shortDate");r=Jd(al(t,Wt.Short),[i,o]);break;case"medium":let s=Sr(t,"mediumTime"),a=Sr(t,"mediumDate");r=Jd(al(t,Wt.Medium),[s,a]);break;case"long":let l=Sr(t,"longTime"),c=Sr(t,"longDate");r=Jd(al(t,Wt.Long),[l,c]);break;case"full":let u=Sr(t,"fullTime"),d=Sr(t,"fullDate");r=Jd(al(t,Wt.Full),[u,d]);break}return r&&(Zd[n][e]=r),r}function Jd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Pn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function XF(t,e){return Pn(t,3).substring(0,e)}function $e(t,e,n=0,r=!1,i=!1){return function(o,s){let a=eV(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return XF(a,e);let l=ll(s,Ar.MinusSign);return Pn(a,e,l,r,i)}}function eV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function we(t,e,n=vt.Format,r=!1){return function(i,o){return tV(i,o,t,e,n,r)}}function tV(t,e,n,r,i,o){switch(n){case 2:return vD(e,i,r)[t.getMonth()];case 1:return yD(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=bD(e),u=CD(e,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,_]=f,v=s>=h.hours&&a>=h.minutes,w=s<_.hours||s===_.hours&&a<_.minutes;if(h.hours<_.hours){if(v&&w)return!0}else if(v||w)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return _D(e,i,r)[s<12?0:1];case 3:return ED(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Xd(t){return function(e,n,r){let i=-1*r,o=ll(n,Ar.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Pn(s,2,o)+Pn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Pn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Pn(s,2,o)+":"+Pn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Pn(s,2,o)+":"+Pn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var nV=0,tf=4;function rV(t){let e=nf(t,nV,1).getDay();return nf(t,0,1+(e<=tf?tf:tf+7)-e)}function DD(t){let e=t.getDay(),n=e===0?-3:tf-e;return nf(t.getFullYear(),t.getMonth(),t.getDate()+n)}function L_(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=DD(n),s=rV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Pn(i,t,ll(r,Ar.MinusSign))}}function ef(t,e=!1){return function(n,r){let o=DD(n).getFullYear();return Pn(o,t,ll(r,Ar.MinusSign),e)}}var F_={};function iV(t){if(F_[t])return F_[t];let e;switch(t){case"G":case"GG":case"GGG":e=we(3,ye.Abbreviated);break;case"GGGG":e=we(3,ye.Wide);break;case"GGGGG":e=we(3,ye.Narrow);break;case"y":e=$e(0,1,0,!1,!0);break;case"yy":e=$e(0,2,0,!0,!0);break;case"yyy":e=$e(0,3,0,!1,!0);break;case"yyyy":e=$e(0,4,0,!1,!0);break;case"Y":e=ef(1);break;case"YY":e=ef(2,!0);break;case"YYY":e=ef(3);break;case"YYYY":e=ef(4);break;case"M":case"L":e=$e(1,1,1);break;case"MM":case"LL":e=$e(1,2,1);break;case"MMM":e=we(2,ye.Abbreviated);break;case"MMMM":e=we(2,ye.Wide);break;case"MMMMM":e=we(2,ye.Narrow);break;case"LLL":e=we(2,ye.Abbreviated,vt.Standalone);break;case"LLLL":e=we(2,ye.Wide,vt.Standalone);break;case"LLLLL":e=we(2,ye.Narrow,vt.Standalone);break;case"w":e=L_(1);break;case"ww":e=L_(2);break;case"W":e=L_(1,!0);break;case"d":e=$e(2,1);break;case"dd":e=$e(2,2);break;case"c":case"cc":e=$e(7,1);break;case"ccc":e=we(1,ye.Abbreviated,vt.Standalone);break;case"cccc":e=we(1,ye.Wide,vt.Standalone);break;case"ccccc":e=we(1,ye.Narrow,vt.Standalone);break;case"cccccc":e=we(1,ye.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=we(1,ye.Abbreviated);break;case"EEEE":e=we(1,ye.Wide);break;case"EEEEE":e=we(1,ye.Narrow);break;case"EEEEEE":e=we(1,ye.Short);break;case"a":case"aa":case"aaa":e=we(0,ye.Abbreviated);break;case"aaaa":e=we(0,ye.Wide);break;case"aaaaa":e=we(0,ye.Narrow);break;case"b":case"bb":case"bbb":e=we(0,ye.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=we(0,ye.Wide,vt.Standalone,!0);break;case"bbbbb":e=we(0,ye.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=we(0,ye.Abbreviated,vt.Format,!0);break;case"BBBB":e=we(0,ye.Wide,vt.Format,!0);break;case"BBBBB":e=we(0,ye.Narrow,vt.Format,!0);break;case"h":e=$e(3,1,-12);break;case"hh":e=$e(3,2,-12);break;case"H":e=$e(3,1);break;case"HH":e=$e(3,2);break;case"m":e=$e(4,1);break;case"mm":e=$e(4,2);break;case"s":e=$e(5,1);break;case"ss":e=$e(5,2);break;case"S":e=$e(6,1);break;case"SS":e=$e(6,2);break;case"SSS":e=$e(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Xd(0);break;case"ZZZZZ":e=Xd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xd(2);break;default:return null}return F_[t]=e,e}function TD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function oV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function sV(t,e,n){let i=t.getTimezoneOffset(),o=TD(e,i);return oV(t,-1*(o-i))}function aV(t){if(pD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return nf(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(ZF))return lV(r)}let e=new Date(t);if(!pD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function lV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function pD(t){return t instanceof Date&&!isNaN(t.valueOf())}function SD(t,e){return new A(2100,!1)}var cV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,cl=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw SD(t,n);return n.replace(cV,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Cs({name:"titlecase",type:t,pure:!0})}return t})();var uV="mediumDate",AD=new x(""),xD=new x(""),ul=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??uV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ID(n,s,o||this.locale,a)}catch(s){throw SD(t,s.message)}}static \u0275fac=function(r){return new(r||t)(L(Qd,16),L(AD,24),L(xD,24))};static \u0275pipe=Cs({name:"date",type:t,pure:!0})}return t})();function dV(t,e){return{key:t,value:e}}var dl=(()=>{class t{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=mD;transform(n,r=mD){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(dV(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||t)(L(R_,16))};static \u0275pipe=Cs({name:"keyvalue",type:t,pure:!1})}return t})();function mD(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n==null)return 1;if(r==null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}function fl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var V_="browser",MD="server";function rf(t){return t===MD}var oo=class{};var af=new x(""),$_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)($(af),$(Je))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),hl=class{_doc;constructor(e){this._doc=e}manager},of="ng-app-id";function ND(t){for(let e of t)e.remove()}function RD(t,e){let n=e.createElement("style");return n.textContent=t,n}function mV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${of}="${e}"],link[${of}="${e}"]`);if(i)for(let o of i)o.removeAttribute(of),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function U_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var H_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=rf(o),mV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,RD);r?.forEach(i=>this.addUsage(i,this.external,U_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ND(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ND(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,RD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,U_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(of,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)($(et),$(Od),$(c_,8),$(nl))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),j_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},W_=/%COMP%/g;var kD="%COMP%",gV=`_nghost-${kD}`,_V=`_ngcontent-${kD}`,yV=!0,vV=new x("",{providedIn:"root",factory:()=>yV});function EV(t){return _V.replace(W_,t)}function wV(t){return gV.replace(W_,t)}function PD(t,e){return e.map(n=>n.replace(W_,t))}var z_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=rf(a),this.defaultRenderer=new pl(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kn.ShadowDom&&(r=K(C({},r),{encapsulation:Kn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof sf?i.applyToHost(n):i instanceof ml&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Kn.Emulated:o=new sf(l,c,r,this.appId,u,s,a,d,f);break;case Kn.ShadowDom:return new B_(l,c,n,r,s,a,this.nonce,d,f);default:o=new ml(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)($($_),$(H_),$(Od),$(vV),$(et),$(nl),$(Je),$(c_),$(kd,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),pl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(j_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(OD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=j_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=j_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(br.DashCase|br.Important)?e.style.setProperty(n,r,i&br.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=mn().getGlobalEventTarget(this.doc,e),!e))throw new A(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function OD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var B_=class extends pl{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=PD(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=U_(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ml=class extends pl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?PD(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sf=class extends ml{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,l,c,u),this.contentAttr=EV(u),this.hostAttr=wV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var lf=class t extends il{supportsDOMEvents=!0;static makeCurrent(){O_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=bV();return n==null?null:CV(n)}resetBaseElement(){gl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fl(document.cookie,e)}},gl=null;function bV(){return gl=gl||document.querySelector("base"),gl?gl.getAttribute("href"):null}function CV(t){return new URL(t,document.baseURI).pathname}var IV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),FD=(()=>{class t extends hl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)($(et))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),LD=["alt","control","meta","shift"],DV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VD=(()=>{class t extends hl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),LD.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=DV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),LD.forEach(s=>{if(s!==i){let a=TV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)($(et))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function G_(t,e){return oD(C({rootComponent:t},SV(e)))}function SV(t){return{appProviders:[...RV,...t?.providers??[]],platformProviders:NV}}function AV(){lf.makeCurrent()}function xV(){return new wr}function MV(){return o0(document),document}var NV=[{provide:nl,useValue:V_},{provide:l_,useValue:AV,multi:!0},{provide:et,useFactory:MV}];var RV=[{provide:Id,useValue:"root"},{provide:wr,useFactory:xV},{provide:af,useClass:FD,multi:!0,deps:[et]},{provide:af,useClass:VD,multi:!0,deps:[et]},z_,H_,$_,{provide:ps,useExisting:z_},{provide:oo,useClass:IV},[]];var As=class{},_l=class{},ai=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var uf=class{encodeKey(e){return jD(e)}encodeValue(e){return jD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function OV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var kV=/%(\d[a-f0-9])/gi,PV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jD(t){return encodeURIComponent(t).replace(kV,(e,n)=>PV[n]??e)}function cf(t){return`${t}`}var xr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new uf,e.fromString){if(e.fromObject)throw new A(2805,!1);this.map=OV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(cf):[cf(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(cf(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(cf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var df=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function LV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function BD(t){return typeof Blob<"u"&&t instanceof Blob}function $D(t){return typeof FormData<"u"&&t instanceof FormData}function FV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var HD="Content-Type",WD="Accept",zD="X-Request-URL",GD="text/plain",qD="application/json",VV=`${qD}, ${GD}, */*`,Ss=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(LV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ai,this.context??=new df,!this.params)this.params=new xr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UD(this.body)||BD(this.body)||$D(this.body)||FV(this.body)?this.body:this.body instanceof xr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$D(this.body)?null:BD(this.body)?this.body.type||null:UD(this.body)?null:typeof this.body=="string"?GD:this.body instanceof xr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?qD:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},so=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(so||{}),xs=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ai,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ff=class t extends xs{constructor(e={}){super(e)}type=so.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},yl=class t extends xs{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=so.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vl=class extends xs{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},jV=200,UV=204;function q_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var pf=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ss)o=n;else{let l;i.headers instanceof ai?l=i.headers:l=new ai(i.headers);let c;i.params&&(i.params instanceof xr?c=i.params:c=new xr({fromObject:i.params})),o=new Ss(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=B(o).pipe(Kr(l=>this.handler.handle(l)));if(n instanceof Ss||i.observe==="events")return s;let a=s.pipe(Jt(l=>l instanceof yl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(J(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new xr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,q_(i,r))}post(n,r,i={}){return this.request("POST",n,q_(i,r))}put(n,r,i={}){return this.request("PUT",n,q_(i,r))}static \u0275fac=function(r){return new(r||t)($(As))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var BV=new x("");function $V(t,e){return e(t)}function HV(t,e,n){return(r,i)=>Xt(n,()=>e(r,o=>t(o,i)))}var YD=new x(""),KD=new x(""),QD=new x("",{providedIn:"root",factory:()=>!0});var hf=(()=>{class t extends As{backend;injector;chain=null;pendingTasks=T(ri);contributeToStability=T(QD);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(YD),...this.injector.get(KD,[])]));this.chain=r.reduceRight((i,o)=>HV(i,o,this.injector),$V)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe($i(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)($(_l),$(It))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var WV=/^\)\]\}',?\n/,zV=RegExp(`^${zD}:`,"m");function GV(t){return"responseURL"in t&&t.responseURL?t.responseURL:zV.test(t.getAllResponseHeaders())?t.getResponseHeader(zD):null}var Y_=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):B(null)).pipe(jt(()=>new ce(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,w)=>s.setRequestHeader(v,w.join(","))),n.headers.has(WD)||s.setRequestHeader(WD,VV),!n.headers.has(HD)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(HD,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",w=new ai(s.getAllResponseHeaders()),S=GV(s)||n.url;return l=new ff({headers:w,status:s.status,statusText:v,url:S}),l},u=()=>{let{headers:v,status:w,statusText:S,url:H}=c(),k=null;w!==UV&&(k=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=k?jV:0);let U=w>=200&&w<300;if(n.responseType==="json"&&typeof k=="string"){let le=k;k=k.replace(WV,"");try{k=k!==""?JSON.parse(k):null}catch(oe){k=le,U&&(U=!1,k={error:oe,text:k})}}U?(o.next(new yl({body:k,headers:v,status:w,statusText:S,url:H||void 0})),o.complete()):o.error(new vl({error:k,headers:v,status:w,statusText:S,url:H||void 0}))},d=v=>{let{url:w}=c(),S=new vl({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(S)},f=!1,h=v=>{f||(o.next(c()),f=!0);let w={type:so.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),n.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},_=v=>{let w={type:so.UploadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),o.next(w)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:so.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)($(oo))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),ZD=new x(""),qV="XSRF-TOKEN",YV=new x("",{providedIn:"root",factory:()=>qV}),KV="X-XSRF-TOKEN",QV=new x("",{providedIn:"root",factory:()=>KV}),El=class{},ZV=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=fl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)($(et),$(YV))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function JV(t,e){let n=t.url.toLowerCase();if(!T(ZD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=T(El).getToken(),i=T(QV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function K_(...t){let e=[pf,Y_,hf,{provide:As,useExisting:hf},{provide:_l,useFactory:()=>T(BV,{optional:!0})??T(Y_)},{provide:YD,useValue:JV,multi:!0},{provide:ZD,useValue:!0},{provide:El,useClass:ZV}];for(let n of t)e.push(...n.\u0275providers);return Cd(e)}var JD=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)($(et))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var q="primary",kl=Symbol("RouteTitle"),ey=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new ey(t)}function sT(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function t2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rr(t[n],e[n]))return!1;return!0}function rr(t,e){let n=t?ty(t):void 0,r=e?ty(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!aT(t[i],e[i]))return!1;return!0}function ty(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function aT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function lT(t){return t.length>0?t[t.length-1]:null}function ui(t){return Mm(t)?t:io(t)?Ie(Promise.resolve(t)):B(t)}var n2={exact:uT,subset:dT},cT={exact:r2,subset:i2,ignored:()=>!0};function XD(t,e,n){return n2[n.paths](t.root,e.root,n.matrixParams)&&cT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function r2(t,e){return rr(t,e)}function uT(t,e,n){if(!ao(t.segments,e.segments)||!_f(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!uT(t.children[r],e.children[r],n))return!1;return!0}function i2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>aT(t[n],e[n]))}function dT(t,e,n){return fT(t,e,e.segments,n)}function fT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ao(i,n)||e.hasChildren()||!_f(i,n,r))}else if(t.segments.length===n.length){if(!ao(t.segments,n)||!_f(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!dT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ao(t.segments,i)||!_f(t.segments,i,r)||!t.children[q]?!1:fT(t.children[q],e,o,r)}}function _f(t,e,n){return e.every((r,i)=>cT[n](t[i].parameters,r.parameters))}var or=class{root;queryParams;fragment;_queryParamMap;constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return a2.serialize(this)}},pe=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yf(this)}},li=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return pT(this)}};function o2(t,e){return ao(t,e)&&t.every((n,r)=>rr(n.parameters,e[r].parameters))}function ao(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function s2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==q&&(n=n.concat(e(i,r)))}),n}var Pl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>new uo,providedIn:"root"})}return t})(),uo=class{parse(e){let n=new ry(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wl(e.root,!0)}`,r=u2(e.queryParams),i=typeof e.fragment=="string"?`#${l2(e.fragment)}`:"";return`${n}${r}${i}`}},a2=new uo;function yf(t){return t.segments.map(e=>pT(e)).join("/")}function wl(t,e){if(!t.hasChildren())return yf(t);if(e){let n=t.children[q]?wl(t.children[q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${wl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=s2(t,(r,i)=>i===q?[wl(t.children[q],!1)]:[`${i}:${wl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[q]!=null?`${yf(t)}/${n[0]}`:`${yf(t)}/(${n.join("//")})`}}function hT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mf(t){return hT(t).replace(/%3B/gi,";")}function l2(t){return encodeURI(t)}function ny(t){return hT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vf(t){return decodeURIComponent(t)}function eT(t){return vf(t.replace(/\+/g,"%20"))}function pT(t){return`${ny(t.path)}${c2(t.parameters)}`}function c2(t){return Object.entries(t).map(([e,n])=>`;${ny(e)}=${ny(n)}`).join("")}function u2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${mf(n)}=${mf(i)}`).join("&"):`${mf(n)}=${mf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var d2=/^[^\/()?;#]+/;function Q_(t){let e=t.match(d2);return e?e[0]:""}var f2=/^[^\/()?;=#]+/;function h2(t){let e=t.match(f2);return e?e[0]:""}var p2=/^[^=?&#]+/;function m2(t){let e=t.match(p2);return e?e[0]:""}var g2=/^[^&#]+/;function _2(t){let e=t.match(g2);return e?e[0]:""}var ry=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[q]=new pe(e,n)),r}parseSegment(){let e=Q_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new li(vf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=h2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Q_(this.remaining);i&&(r=i,this.capture(r))}e[vf(n)]=vf(r)}parseQueryParam(e){let n=m2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=_2(this.remaining);s&&(r=s,this.capture(r))}let i=eT(n),o=eT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Q_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[q]:new pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function mT(t){return t.segments.length>0?new pe([],{[q]:t}):t}function gT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=gT(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new pe(t.segments,e);return y2(n)}function y2(t){if(t.numberOfChildren===1&&t.children[q]){let e=t.children[q];return new pe(t.segments.concat(e.segments),e.children)}return t}function ci(t){return t instanceof or}function _T(t,e,n=null,r=null){let i=yT(t);return vT(i,e,n,r)}function yT(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=mT(r);return e??i}function vT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Z_(i,i,i,n,r);let o=v2(e);if(o.toRoot())return Z_(i,i,new pe([],{}),n,r);let s=E2(o,i,t),a=s.processChildren?Cl(s.segmentGroup,s.index,o.commands):wT(s.segmentGroup,s.index,o.commands);return Z_(i,s.segmentGroup,a,n,r)}function wf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Dl(t){return typeof t=="object"&&t!=null&&t.outlets}function Z_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=ET(t,e,n);let a=mT(gT(s));return new or(a,o,i)}function ET(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ET(o,e,n)}),new pe(t.segments,r)}var bf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wf(r[0]))throw new A(4003,!1);let i=r.find(Dl);if(i&&i!==lT(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function v2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new bf(n,e,r)}var Rs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function E2(t,e,n){if(t.isAbsolute)return new Rs(e,!0,0);if(!n)return new Rs(e,!1,NaN);if(n.parent===null)return new Rs(n,!0,0);let r=wf(t.commands[0])?0:1,i=n.segments.length-1+r;return w2(n,i,t.numberOfDoubleDots)}function w2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Rs(r,!1,i-o)}function b2(t){return Dl(t[0])?t[0].outlets:{[q]:t}}function wT(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Cl(t,e,n);let r=C2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new pe(t.segments.slice(0,r.pathIndex),{});return o.children[q]=new pe(t.segments.slice(r.pathIndex),t.children),Cl(o,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?iy(t,e,n):r.match?Cl(t,0,i):iy(t,e,n)}function Cl(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=b2(n),i={};if(Object.keys(r).some(o=>o!==q)&&t.children[q]&&t.numberOfChildren===1&&t.children[q].segments.length===0){let o=Cl(t.children[q],e,n);return new pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=wT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new pe(t.segments,i)}}function C2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Dl(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!nT(l,c,s))return o;r+=2}else{if(!nT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Dl(o)){let l=I2(o.outlets);return new pe(r,l)}if(i===0&&wf(n[0])){let l=t.segments[e];r.push(new li(l.path,tT(n[0]))),i++;continue}let s=Dl(o)?o.outlets[q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&wf(a)?(r.push(new li(s,tT(a))),i+=2):(r.push(new li(s,{})),i++)}return new pe(r,{})}function I2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=iy(new pe([],{}),0,r))}),e}function tT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function nT(t,e,n){return t==n.path&&rr(e,n.parameters)}var Ef="imperative",tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tt||{}),nn=class{id;url;constructor(e,n){this.id=e,this.url=n}},fo=class extends nn{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends nn{urlAfterRedirects;type=tt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(zt||{}),Tl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tl||{}),ir=class extends nn{reason;code;type=tt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends nn{reason;code;type=tt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ks=class extends nn{error;target;type=tt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sl=class extends nn{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends nn{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends nn{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Df=class extends nn{urlAfterRedirects;state;type=tt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tf=class extends nn{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class{route;type=tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Af=class{route;type=tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xf=class{snapshot;type=tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mf=class{snapshot;type=tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nf=class{snapshot;type=tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rf=class{snapshot;type=tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Al=class{},Ps=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function D2(t,e){return t.providers&&!t._injector&&(t._injector=zd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ln(t){return t.outlet||q}function T2(t,e){let n=t.filter(r=>Ln(r)===e);return n.push(...t.filter(r=>Ln(r)!==e)),n}function Ll(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Of=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ll(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Vs(this.rootInjector)}},Vs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Of(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)($(It))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=oy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=oy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sy(e,this._root).map(n=>n.value)}};function oy(t,e){if(t===e.value)return e;for(let n of e.children){let r=oy(t,n);if(r)return r}return null}function sy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sy(t,n);if(r.length)return r.unshift(e),r}return[]}var tn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ns(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xl=class extends kf{snapshot;constructor(e,n){super(e),this.snapshot=n,py(this,e)}toString(){return this.snapshot.toString()}};function bT(t){let e=S2(t),n=new ot([new li("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Nr(n,r,o,s,i,q,t,e.root);return a.snapshot=e.root,new xl(new tn(a,[]),e)}function S2(t){let e={},n={},r={},i="",o=new lo([],e,r,i,n,q,t,null,{});return new Ml("",new tn(o,[]))}var Nr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[kl]))??B(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:r={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},i&&IT(i)&&(r.resolve[kl]=i.title),r}var lo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kl]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ml=class extends kf{url;constructor(e,n){super(n),this.url=e,py(this,n)}toString(){return CT(this._root)}};function py(t,e){e.value._routerState=t,e.children.forEach(n=>py(t,n))}function CT(t){let e=t.children.length>0?` { ${t.children.map(CT).join(", ")} } `:"";return`${t.value}${e}`}function J_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rr(e.params,n.params)||t.paramsSubject.next(n.params),t2(e.url,n.url)||t.urlSubject.next(n.url),rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ay(t,e){let n=rr(t.params,e.params)&&o2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ay(t.parent,e.parent))}function IT(t){return typeof t.title=="string"||t.title===null}var DT=new x(""),Fl=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=ZI(void 0);parentContexts=T(Vs);location=T(Wd);changeDetector=T(nr);inputBinder=T(Vl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ly(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Te({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ti]})}return t})(),ly=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Nr?this.route:e===Vs?this.childContexts:e===DT?this.outletData:this.parent.get(e,n)}},Vl=new x(""),my=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ja([r.queryParams,r.params,r.data]).pipe(jt(([o,s,a],l)=>(a=C(C(C({},o),s),a),l===0?B(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=sD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),gy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=$t({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&R(0,"router-outlet")},dependencies:[Fl],encapsulation:2})}return t})();function _y(t){let e=t.children&&t.children.map(_y),n=e?K(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=gy),n}function A2(t,e,n){let r=Nl(t,e._root,n?n._root:void 0);return new xl(r,e)}function Nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=x2(t,e,n);return new tn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nl(t,a)),s}}let r=M2(e.value),i=e.children.map(o=>Nl(t,o));return new tn(r,i)}}function x2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Nl(t,r,i);return Nl(t,r)})}function M2(t){return new Nr(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var Ls=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},TT="ngNavigationCancelingError";function Lf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ST(!1,zt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ST(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[TT]=!0,n.cancellationCode=e,n}function N2(t){return AT(t)&&ci(t.url)}function AT(t){return!!t&&t[TT]}var R2=(t,e,n,r)=>J(i=>(new cy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),J_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(J_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),J_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ff=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Os=class{component;route;constructor(e,n){this.component=e,this.route=n}};function O2(t,e,n){let r=t._root,i=e?e._root:null;return bl(r,i,n,[r.value])}function k2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function js(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!WC(t)?t:e.get(t):r}function bl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ns(e);return t.children.forEach(s=>{P2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Il(a,n.getContext(s),i)),i}function P2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=L2(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ff(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bl(t,e,a?a.children:null,r,i):bl(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Os(a.outlet.component,s))}else s&&Il(e,a,i),i.canActivateChecks.push(new Ff(r)),o.component?bl(t,null,a?a.children:null,r,i):bl(t,null,n,r,i);return i}function L2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(t.url,e.url)||!rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(t,e)||!rr(t.queryParams,e.queryParams);case"paramsChange":default:return!ay(t,e)}}function Il(t,e,n){let r=Ns(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Il(s,e.children.getContext(o),n):Il(s,null,n):Il(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Os(e.outlet.component,i)):n.canDeactivateChecks.push(new Os(null,i)):n.canDeactivateChecks.push(new Os(null,i))}function jl(t){return typeof t=="function"}function F2(t){return typeof t=="boolean"}function V2(t){return t&&jl(t.canLoad)}function j2(t){return t&&jl(t.canActivate)}function U2(t){return t&&jl(t.canActivateChild)}function B2(t){return t&&jl(t.canDeactivate)}function $2(t){return t&&jl(t.canMatch)}function xT(t){return t instanceof _r||t?.name==="EmptyError"}var gf=Symbol("INITIAL_VALUE");function Fs(){return jt(t=>ja(t.map(e=>e.pipe(yr(1),km(gf)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===gf)return gf;if(n===!1||H2(n))return n}return!0}),Jt(e=>e!==gf),yr(1)))}function H2(t){return ci(t)||t instanceof Ls}function W2(t,e){return qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?B(K(C({},n),{guardsResult:!0})):z2(s,r,i,t).pipe(qe(a=>a&&F2(a)?G2(r,o,t,e):B(a)),J(a=>K(C({},n),{guardsResult:a})))})}function z2(t,e,n,r){return Ie(t).pipe(qe(i=>Z2(i.component,i.route,n,e,r)),vr(i=>i!==!0,!0))}function G2(t,e,n,r){return Ie(e).pipe(Kr(i=>rs(Y2(i.route.parent,r),q2(i.route,r),Q2(t,i.path,n),K2(t,i.route,n))),vr(i=>i!==!0,!0))}function q2(t,e){return t!==null&&e&&e(new Nf(t)),B(!0)}function Y2(t,e){return t!==null&&e&&e(new xf(t)),B(!0)}function K2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(o=>Vu(()=>{let s=Ll(e)??n,a=js(o,s),l=j2(a)?a.canActivate(e,t):Xt(s,()=>a(e,t));return ui(l).pipe(vr())}));return B(i).pipe(Fs())}function Q2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>k2(s)).filter(s=>s!==null).map(s=>Vu(()=>{let a=s.guards.map(l=>{let c=Ll(s.node)??n,u=js(l,c),d=U2(u)?u.canActivateChild(r,t):Xt(c,()=>u(r,t));return ui(d).pipe(vr())});return B(a).pipe(Fs())}));return B(o).pipe(Fs())}function Z2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let l=Ll(e)??i,c=js(a,l),u=B2(c)?c.canDeactivate(t,e,n,r):Xt(l,()=>c(t,e,n,r));return ui(u).pipe(vr())});return B(s).pipe(Fs())}function J2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return B(!0);let o=i.map(s=>{let a=js(s,t),l=V2(a)?a.canLoad(e,n):Xt(t,()=>a(e,n));return ui(l)});return B(o).pipe(Fs(),MT(r))}function MT(t){return Dm(st(e=>{if(typeof e!="boolean")throw Lf(t,e)}),J(e=>e===!0))}function X2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return B(!0);let o=i.map(s=>{let a=js(s,t),l=$2(a)?a.canMatch(e,n):Xt(t,()=>a(e,n));return ui(l)});return B(o).pipe(Fs(),MT(r))}var Rl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ol=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ms(t){return ns(new Rl(t))}function ej(t){return ns(new A(4e3,!1))}function tj(t){return ns(ST(!1,zt.GuardRejected))}var uy=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[q])return ej(`${e.redirectTo}`);i=i.children[q]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:_,title:v}=i,w=Xt(o,()=>a({params:h,data:_,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:v}));if(w instanceof or)throw new Ol(w);n=w}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ol(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new or(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nj(t,e,n,r,i){let o=NT(t,e,n);return o.matched?(r=D2(e,r),X2(r,e,n,i).pipe(J(s=>s===!0?o:C({},dy)))):B(o)}function NT(t,e,n){if(e.path==="**")return rj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},dy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sT)(n,t,e);if(!i)return C({},dy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rj(t){return{matched:!0,parameters:t.length>0?lT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rT(t,e,n,r){return n.length>0&&sj(t,n,r)?{segmentGroup:new pe(e,oj(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&aj(t,n,r)?{segmentGroup:new pe(t.segments,ij(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function ij(t,e,n,r){let i={};for(let o of n)if(jf(t,e,o)&&!r[Ln(o)]){let s=new pe([],{});i[Ln(o)]=s}return C(C({},r),i)}function oj(t,e){let n={};n[q]=e;for(let r of t)if(r.path===""&&Ln(r)!==q){let i=new pe([],{});n[Ln(r)]=i}return n}function sj(t,e,n){return n.some(r=>jf(t,e,r)&&Ln(r)!==q)}function aj(t,e,n){return n.some(r=>jf(t,e,r))}function jf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lj(t,e,n){return e.length===0&&!t.children[n]}var fy=class{};function cj(t,e,n,r,i,o,s="emptyOnly"){return new hy(t,e,n,r,i,s,o).recognize()}var uj=31,hy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new uy(this.urlSerializer,this.urlTree)}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=rT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:n,rootSnapshot:r})=>{let i=new tn(r,n),o=new Ml("",i),s=_T(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new lo([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,q,n).pipe(J(r=>({children:r,rootSnapshot:n})),Yr(r=>{if(r instanceof Ol)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(J(s=>s instanceof tn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(Kr(s=>{let a=r.children[s],l=T2(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Om((s,a)=>(s.push(...a),s)),Qr(null),Rm(),qe(s=>{if(s===null)return Ms(r);let a=RT(s);return dj(a),B(a)}))}processSegment(e,n,r,i,o,s,a){return Ie(n).pipe(Kr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Yr(c=>{if(c instanceof Rl)return B(null);throw c}))),vr(l=>!!l),Yr(l=>{if(xT(l))return lj(r,i,o)?B(new fy):Ms(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return Ln(r)!==s&&(s===q||!jf(i,o,r))?Ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=NT(n,i,o);if(!l)return Ms(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uj&&(this.allowRedirects=!1));let h=new lo(o,c,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,iT(i),Ln(i),i.component??i._loadedComponent??null,i,oT(i)),_=Pf(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(_.params),h.data=Object.freeze(_.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(qe(w=>this.processSegment(e,r,n,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=nj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,_=new lo(f,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,iT(r),Ln(r),r.component??r._loadedComponent??null,r,oT(r)),v=Pf(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:S}=rT(n,f,h,c);if(S.length===0&&w.hasChildren())return this.processChildren(u,c,w,_).pipe(J(k=>new tn(_,k)));if(c.length===0&&S.length===0)return B(new tn(_,[]));let H=Ln(r)===o;return this.processSegment(u,c,w,S,H?q:o,!0,_).pipe(J(k=>new tn(_,k instanceof tn?[k]:[])))}))):Ms(n)))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?B({routes:n._loadedRoutes,injector:n._loadedInjector}):J2(e,n,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):tj(n))):B({routes:[],injector:e})}};function dj(t){t.sort((e,n)=>e.value.outlet===q?-1:n.value.outlet===q?1:e.value.outlet.localeCompare(n.value.outlet))}function fj(t){let e=t.value.routeConfig;return e&&e.path===""}function RT(t){let e=[],n=new Set;for(let r of t){if(!fj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=RT(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!n.has(r))}function iT(t){return t.data||{}}function oT(t){return t.resolve||{}}function hj(t,e,n,r,i,o){return qe(s=>cj(t,e,n,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:l})=>K(C({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function pj(t,e){return qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of OT(l))s.add(c);let a=0;return Ie(s).pipe(Kr(l=>o.has(l)?mj(l,r,t,e):(l.data=Pf(l,l.parent,t).resolve,B(void 0))),st(()=>a++),is(1),qe(l=>a===s.size?B(n):Ft))})}function OT(t){let e=t.children.map(n=>OT(n)).flat();return[t,...e]}function mj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!IT(i)&&(o[kl]=i.title),gj(o,t,e,r).pipe(J(s=>(t._resolvedData=s,t.data=Pf(t,t.parent,n).resolve,null)))}function gj(t,e,n,r){let i=ty(t);if(i.length===0)return B({});let o={};return Ie(i).pipe(qe(s=>_j(t[s],e,n,r).pipe(vr(),st(a=>{if(a instanceof Ls)throw Lf(new uo,a);o[s]=a}))),is(1),J(()=>o),Yr(s=>xT(s)?Ft:ns(s)))}function _j(t,e,n,r){let i=Ll(e)??r,o=js(t,i),s=o.resolve?o.resolve(e,n):Xt(i,()=>o(e,n));return ui(s)}function X_(t){return jt(e=>{let n=t(e);return n?Ie(n).pipe(J(()=>e)):B(e)})}var yy=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(n){return n.data[kl]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>T(kT),providedIn:"root"})}return t})(),kT=(()=>{class t extends yy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)($(JD))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ul=new x("",{providedIn:"root",factory:()=>({})}),Bl=new x(""),PT=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=T(iD);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ui(n.loadComponent()).pipe(J(FT),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),$i(()=>{this.componentLoaders.delete(n)})),i=new ts(r,()=>new Ue).pipe(es());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=LT(r,this.compiler,n,this.onLoadEndListener).pipe($i(()=>{this.childrenLoaders.delete(r)})),s=new ts(o,()=>new Ue).pipe(es());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LT(t,e,n,r){return ui(t.loadChildren()).pipe(J(FT),qe(i=>i instanceof x_||Array.isArray(i)?B(i):Ie(e.compileModuleAsync(i))),J(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Bl,[],{optional:!0,self:!0}).flat()),{routes:s.map(_y),injector:o}}))}function yj(t){return t&&typeof t=="object"&&"default"in t}function FT(t){return yj(t)?t.default:t}var Uf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>T(vj),providedIn:"root"})}return t})(),vj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VT=new x("");var jT=new x(""),UT=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortSubject=new Ue;configLoader=T(PT);environmentInjector=T(It);destroyRef=T(Rd);urlSerializer=T(Pl);rootContexts=T(Vs);location=T(Ts);inputBindingEnabled=T(Vl,{optional:!0})!==null;titleStrategy=T(yy);options=T(Ul,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=T(Uf);createViewTransition=T(VT,{optional:!0});navigationErrorHandler=T(jT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Sf(i)),r=i=>this.events.next(new Af(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(K(C({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new ot(null),this.transitions.pipe(Jt(r=>r!==null),jt(r=>{let i=!1,o=!1;return B(r).pipe(jt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",zt.SupersededByNewNavigation),Ft;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?K(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Mr(s.id,this.urlSerializer.serialize(s.rawUrl),c,Tl.IgnoredSameUrlNavigation)),s.resolve(!1),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return B(s).pipe(jt(c=>(this.events.next(new fo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ft:Promise.resolve(c))),hj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=K(C({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Sl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:h}=s,_=new fo(c,this.urlSerializer.serialize(u),d,f);this.events.next(_);let v=bT(this.rootComponentType).snapshot;return this.currentTransition=r=K(C({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:K(C({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,B(r)}else{let c="";return this.events.next(new Mr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Tl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ft}}),st(s=>{let a=new Cf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=r=K(C({},s),{guards:O2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),W2(this.environmentInjector,s=>this.events.next(s)),st(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Lf(this.urlSerializer,s.guardsResult);let a=new If(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Jt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",zt.GuardRejected),!1)),X_(s=>{if(s.guards.canActivateChecks.length!==0)return B(s).pipe(st(a=>{let l=new Df(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),jt(a=>{let l=!1;return B(a).pipe(pj(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",zt.NoDataFromResolver)}}))}),st(a=>{let l=new Tf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),X_(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(st(u=>{l.component=u}),J(()=>{})));for(let u of l.children)c.push(...a(u));return c};return ja(a(s.targetSnapshot.root)).pipe(Qr(null),yr(1))}),X_(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ie(l).pipe(J(()=>r)):B(r)}),J(s=>{let a=A2(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=K(C({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),st(()=>{this.events.next(new Al)}),R2(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),yr(1),st({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Pm(this.transitionAbortSubject.pipe(st(s=>{throw s}))),$i(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",zt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yr(s=>{if(this.destroyed)return r.resolve(!1),Ft;if(o=!0,AT(s))this.events.next(new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),N2(s)?this.events.next(new Ps(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ks(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ls){let{message:c,cancellationCode:u}=Lf(this.urlSerializer,l);this.events.next(new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Ps(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ft}))}))}cancelNavigationTransition(n,r,i){let o=new ir(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ej(t){return t!==Ef}var BT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>T(wj),providedIn:"root"})}return t})(),Vf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},wj=(()=>{class t extends Vf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$T=(()=>{class t{urlSerializer=T(Pl);options=T(Ul,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=T(Ts);urlHandlingStrategy=T(Uf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new or;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof or?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=bT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>T(bj),providedIn:"root"})}return t})(),bj=(()=>{class t extends $T{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof fo?this.updateStateMemento():n instanceof Mr?this.commitTransition(r):n instanceof Sl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Al?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ir&&(n.code===zt.GuardRejected||n.code===zt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ks?this.restoreHistory(r,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=C(C({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=C(C({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vy(t,e){t.events.pipe(Jt(n=>n instanceof sr||n instanceof ir||n instanceof ks||n instanceof Mr),J(n=>n instanceof sr||n instanceof Mr?0:(n instanceof ir?n.code===zt.Redirect||n.code===zt.SupersededByNewNavigation:!1)?2:1),Jt(n=>n!==2),yr(1)).subscribe(()=>{e()})}var Cj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ij={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=T(G0);stateManager=T($T);options=T(Ul,{optional:!0})||{};pendingTasks=T(ri);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=T(UT);urlSerializer=T(Pl);location=T(Ts);urlHandlingStrategy=T(Uf);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=T(BT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=T(Bl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!T(Vl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ir&&r.code!==zt.Redirect&&r.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sr)this.navigated=!0;else if(r instanceof Ps){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ej(i.source)},s);this.scheduleNavigation(a,Ef,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Tj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ef,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=C({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_y),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=yT(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return vT(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ci(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ef,null,r)}navigate(n,r={skipLocationChange:!1}){return Dj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=C({},Cj):r===!1?i=C({},Ij):i=r,ci(n))return XD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return XD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return vy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function Tj(t){return!(t instanceof Al)&&!(t instanceof Ps)}var Us=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ci(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:d0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ci(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(L(rn),L(Nr),i_("tabindex"),L(Dr),L(Xn),L(Ds))};static \u0275dir=Te({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&O("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&er("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Is],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Is],replaceUrl:[2,"replaceUrl","replaceUrl",Is],routerLink:"routerLink"},features:[ti]})}return t})();var Aj=new x("");function Ey(t,...e){return Cd([{provide:Bl,multi:!0,useValue:t},[],{provide:Nr,useFactory:xj,deps:[rn]},{provide:N_,multi:!0,useFactory:Nj},e.map(n=>n.\u0275providers)])}function xj(t){return t.routerState.root}function Mj(t,e){return{\u0275kind:t,\u0275providers:e}}function Nj(){let t=T(Yn);return e=>{let n=t.get(to);if(e!==n.components[0])return;let r=t.get(rn),i=t.get(Rj);t.get(Oj)===1&&r.initialNavigation(),t.get(kj,null,Q.Optional)?.setUpPreloading(),t.get(Aj,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Rj=new x("",{factory:()=>new Ue}),Oj=new x("",{providedIn:"root",factory:()=>1});var kj=new x("");function wy(){return Mj(8,[my,{provide:Vl,useExisting:my}])}var HT=(()=>{class t{constructor(){this.title="payroll_ng"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=$t({type:t,selectors:[["app-root"]],decls:28,vars:0,consts:[[2,"padding","0"],[2,"display","inline"],[1,"navbar","navbar-light","navbar-expand-lg"],[1,"container-fluid",2,"padding","0"],["id","nav_back",1,"col-8","col-lg-10"],["data-bs-toggle","collapse","data-bs-target","#navcol-1",1,"navbar-toggler",2,"margin-bottom","0.5em"],[1,"visually-hidden"],[1,"navbar-toggler-icon"],["id","navcol-1",1,"collapse","navbar-collapse"],["href","#",1,"navbar-brand"],["id","brand-circle"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["routerLink","/dashboard",1,"nav-link"],["routerLink","/admin-login",1,"nav-link"],[1,"col-4","col-lg-2","align-self-start","align-self-md-center",2,"text-align","center","padding-top","1em"],["href","https://paradigmglobalinnovations.com/","target","_blank"],["src","../assets/PGI.png","width","100px","height","auto"]],template:function(r,i){r&1&&(m(0,"section",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"span",6),g(7,"Toggle navigation"),p(),R(8,"span",7),p(),m(9,"div",8)(10,"a",9),g(11,"Payroll NG"),R(12,"div",10),p(),m(13,"ul",11)(14,"li",12)(15,"a",13),g(16,"Home"),p()(),m(17,"li",12)(18,"a",14),g(19,"Dashboard"),p()(),m(20,"li",12)(21,"a",15),g(22,"Admin"),p()()()()(),m(23,"div",16)(24,"a",17),R(25,"img",18),p()()()()(),R(26,"br")(27,"router-outlet"),p())},dependencies:[Us,Fl],styles:[".navbar[_ngcontent-%COMP%]{font-family:sans-serif;padding:0}#nav_back[_ngcontent-%COMP%]{font-size:20px;padding:2em 1.5em;background:#ffde64;border-bottom-right-radius:90px}.navbar-brand[_ngcontent-%COMP%]{display:block;max-width:200px;padding:12px 16px 12px 0;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;font-size:42px;position:relative;z-index:2}#brand-circle[_ngcontent-%COMP%]{height:40px;width:40px;background-color:#fff;border-radius:100%;position:absolute;top:7px;z-index:-1}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 991px){.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-align:left}#brand-circle[_ngcontent-%COMP%]{right:12px}}@media (min-width: 992px){.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-align:center}#brand-circle[_ngcontent-%COMP%]{right:2px}.navbar-brand[_ngcontent-%COMP%]{margin-right:1em}}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{min-width:150px;padding:8px 42px;font-weight:700}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{padding:6px 40px;border:2px solid white;border-radius:20px}"]})}}return t})();var WT={production:!0};var zT=()=>{};var Cy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var D=function(t,e){if(!t)throw ho(e)},ho=function(t){return new Error("Firebase Database ("+Cy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var YT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Iy;let f=o<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Iy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ty=function(t){let e=YT(t);return Hf.encodeByteArray(e,!0)},Hl=function(t){return Ty(t).replace(/\./g,"")},Bs=function(t){try{return Hf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KT(t){return QT(void 0,t)}function QT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Lj(n)||(t[n]=QT(t[n],e[n]));return t}function Lj(t){return t!=="__proto__"}function Fj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Vj=()=>Fj().__FIREBASE_DEFAULTS__,jj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bs(t[1]);return e&&JSON.parse(e)},Sy=()=>{try{return zT()||Vj()||jj()||Uj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ay=t=>{var e,n;return(n=(e=Sy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZT=t=>{let e=Ay(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xy=()=>{var t;return(t=Sy())===null||t===void 0?void 0:t.config},My=t=>{var e;return(e=Sy())===null||e===void 0?void 0:e[`_${t}`]};var Rr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function po(t){return t.endsWith(".cloudworkstations.dev")}function Wf(t){return y(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function JT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hl(JSON.stringify(n)),Hl(JSON.stringify(s)),""].join(".")}var $l={};function Bj(){let t={prod:[],emulator:[]};for(let e of Object.keys($l))$l[e]?t.emulator.push(e):t.prod.push(e);return t}function $j(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var GT=!1;function Hs(t,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||$l[t]===e||$l[t]||GT)return;$l[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=Bj().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{GT=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=$j(r),h=n("text"),_=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),S=n("preprendIcon"),H=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let k=f.element;a(k),u(w,v);let U=c();l(H,S),k.append(H,_,w,U),document.body.appendChild(k)}o?(_.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function XT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zf(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){let t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ar(){return Cy.NODE_CLIENT===!0||Cy.NODE_ADMIN===!0}function qf(){try{return typeof indexedDB=="object"}catch{return!1}}function Yf(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function tS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Hj="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}},on=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Wj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mt(i,a,r)}};function Wj(t,e){return t.replace(zj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var zj=/\{\$([^}]+)}/g;function $s(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}var nS=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=$s(Bs(o[0])||""),n=$s(Bs(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var rS=function(t){let e=nS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iS=function(t){let e=nS(t).claims;return typeof e=="object"&&e.admin===!0};function Fn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zl(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gl(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _n(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(qT(o)&&qT(s)){if(!_n(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function qT(t){return t!==null&&typeof t=="object"}function go(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function zs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var $f=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function oS(t,e){let n=new Dy(t,e);return n.subscribe.bind(n)}var Dy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Gj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=by),i.error===void 0&&(i.error=by),i.complete===void 0&&(i.complete=by);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Gj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function by(){}function ql(t,e){return`${t} failed: ${e} argument `}var sS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yl=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var qj=1e3,Yj=2,Kj=4*60*60*1e3,Qj=.5;function Ny(t,e=qj,n=Yj){let r=e*Math.pow(n,t),i=Math.round(Qj*r*(Math.random()-.5)*2);return Math.min(Kj,r+i)}function Le(t){return t&&t._delegate?t._delegate:t}var nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _o="[DEFAULT]";var Kf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Rr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jj(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zj(t){return t===_o?void 0:t}function Jj(t){return t.instantiationMode==="EAGER"}var Kl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Xj=[],_e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{}),eU={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},tU=_e.INFO,nU={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},rU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=tU,this._logHandler=rU,this._userLogHandler=null,Xj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var iU=(t,e)=>e.some(n=>t instanceof n),aS,lS;function oU(){return aS||(aS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sU(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cS=new WeakMap,Oy=new WeakMap,uS=new WeakMap,Ry=new WeakMap,Py=new WeakMap;function aU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(cr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cS.set(n,t)}).catch(()=>{}),Py.set(e,t),e}function lU(t){if(Oy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Oy.set(t,e)}var ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dS(t){ky=t(ky)}function cU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Qf(this),e,...n);return uS.set(r,e.sort?e.sort():[e]),cr(r)}:sU().includes(t)?function(...e){return t.apply(Qf(this),e),cr(cS.get(this))}:function(...e){return cr(t.apply(Qf(this),e))}}function uU(t){return typeof t=="function"?cU(t):(t instanceof IDBTransaction&&lU(t),iU(t,oU())?new Proxy(t,ky):t)}function cr(t){if(t instanceof IDBRequest)return aU(t);if(Ry.has(t))return Ry.get(t);let e=uU(t);return e!==t&&(Ry.set(t,e),Py.set(e,t)),e}var Qf=t=>Py.get(t);function Zf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=cr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(cr(s.result),l.oldVersion,l.newVersion,cr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var dU=["get","getKey","getAll","getAllKeys","count"],fU=["put","add","delete","clear"],Ly=new Map;function fS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dU.includes(n)))return;let o=function(s,...a){return y(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Ly.set(e,o),o}dS(t=>K(C({},t),{get:(e,n,r)=>fS(e,n)||t.get(e,n,r),has:(e,n)=>!!fS(e,n)||t.has(e,n)}));var Vy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hU(t){let e=t.getComponent();return e?.type==="VERSION"}var jy="@firebase/app",hS="0.12.3";var Or=new lr("@firebase/app"),pU="@firebase/app-compat",mU="@firebase/analytics-compat",gU="@firebase/analytics",_U="@firebase/app-check-compat",yU="@firebase/app-check",vU="@firebase/auth",EU="@firebase/auth-compat",wU="@firebase/database",bU="@firebase/data-connect",CU="@firebase/database-compat",IU="@firebase/functions",DU="@firebase/functions-compat",TU="@firebase/installations",SU="@firebase/installations-compat",AU="@firebase/messaging",xU="@firebase/messaging-compat",MU="@firebase/performance",NU="@firebase/performance-compat",RU="@firebase/remote-config",OU="@firebase/remote-config-compat",kU="@firebase/storage",PU="@firebase/storage-compat",LU="@firebase/firestore",FU="@firebase/vertexai",VU="@firebase/firestore-compat",jU="firebase",UU="11.7.3";var Uy="[DEFAULT]",BU={[jy]:"fire-core",[pU]:"fire-core-compat",[gU]:"fire-analytics",[mU]:"fire-analytics-compat",[yU]:"fire-app-check",[_U]:"fire-app-check-compat",[vU]:"fire-auth",[EU]:"fire-auth-compat",[wU]:"fire-rtdb",[bU]:"fire-data-connect",[CU]:"fire-rtdb-compat",[IU]:"fire-fn",[DU]:"fire-fn-compat",[TU]:"fire-iid",[SU]:"fire-iid-compat",[AU]:"fire-fcm",[xU]:"fire-fcm-compat",[MU]:"fire-perf",[NU]:"fire-perf-compat",[RU]:"fire-rc",[OU]:"fire-rc-compat",[kU]:"fire-gcs",[PU]:"fire-gcs-compat",[LU]:"fire-fst",[VU]:"fire-fst-compat",[FU]:"fire-vertex","fire-js":"fire-js",[jU]:"fire-js-all"};var Jf=new Map,$U=new Map,By=new Map;function pS(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gt(t){let e=t.name;if(By.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;By.set(e,t);for(let n of Jf.values())pS(n,t);for(let n of $U.values())pS(n,t);return!0}function Vn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t==null?!1:t.settings!==void 0}var HU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new on("app","Firebase",HU);var $y=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}};var fi=UU;function zy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Uy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=xy()),!n)throw di.create("no-options");let o=Jf.get(i);if(o){if(_n(n,o.options)&&_n(r,o.config))return o;throw di.create("duplicate-app",{appName:i})}let s=new Kl(i);for(let l of By.values())s.addComponent(l);let a=new $y(n,r,s);return Jf.set(i,a),a}function yo(t=Uy){let e=Jf.get(t);if(!e&&t===Uy&&xy())return zy();if(!e)throw di.create("no-app",{appName:t});return e}function ut(t,e,n){var r;let i=(r=BU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}Gt(new nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WU="firebase-heartbeat-database",zU=1,Ql="firebase-heartbeat-store",Fy=null;function yS(){return Fy||(Fy=Zf(WU,zU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),Fy}function GU(t){return y(this,null,function*(){try{let n=(yield yS()).transaction(Ql),r=yield n.objectStore(Ql).get(vS(t));return yield n.done,r}catch(e){if(e instanceof Mt)Or.warn(e.message);else{let n=di.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}})}function mS(t,e){return y(this,null,function*(){try{let r=(yield yS()).transaction(Ql,"readwrite");yield r.objectStore(Ql).put(e,vS(t)),yield r.done}catch(n){if(n instanceof Mt)Or.warn(n.message);else{let r=di.create("idb-set",{originalErrorMessage:n?.message});Or.warn(r.message)}}})}function vS(t){return`${t.name}!${t.options.appId}`}var qU=1024,YU=30,Hy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YU){let s=QU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Or.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=gS(),{heartbeatsToSend:r,unsentEntries:i}=KU(this._heartbeatsCache.heartbeats),o=Hl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Or.warn(n),""}})}};function gS(){return new Date().toISOString().substring(0,10)}function KU(t,e=qU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_S(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_S(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return qf()?Yf().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _S(t){return Hl(JSON.stringify({version:2,heartbeats:t})).length}function QU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ZU(t){Gt(new nt("platform-logger",e=>new Vy(e),"PRIVATE")),Gt(new nt("heartbeat",e=>new Hy(e),"PRIVATE")),ut(jy,hS,t),ut(jy,hS,"esm2017"),ut("fire-js","")}ZU("");var JU="firebase",XU="11.7.3";ut(JU,XU,"app");var bS="@firebase/installations",Ky="0.6.16";var CS=1e4,IS=`w:${Ky}`,DS="FIS_v2",eB="https://firebaseinstallations.googleapis.com/v1",tB=60*60*1e3,nB="installations",rB="Installations";var iB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Eo=new on(nB,rB,iB);function TS(t){return t instanceof Mt&&t.code.includes("request-failed")}function SS({projectId:t}){return`${eB}/projects/${t}/installations`}function AS(t){return{token:t.token,requestStatus:2,expiresIn:sB(t.expiresIn),creationTime:Date.now()}}function xS(t,e){return y(this,null,function*(){let r=(yield e.json()).error;return Eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function MS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oB(t,{refreshToken:e}){let n=MS(t);return n.append("Authorization",aB(e)),n}function NS(t){return y(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function sB(t){return Number(t.replace("s","000"))}function aB(t){return`${DS} ${t}`}function lB(r,i){return y(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=SS(t),s=MS(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let l={fid:n,authVersion:DS,appId:t.appId,sdkVersion:IS},c={method:"POST",headers:s,body:JSON.stringify(l)},u=yield NS(()=>fetch(o,c));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:AS(d.authToken)}}else throw yield xS("Create Installation",u)})}function RS(t){return new Promise(e=>{setTimeout(e,t)})}function cB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var uB=/^[cdef][\w-]{21}$/,Yy="";function dB(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=fB(t);return uB.test(n)?n:Yy}catch{return Yy}}function fB(t){return cB(t).substr(0,22)}function eh(t){return`${t.appName}!${t.appId}`}var OS=new Map;function kS(t,e){let n=eh(t);PS(n,e),hB(n,e)}function PS(t,e){let n=OS.get(t);if(n)for(let r of n)r(e)}function hB(t,e){let n=pB();n&&n.postMessage({key:t,fid:e}),mB()}var vo=null;function pB(){return!vo&&"BroadcastChannel"in self&&(vo=new BroadcastChannel("[Firebase] FID Change"),vo.onmessage=t=>{PS(t.data.key,t.data.fid)}),vo}function mB(){OS.size===0&&vo&&(vo.close(),vo=null)}var gB="firebase-installations-database",_B=1,wo="firebase-installations-store",Gy=null;function Qy(){return Gy||(Gy=Zf(gB,_B,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wo)}}})),Gy}function Xf(t,e){return y(this,null,function*(){let n=eh(t),i=(yield Qy()).transaction(wo,"readwrite"),o=i.objectStore(wo),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&kS(t,e.fid),e})}function LS(t){return y(this,null,function*(){let e=eh(t),r=(yield Qy()).transaction(wo,"readwrite");yield r.objectStore(wo).delete(e),yield r.done})}function th(t,e){return y(this,null,function*(){let n=eh(t),i=(yield Qy()).transaction(wo,"readwrite"),o=i.objectStore(wo),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&kS(t,a.fid),a})}function Zy(t){return y(this,null,function*(){let e,n=yield th(t.appConfig,r=>{let i=yB(r),o=vB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Yy?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function yB(t){let e=t||{fid:dB(),registrationStatus:0};return FS(e)}function vB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Eo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=EB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wB(t)}:{installationEntry:e}}function EB(t,e){return y(this,null,function*(){try{let n=yield lB(t,e);return Xf(t.appConfig,n)}catch(n){throw TS(n)&&n.customData.serverCode===409?yield LS(t.appConfig):yield Xf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function wB(t){return y(this,null,function*(){let e=yield ES(t.appConfig);for(;e.registrationStatus===1;)yield RS(100),e=yield ES(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Zy(t);return r||n}return e})}function ES(t){return th(t,e=>{if(!e)throw Eo.create("installation-not-found");return FS(e)})}function FS(t){return bB(t)?{fid:t.fid,registrationStatus:0}:t}function bB(t){return t.registrationStatus===1&&t.registrationTime+CS<Date.now()}function CB(r,i){return y(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=IB(t,n),s=oB(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let l={installation:{sdkVersion:IS,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},u=yield NS(()=>fetch(o,c));if(u.ok){let d=yield u.json();return AS(d)}else throw yield xS("Generate Auth Token",u)})}function IB(t,{fid:e}){return`${SS(t)}/${e}/authTokens:generate`}function Jy(t,e=!1){return y(this,null,function*(){let n,r=yield th(t.appConfig,o=>{if(!VS(o))throw Eo.create("not-registered");let s=o.authToken;if(!e&&SB(s))return o;if(s.requestStatus===1)return n=DB(t,e),o;{if(!navigator.onLine)throw Eo.create("app-offline");let a=xB(o);return n=TB(t,a),a}});return n?yield n:r.authToken})}function DB(t,e){return y(this,null,function*(){let n=yield wS(t.appConfig);for(;n.authToken.requestStatus===1;)yield RS(100),n=yield wS(t.appConfig);let r=n.authToken;return r.requestStatus===0?Jy(t,e):r})}function wS(t){return th(t,e=>{if(!VS(e))throw Eo.create("not-registered");let n=e.authToken;return MB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function TB(t,e){return y(this,null,function*(){try{let n=yield CB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Xf(t.appConfig,r),n}catch(n){if(TS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield LS(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Xf(t.appConfig,r)}throw n}})}function VS(t){return t!==void 0&&t.registrationStatus===2}function SB(t){return t.requestStatus===2&&!AB(t)}function AB(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tB}function xB(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function MB(t){return t.requestStatus===1&&t.requestTime+CS<Date.now()}function NB(t){return y(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Zy(e);return r?r.catch(console.error):Jy(e).catch(console.error),n.fid})}function RB(t,e=!1){return y(this,null,function*(){let n=t;return yield OB(n),(yield Jy(n,e)).token})}function OB(t){return y(this,null,function*(){let{registrationPromise:e}=yield Zy(t);e&&(yield e)})}function kB(t){if(!t||!t.options)throw qy("App Configuration");if(!t.name)throw qy("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw qy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qy(t){return Eo.create("missing-app-config-values",{valueName:t})}var jS="installations",PB="installations-internal",LB=t=>{let e=t.getProvider("app").getImmediate(),n=kB(e),r=Vn(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FB=t=>{let e=t.getProvider("app").getImmediate(),n=Vn(e,jS).getImmediate();return{getId:()=>NB(n),getToken:i=>RB(n,i)}};function VB(){Gt(new nt(jS,LB,"PUBLIC")),Gt(new nt(PB,FB,"PRIVATE"))}VB();ut(bS,Ky);ut(bS,Ky,"esm2017");var nh="analytics",jB="firebase_id",UB="origin",BB=60*1e3,$B="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ov="https://www.googletagmanager.com/gtag/js";var Yt=new lr("@firebase/analytics");var HB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new on("analytics","Analytics",HB);function WB(t){if(!t.startsWith(ov)){let e=sn.create("invalid-gtag-resource",{gtagURL:t});return Yt.warn(e.message),""}return t}function GS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function GB(t,e){let n=zB("firebase-js-sdk-policy",{createScriptURL:WB}),r=document.createElement("script"),i=`${ov}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function qB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function YB(t,e,n,r,i,o){return y(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let l=(yield GS(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Yt.error(a)}t("config",i,o)})}function KB(t,e,n,r,i){return y(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield GS(n);for(let l of s){let c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Yt.error(o)}})}function QB(t,e,n,r){function i(o,...s){return y(this,null,function*(){try{if(o==="event"){let[a,l]=s;yield KB(t,e,n,a,l)}else if(o==="config"){let[a,l]=s;yield YB(t,e,n,r,a,l)}else if(o==="consent"){let[a,l]=s;t("consent",a,l)}else if(o==="get"){let[a,l,c]=s;t("get",a,l,c)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){Yt.error(a)}})}return i}function ZB(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=QB(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function JB(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(ov)&&n.src.includes(t))return n;return null}var XB=30,e$=1e3,ev=class{constructor(e={},n=e$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},qS=new ev;function t$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function n$(t){return y(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:t$(r)},o=$B.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let l=yield s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function r$(r){return y(this,arguments,function*(t,e=qS,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw sn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw sn.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new tv;return setTimeout(()=>y(null,null,function*(){l.abort()}),n!==void 0?n:BB),YS({appId:i,apiKey:o,measurementId:s},a,l,e)})}function YS(o,s,a){return y(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=qS){var l;let{appId:c,measurementId:u}=t;try{yield i$(r,e)}catch(d){if(u)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:u};throw d}try{let d=yield n$(t);return i.deleteThrottleMetadata(c),d}catch(d){let f=d;if(!o$(f)){if(i.deleteThrottleMetadata(c),u)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:u};throw d}let h=Number((l=f?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Ny(n,i.intervalMillis,XB):Ny(n,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(c,_),Yt.debug(`Calling attemptFetch again in ${h} millis`),YS(t,_,r,i)}})}function i$(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function o$(t){if(!(t instanceof Mt)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var tv=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var nv;function s$(t,e,n,r,i){return y(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var rv;function a$(t){rv=t}function l$(t){nv=t}function c$(){return y(this,null,function*(){if(qf())try{yield Yf()}catch(t){return Yt.warn(sn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Yt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function u$(t,e,n,r,i,o,s){return y(this,null,function*(){var a;let l=r$(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Yt.error(h)),e.push(l);let c=c$().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([l,c]);JB(o)||GB(o,u.measurementId),rv&&(i("consent","default",rv),a$(void 0)),i("js",new Date);let f=(a=s?.config)!==null&&a!==void 0?a:{};return f[UB]="firebase",f.update=!0,d!=null&&(f[jB]=d),i("config",u.measurementId,f),nv&&(i("set",nv),l$(void 0)),u.measurementId})}var iv=class{constructor(e){this.app=e}_delete(){return delete Zl[this.app.options.appId],Promise.resolve()}},Zl={},US=[],BS={},Xy="dataLayer",d$="gtag",$S,KS,HS=!1;function f$(){let t=[];if(zf()&&t.push("This is a browser extension environment."),tS()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});Yt.warn(n.message)}}function h$(t,e,n){f$();let r=t.options.appId;if(!r)throw sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(Zl[r]!=null)throw sn.create("already-exists",{id:r});if(!HS){qB(Xy);let{wrappedGtag:o,gtagCore:s}=ZB(Zl,US,BS,Xy,d$);KS=o,$S=s,HS=!0}return Zl[r]=u$(t,US,BS,e,$S,Xy,n),new iv(t)}function QS(t=yo()){t=Le(t);let e=Vn(t,nh);return e.isInitialized()?e.getImmediate():p$(t)}function p$(t,e={}){let n=Vn(t,nh);if(n.isInitialized()){let i=n.getImmediate();if(_n(e,n.getOptions()))return i;throw sn.create("already-initialized")}return n.initialize({options:e})}function m$(t,e,n,r){t=Le(t),s$(KS,Zl[t.app.options.appId],e,n,r).catch(i=>Yt.error(i))}var WS="@firebase/analytics",zS="0.10.15";function g$(){Gt(new nt(nh,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return h$(r,i,n)},"PUBLIC")),Gt(new nt("analytics-internal",t,"PRIVATE")),ut(WS,zS),ut(WS,zS,"esm2017");function t(e){try{let n=e.getProvider(nh).getImmediate();return{logEvent:(r,i,o)=>m$(n,r,i,o)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}g$();function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hA=fA,pA=new on("auth","Firebase",fA());var lh=new lr("@firebase/auth");function _$(t,...e){lh.logLevel<=_e.WARN&&lh.warn(`Auth (${fi}): ${t}`,...e)}function ih(t,...e){lh.logLevel<=_e.ERROR&&lh.error(`Auth (${fi}): ${t}`,...e)}function dr(t,...e){throw Mv(t,...e)}function bo(t,...e){return Mv(t,...e)}function mA(t,e,n){let r=Object.assign(Object.assign({},hA()),{[e]:n});return new on("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return mA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pA.create(t,...e)}function j(t,e,...n){if(!t)throw Mv(e,...n)}function kr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function mi(t,e){t||kr(e)}function cv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y$(){return ZS()==="http:"||ZS()==="https:"}function ZS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function v$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y$()||zf()||"connection"in navigator)?navigator.onLine:!0}function E$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Co=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Wl()||Gf()}get(){return v$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Nv(t,e){mi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ch=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var w$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var b$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C$=new Co(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _i(o,s,a,l){return y(this,arguments,function*(t,e,n,r,i={}){return gA(t,i,()=>y(null,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=go(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},c);return XT()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&po(t.emulatorConfig.host)&&(h.credentials="include"),ch.fetch()(yield _A(t,t.config.apiHost,n,d),h)}))})}function gA(t,e,n){return y(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},w$),e);try{let i=new uv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw rh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw rh(t,"user-disabled",s);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mA(t,u,c);dr(t,u)}}catch(i){if(i instanceof Mt)throw i;dr(t,"network-request-failed",{message:String(i)})}})}function sc(o,s,a,l){return y(this,arguments,function*(t,e,n,r,i={}){let c=yield _i(t,e,n,r,i);return"mfaPendingCredential"in c&&dr(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function _A(t,e,n,r){return y(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Nv(t.config,i):`${t.config.apiScheme}://${i}`;return b$.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function I$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var uv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),C$.get())})}};function rh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=bo(t,e,r);return i.customData._tokenResponse=n,i}function JS(t){return t!==void 0&&t.enterprise!==void 0}var dv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return I$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function D$(t,e){return y(this,null,function*(){return _i(t,"GET","/v2/recaptchaConfig",gi(t,e))})}function T$(t,e){return y(this,null,function*(){return _i(t,"POST","/v1/accounts:delete",e)})}function uh(t,e){return y(this,null,function*(){return _i(t,"POST","/v1/accounts:lookup",e)})}function Xl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yA(t,e=!1){return y(this,null,function*(){let n=Le(t),r=yield n.getIdToken(e),i=Rv(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xl(sv(i.auth_time)),issuedAtTime:Xl(sv(i.iat)),expirationTime:Xl(sv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function sv(t){return Number(t)*1e3}function Rv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bs(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XS(t){let e=Rv(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tc(t,e,n=!1){return y(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&S$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function S$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),n)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function dh(t){return y(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield tc(t,uh(n,{idToken:r}));j(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?EA(o.providerUserInfo):[],a=A$(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!a?.length,u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function vA(t){return y(this,null,function*(){let e=Le(t);yield dh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EA(t){return t.map(e=>{var{providerId:n}=e,r=xm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function x$(t,e){return y(this,null,function*(){let n=yield gA(t,{},()=>y(null,null,function*(){let r=go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield _A(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ch.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function M$(t,e){return y(this,null,function*(){return _i(t,"POST","/v2/accounts:revokeToken",gi(t,e))})}var ec=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");let n=XS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return y(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield x$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(j(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(j(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kr("not implemented")}};function hi(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let n=yield tc(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yA(this,e)}reload(){return vA(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield dh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(qt(this.auth.app))return Promise.reject(Lr(this.auth));let e=yield this.getIdToken();return yield tc(this,T$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:U,isAnonymous:le,providerData:oe,stsTokenManager:Ce}=n;j(k&&Ce,e,"internal-error");let ze=ec.fromJSON(this.name,Ce);j(typeof k=="string",e,"internal-error"),hi(d,e.name),hi(f,e.name),j(typeof U=="boolean",e,"internal-error"),j(typeof le=="boolean",e,"internal-error"),hi(h,e.name),hi(_,e.name),hi(v,e.name),hi(w,e.name),hi(S,e.name),hi(H,e.name);let Ae=new t({uid:k,auth:e,email:f,emailVerified:U,displayName:d,isAnonymous:le,photoURL:_,phoneNumber:h,tenantId:v,stsTokenManager:ze,createdAt:S,lastLoginAt:H});return oe&&Array.isArray(oe)&&(Ae.providerData=oe.map(Re=>Object.assign({},Re))),w&&(Ae._redirectEventId=w),Ae}static _fromIdTokenResponse(e,n,r=!1){return y(this,null,function*(){let i=new ec;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return y(this,null,function*(){let i=n.users[0];j(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?EA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ec;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var eA=new Map;function Pr(t){mi(t instanceof Function,"Expected a class definition");let e=eA.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eA.set(t,e),e)}var N$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(n,r){return y(this,null,function*(){this.storage[n]=r})}_get(n){return y(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return y(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),hv=N$;function oh(t,e,n){return`firebase:${t}:${e}:${n}`}var fh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,o),this.fullPersistenceKey=oh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield uh(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(this,null,function*(){if(!n.length)return new t(Pr(hv),e,r);let i=(yield Promise.all(n.map(c=>y(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=i[0]||Pr(hv),s=oh(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(s);if(u){let d;if(typeof u=="string"){let f=yield uh(e,{idToken:u}).catch(()=>{});if(!f)break;d=yield pi._fromGetAccountInfoResponse(e,f,u)}else d=pi._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(c=>y(null,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new t(o,e,r))})}};function tA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(SA(e))return"Webos";if(bA(e))return"Safari";if((e.includes("chrome/")||CA(e))&&!e.includes("edge/"))return"Chrome";if(DA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wA(t=Et()){return/firefox\//i.test(t)}function bA(t=Et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CA(t=Et()){return/crios\//i.test(t)}function IA(t=Et()){return/iemobile/i.test(t)}function DA(t=Et()){return/android/i.test(t)}function TA(t=Et()){return/blackberry/i.test(t)}function SA(t=Et()){return/webos/i.test(t)}function Ov(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R$(t=Et()){var e;return Ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O$(){return eS()&&document.documentMode===10}function AA(t=Et()){return Ov(t)||DA(t)||SA(t)||TA(t)||/windows phone/i.test(t)||IA(t)}function xA(t,e=[]){let n;switch(t){case"Browser":n=tA(Et());break;case"Worker":n=`${tA(Et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var pv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function k$(n){return y(this,arguments,function*(t,e={}){return _i(t,"GET","/v2/passwordPolicy",gi(t,e))})}var P$=6,mv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:P$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hh(this),this.idTokenSubscription=new hh(this),this.beforeStateQueue=new pv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield fh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let n=yield uh(this,{idToken:e}),r=yield pi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var n;if(qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=E$()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(qt(this.app))return Promise.reject(Lr(this));let n=e?Le(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return y(this,null,function*(){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return qt(this.app)?Promise.reject(Lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qt(this.app)?Promise.reject(Lr(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Pr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield k$(this),n=new mv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new on("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield M$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Pr(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=yield fh.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return y(this,null,function*(){var e;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Do(t){return Le(t)}var hh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oS(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Eh={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L$(t){Eh=t}function MA(t){return Eh.loadJS(t)}function F$(){return Eh.recaptchaEnterpriseScript}function V$(){return Eh.gapiScript}function NA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var _v=class{constructor(){this.enterprise=new yv}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},yv=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var j$="recaptcha-enterprise",RA="NO_RECAPTCHA",vv=class{constructor(e){this.type=j$,this.auth=Do(e)}verify(e="verify",n=!1){return y(this,null,function*(){function r(o){return y(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>y(null,null,function*(){D$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new dv(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;JS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(RA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _v().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&JS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=F$();l.length!==0&&(l+=a),MA(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})})}};function Jl(t,e,n,r=!1,i=!1){return y(this,null,function*(){let o=new vv(t),s;if(i)s=RA;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Ev(t,e,n,r,i){return y(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Jl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>y(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Jl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Jl(t,e,n);return r(t,a).catch(l=>y(null,null,function*(){var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield Jl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)}))}else{let a=yield Jl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function OA(t,e){let n=Vn(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(_n(o,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function U$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kA(t,e,n){let r=Do(t);j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=PA(e),{host:s,port:a}=B$(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(_n(c,r.config.emulator)&&_n(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,po(s)?(Hs("Auth",!0),Wf(`${o}//${s}${l}`)):i||$$()}function PA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B$(t){let e=PA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:nA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:nA(s)}}}function nA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function $$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var rc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}};function H$(t,e){return y(this,null,function*(){return _i(t,"POST","/v1/accounts:signUp",e)})}function W$(t,e){return y(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))})}function z$(t,e){return y(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))})}function G$(t,e){return y(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))})}var ic=class t extends rc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,n,"signInWithPassword",W$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return z$(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}})}_linkToIdToken(e,n){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,r,"signUpPassword",H$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return G$(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function av(t,e){return y(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))})}function q$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y$(t){let e=Ws(zs(t)).link,n=e?Ws(zs(e)).deep_link_id:null,r=Ws(zs(t)).deep_link_id;return(r?Ws(zs(r)).link:null)||r||n||e||t}var ph=class t{constructor(e){var n,r,i,o,s,a;let l=Ws(zs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=q$((i=l.mode)!==null&&i!==void 0?i:null);j(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Y$(e);try{return new t(n)}catch{return null}}};var LA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ic._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ph.parseLink(r);return j(i,"argument-error"),ic._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),mh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wv=class extends mh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function K$(t,e){return y(this,null,function*(){return sc(t,"POST","/v1/accounts:signUp",gi(t,e))})}var Gs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(this,null,function*(){let o=yield pi._fromIdTokenResponse(e,r,i),s=rA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function rA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var bv=class t extends Mt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function FA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bv._fromErrorAndOperation(t,o,e,r):o})}function Q$(t,e,n=!1){return y(this,null,function*(){let r=yield tc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Gs._forOperation(t,"link",r)})}function Z$(t,e,n=!1){return y(this,null,function*(){let{auth:r}=t;if(qt(r.app))return Promise.reject(Lr(r));let i="reauthenticate";try{let o=yield tc(t,FA(r,i,e,t),n);j(o.idToken,r,"internal-error");let s=Rv(o.idToken);j(s,r,"internal-error");let{sub:a}=s;return j(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&dr(r,"user-mismatch"),o}})}function VA(t,e,n=!1){return y(this,null,function*(){if(qt(t.app))return Promise.reject(Lr(t));let r="signIn",i=yield FA(t,r,e),o=yield Gs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function jA(t,e){return y(this,null,function*(){return VA(Do(t),e)})}function UA(t){return y(this,null,function*(){let e=Do(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function kv(t,e,n){return y(this,null,function*(){if(qt(t.app))return Promise.reject(Lr(t));let r=Do(t),s=yield Ev(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&UA(t),l}),a=yield Gs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Pv(t,e,n){return qt(t.app)?Promise.reject(Lr(t)):jA(Le(t),LA.credential(e,n)).catch(r=>y(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&UA(t),r}))}function BA(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function $A(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function Lv(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function Fv(t){return Le(t).signOut()}var gh="__sak";var _h=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var J$=1e3,X$=10,eH=(()=>{class t extends _h{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);O$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,X$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},J$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return y(this,null,function*(){yield Vi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return y(this,null,function*(){let r=yield Vi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return y(this,null,function*(){yield Vi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),HA=eH;var tH=(()=>{class t extends _h{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Vv=tH;function nH(t){return Promise.all(t.map(e=>y(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var rH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return y(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(u=>y(this,null,function*(){return u(r.origin,s)})),c=yield nH(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function WA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Cv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let c=WA("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ur(){return window}function iH(t){ur().location.href=t}function zA(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}function oH(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aH(){return zA()?self:null}var GA="firebaseLocalStorageDb",lH=1,yh="firebaseLocalStorage",qA="fbase_key",Io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function wh(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function cH(){let t=indexedDB.deleteDatabase(GA);return new Io(t).toPromise()}function Iv(){let t=indexedDB.open(GA,lH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(yh,{keyPath:qA})}catch(i){n(i)}}),t.addEventListener("success",()=>y(null,null,function*(){let r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),yield cH(),e(yield Iv()))}))})}function iA(t,e,n){return y(this,null,function*(){let r=wh(t,!0).put({[qA]:e,value:n});return new Io(r).toPromise()})}function uH(t,e){return y(this,null,function*(){let n=wh(t,!1).get(e),r=yield new Io(n).toPromise();return r===void 0?null:r.value})}function oA(t,e){let n=wh(t,!0).delete(e);return new Io(n).toPromise()}var dH=800,fH=3,hH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield Iv(),this.db)})}_withRetries(n){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>fH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return zA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=rH._getInstance(aH()),this.receiver._subscribe("keyChanged",(n,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var n,r;if(this.activeServiceWorker=yield oH(),!this.activeServiceWorker)return;this.sender=new Cv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Iv();return yield iA(n,gh,"1"),yield oA(n,gh),!0}catch{}return!1})}_withPendingWrite(n){return y(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>iA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return y(this,null,function*(){let r=yield this._withRetries(i=>uH(i,n));return this.localCache[n]=r,r})}_remove(n){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>oA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return y(this,null,function*(){let n=yield this._withRetries(o=>{let s=wh(o,!1).getAll();return new Io(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),dH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),YA=hH;var Qne=NA("rcb"),Zne=new Co(3e4,6e4);function pH(t,e){return e?Pr(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oc=class extends rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return av(e,this._buildIdpRequest())}_linkToIdToken(e,n){return av(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return av(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function mH(t){return VA(t.auth,new oc(t),t.bypassAuthState)}function gH(t){let{auth:e,user:n}=t;return j(n,e,"internal-error"),Z$(n,new oc(t),t.bypassAuthState)}function _H(t){return y(this,null,function*(){let{auth:e,user:n}=t;return j(n,e,"internal-error"),Q$(n,new oc(t),t.bypassAuthState)})}var Dv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mH;case"linkViaPopup":case"linkViaRedirect":return _H;case"reauthViaPopup":case"reauthViaRedirect":return gH;default:dr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jne=new Co(2e3,1e4);var yH="pendingRedirect",sh=new Map,Tv=class t extends Dv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=sh.get(this.auth._key());if(!e){try{let r=(yield vH(this.resolver,this.auth))?yield Vi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return Vi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Vi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function vH(t,e){return y(this,null,function*(){let n=bH(e),r=wH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function EH(t,e){sh.set(t._key(),e)}function wH(t){return Pr(t._redirectPersistence)}function bH(t){return oh(yH,t.config.apiKey,t.name)}function CH(t,e,n=!1){return y(this,null,function*(){if(qt(t.app))return Promise.reject(Lr(t));let r=Do(t),i=pH(r,e),s=yield new Tv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var IH=10*60*1e3,Sv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IH&&this.cachedEventUids.clear(),this.cachedEventUids.has(sA(e))}saveEventToCache(e){this.cachedEventUids.add(sA(e)),this.lastProcessedEventTime=Date.now()}};function sA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function DH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(t);default:return!1}}function TH(n){return y(this,arguments,function*(t,e={}){return _i(t,"GET","/v1/projects",e)})}var SH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AH=/^https?/;function xH(t){return y(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield TH(t);for(let n of e)try{if(MH(n))return}catch{}dr(t,"unauthorized-domain")})}function MH(t){let e=cv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!AH.test(n))return!1;if(SH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var NH=new Co(3e4,6e4);function aA(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RH(t){return new Promise((e,n)=>{var r,i,o;function s(){aA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aA(),n(bo(t,"network-request-failed"))},timeout:NH.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ur().gapi)===null||o===void 0)&&o.load)s();else{let a=NA("iframefcb");return ur()[a]=()=>{gapi.load?s():n(bo(t,"network-request-failed"))},MA(`${V$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ah=null,e})}var ah=null;function OH(t){return ah=ah||RH(t),ah}var kH=new Co(5e3,15e3),PH="__/auth/iframe",LH="emulator/auth/iframe",FH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jH(t){let e=t.config;j(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Nv(e,LH):`https://${t.config.authDomain}/${PH}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=VH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${go(r).slice(1)}`}function UH(t){return y(this,null,function*(){let e=yield OH(t),n=ur().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:jH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FH,dontclear:!0},r=>new Promise((i,o)=>y(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=bo(t,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},kH.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var BH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$H=500,HH=600,WH="_blank",zH="http://localhost",vh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GH(t,e,n,r=$H,i=HH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},BH),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Et().toLowerCase();n&&(a=CA(c)?WH:n),wA(c)&&(e=e||zH,l.scrollbars="yes");let u=Object.entries(l).reduce((f,[h,_])=>`${f}${h}=${_},`,"");if(R$(c)&&a!=="_self")return qH(e||"",a),new vh(null);let d=window.open(e||"",a,u);j(d,t,"popup-blocked");try{d.focus()}catch{}return new vh(d)}function qH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var YH="__/auth/handler",KH="emulator/auth/handler",QH=encodeURIComponent("fac");function lA(t,e,n,r,i,o){return y(this,null,function*(){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof mh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",zl(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof wv){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${QH}=${encodeURIComponent(l)}`:"";return`${ZH(t)}?${go(a).slice(1)}${c}`})}function ZH({config:t}){return t.emulator?Nv(t,KH):`https://${t.authDomain}/${YH}`}var lv="webStorageSupport",Av=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vv,this._completeRedirectFn=CH,this._overrideRedirectResult=EH}_openPopup(e,n,r,i){return y(this,null,function*(){var o;mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield lA(e,n,r,cv(),i);return GH(e,s,WA())})}_openRedirect(e,n,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield lA(e,n,r,cv(),i);return iH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(mi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return y(this,null,function*(){let n=yield UH(e),r=new Sv(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lv,{type:lv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[lv];s!==void 0&&n(!!s),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AA()||bA()||Ov()}},QA=Av;var cA="@firebase/auth",uA="1.10.4";var xv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XH(t){Gt(new nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;j(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(t)},c=new gv(r,i,o,l);return U$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gt(new nt("auth-internal",e=>{let n=Do(e.getProvider("auth").getImmediate());return(r=>new xv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(cA,uA,JH(t)),ut(cA,uA,"esm2017")}var e3=5*60,t3=My("authIdTokenMaxAge")||e3,dA=null,n3=t=>e=>y(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t3)return;let i=n?.token;dA!==i&&(dA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function jv(t=yo()){let e=Vn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=OA(t,{popupRedirectResolver:QA,persistence:[YA,HA,Vv]}),r=My("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=n3(o.toString());$A(n,s,()=>s(n.currentUser)),BA(n,a=>s(a))}}let i=Ay("auth");return i?kA(n,`http://${i}`):Hs("Auth",!1),n}function r3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=bo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",r3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XH("Browser");var i3={apiKey:"AIzaSyB1JMFUXvpmYSemtVeI-KnFs6bD5klJI-4",authDomain:"payroll-ng.firebaseapp.com",projectId:"payroll-ng",storageBucket:"payroll-ng.appspot.com",messagingSenderId:"720456822907",appId:"1:720456822907:web:a1d41f8de27d1663f032de",measurementId:"G-WMMM499XBZ",databaseURL:"https://payroll-ng-default-rtdb.europe-west1.firebasedatabase.app"},ZA=zy(i3),wie=QS(ZA),o3=jv();function s3(t,e){Pv(jn,t,e).then(n=>{let r=n.user}).catch(n=>{let r=n.code,i=n.message;alert(i)})}var Fr=ZA;var jn=o3,JA=s3,bh=Lv,ac=Fv,XA=kv,Ch=function(t,e,n){let r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let i="expires="+r.toUTCString();document.cookie=t+"="+e+";"+i+";path=/"},Ih=function(t){let e=t+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)==" ";)i=i.substring(1);if(i.indexOf(e)==0)return i.substring(e.length,i.length)}return""};var ex="@firebase/database",tx="1.0.17";var $E="";function a3(t){$E=t}var qv=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$s(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Yv=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Fn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Ox=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qv(e)}}catch{}return new Yv},So=Ox("localStorage"),Kv=Ox("sessionStorage");var Ks=new lr("@firebase/database"),l3=function(){let t=1;return function(){return t++}}(),kx=function(t){let e=sS(t),n=new $f;n.update(e);let r=n.digest();return Hf.encodeByteArray(r)},Sc=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Sc.apply(null,r):typeof r=="object"?e+=He(r):e+=r,e+=" "}return e},Ao=null,nx=!0,c3=function(t,e){D(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ks.logLevel=_e.VERBOSE,Ao=Ks.log.bind(Ks),e&&Kv.set("logging_enabled",!0)):typeof t=="function"?Ao=t:(Ao=null,Kv.remove("logging_enabled"))},dt=function(...t){if(nx===!0&&(nx=!1,Ao===null&&Kv.get("logging_enabled")===!0&&c3(!0)),Ao){let e=Sc.apply(null,t);Ao(e)}},Ac=function(t){return function(...e){dt(t,...e)}},Qv=function(...t){let e="FIREBASE INTERNAL ERROR: "+Sc(...t);Ks.error(e)},Vr=function(...t){let e=`FIREBASE FATAL ERROR: ${Sc(...t)}`;throw Ks.error(e),new Error(e)},Rt=function(...t){let e="FIREBASE WARNING: "+Sc(...t);Ks.warn(e)},u3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},HE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},d3=function(t){if(ar()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zs="[MIN_NAME]",xo="[MAX_NAME]",No=function(t,e){if(t===e)return 0;if(t===Zs||e===xo)return-1;if(e===Zs||t===xo)return 1;{let n=rx(t),r=rx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},f3=function(t,e){return t===e?0:t<e?-1:1},lc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},WE=function(t){if(typeof t!="object"||t===null)return He(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=He(e[r]),n+=":",n+=WE(t[e[r]]);return n+="}",n},Px=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ft(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Lx=function(t){D(!HE(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},h3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},p3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function m3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var g3=new RegExp("^-?(0*)\\d{1,10}$"),_3=-2147483648,y3=2147483647,rx=function(t){if(g3.test(t)){let e=Number(t);if(e>=_3&&e<=y3)return e}return null},oa=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},v3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Zv=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Jv=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}},pc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Th="5",Fx="v",Vx="s",jx="r",Ux="f",Bx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$x="ls",Hx="p",Xv="ac",Wx="websocket",zx="long_polling";var Sh=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=So.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&So.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function E3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Gx(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===Wx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===zx)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);E3(t)&&(n.ns=t.namespace);let i=[];return ft(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var eE=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Fn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return KT(this.counters_)}};var Uv={},Bv={};function zE(t){let e=t.toString();return Uv[e]||(Uv[e]=new eE),Uv[e]}function w3(t,e){let n=t.toString();return Bv[n]||(Bv[n]=e()),Bv[n]}var tE=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&oa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var ix="start",b3="close",C3="pLPCommand",I3="pRTLPCB",qx="id",Yx="pw",Kx="ser",D3="cb",T3="seg",S3="ts",A3="d",x3="dframe",Qx=1870,Zx=30,M3=Qx-Zx,N3=25e3,R3=3e4,nE=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ac(e),this.stats_=zE(n),this.urlFn=l=>(this.appCheckToken&&(l[Xv]=this.appCheckToken),Gx(n,zx,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R3)),d3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rE((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===ix)this.id=a,this.password=l;else if(s===b3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[ix]="t",r[Kx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[D3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Fx]=Th,this.transportSessionId&&(r[Vx]=this.transportSessionId),this.lastSessionId&&(r[$x]=this.lastSessionId),this.applicationId&&(r[Hx]=this.applicationId),this.appCheckToken&&(r[Xv]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bx.test(location.hostname)&&(r[jx]=Ux);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return ar()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!h3()&&!p3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Ty(n),i=Px(r,M3);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(ar())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[x3]="t",r[qx]=e,r[Yx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},rE=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ar())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=l3(),window[C3+this.uniqueCallbackIdentifier]=e,window[I3+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dt("frame writing exception"),a.stack&&dt(a.stack),dt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[qx]=this.myID,e[Yx]=this.myPW,e[Kx]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zx+r.length<=Qx;){let s=this.pendingSegs.shift();r=r+"&"+T3+i+"="+s.seg+"&"+S3+i+"="+s.ts+"&"+A3+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(N3)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){ar()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var O3=16384,k3=45e3,Ah=null;typeof MozWebSocket<"u"?Ah=MozWebSocket:typeof WebSocket<"u"&&(Ah=WebSocket);var cc=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ac(this.connId),this.stats_=zE(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[Fx]=Th,!ar()&&typeof location<"u"&&location.hostname&&Bx.test(location.hostname)&&(a[jx]=Ux),r&&(a[Vx]=r),i&&(a[$x]=i),o&&(a[Xv]=o),s&&(a[Hx]=s),Gx(n,Wx,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,So.set("previous_websocket_failure",!0);try{let i;if(ar()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Th}/${$E}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Ah(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Ah!==null&&!t.forceDisallow_}static previouslyFailed(){return So.isInMemoryStorage||So.get("previous_websocket_failure")===!0}markConnectionHealthy(){So.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=$s(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=He(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Px(r,O3);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(k3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),P3=(()=>{class t{static get ALL_TRANSPORTS(){return[nE,cc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=cc&&cc.isAvailable(),i=r&&!cc.previouslyFailed();if(n.webSocketOnly&&(r||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[cc];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),L3=6e4,F3=5e3,V3=10*1024,j3=100*1024,$v="t",ox="d",U3="s",sx="r",B3="e",ax="o",lx="a",cx="n",ux="p",$3="h",iE=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ac("c:"+this.id+":"),this.transportManager_=new P3(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=hc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>j3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>V3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($v in e){let n=e[$v];n===lx?this.upgradeIfSecondaryHealthy_():n===sx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ax&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=lc("t",e),r=lc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ux,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=lc("t",e),r=lc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=lc($v,e);if(ox in e){let r=e[ox];if(n===$3){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===cx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===U3?this.onConnectionShutdown_(r):n===sx?this.onReset_(r):n===B3?Qv("Server Error: "+r):n===ax?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Th!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ux,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(So.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var xh=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Mh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Nh=class t extends Mh{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var dx=32,fx=768,me=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function fe(){return new me("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wi(t){return t.pieces_.length-t.pieceNum_}function be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new me(t.pieces_,e)}function GE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function H3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function yc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jx(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new me(e,0)}function xe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new me(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function Nt(t,e){let n=te(t),r=te(e);if(n===null)return e;if(n===r)return Nt(be(t),be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function W3(t,e){let n=yc(t,0),r=yc(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=No(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function qE(t,e){if(wi(t)!==wi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(wi(t)>wi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var oE=class{constructor(e,n){this.errorPrefix_=n,this.parts_=yc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yl(this.parts_[r]);Xx(this)}};function z3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yl(e),Xx(t)}function G3(t){let e=t.parts_.pop();t.byteLength_-=Yl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Xx(t){if(t.byteLength_>fx)throw new Error(t.errorPrefix_+"has a key path longer than "+fx+" bytes ("+t.byteLength_+").");if(t.parts_.length>dx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dx+") or object contains a cycle "+To(t))}function To(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var sE=class t extends Mh{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}};var uc=1e3,q3=60*5*1e3,hx=30*1e3,Y3=1.3,K3=3e4,Q3="server_kill",px=3,YE=(()=>{class t extends xh{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Ac("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uc,this.maxReconnectDelay_=q3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ar())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sE.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Nh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(He(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Rr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Fn(n,"w")){let i=mo(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||iS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hx)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=rS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+He(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Qv("Unrecognized action received from server: "+He(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>K3&&(this.reconnectDelay_=uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Y3)}this.onConnectStatus_(!1)}establishConnection_(){return y(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){D(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new iE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{Rt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Q3)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Rt(f),c())}}})}interrupt(n){dt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],zl(this.interruptReasons_)&&(this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>WE(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new me(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){dt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=px&&(this.reconnectDelay_=hx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){dt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=px&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";ar()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+$E.replace(/\./g,"-")]=1,Wl()?n["framework.cordova"]=1:Gf()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Nh.getInstance().currentlyOnline();return zl(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ne=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Js=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ne(Zs,e),i=new ne(Zs,n);return this.compare(r,i)!==0}minPost(){return ne.MIN}};var Dh,Rh=class extends Js{static get __EMPTY_NODE(){return Dh}static set __EMPTY_NODE(e){Dh=e}compare(e,n){return No(e.name,n.name)}isDefinedOn(e){throw ho("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(xo,Dh)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,Dh)}toString(){return".key"}},Qs=new Rh;var Ys=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Un=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??vn.EMPTY_NODE,this.right=s??vn.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return vn.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),aE=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},vn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ys(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ys(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ys(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ys(this.root_,null,this.comparator_,!0,e)}};vn.EMPTY_NODE=new aE;function Z3(t,e){return No(t.name,e.name)}function KE(t,e){return No(t,e)}var lE;function J3(t){lE=t}var eM=function(t){return typeof t=="number"?"number:"+Lx(t):"string:"+t},tM=function(t){if(t.isLeafNode()){let e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fn(e,".sv"),"Priority must be a string or number.")}else D(t===lE||t.isEmpty(),"priority of unexpected type.");D(t===lE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var mx,Xs=(()=>{class t{static set __childrenNodeConstructor(n){mx=n}static get __childrenNodeConstructor(){return mx}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tM(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return re(n)?this:te(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=te(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(D(i!==".priority"||wi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+eM(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Lx(this.value_):n+=this.value_,this.lazyHash_=kx(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return D(o>=0,"Unknown leaf type: "+r),D(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),nM,rM;function X3(t){nM=t}function eW(t){rM=t}var cE=class extends Js{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?No(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(xo,new Xs("[PRIORITY-POST]",rM))}makePost(e,n){let r=nM(e);return new ne(n,new Xs("[PRIORITY-POST]",r))}toString(){return".priority"}},Me=new cE;var tW=Math.log(2),uE=class{constructor(e){let n=o=>parseInt(Math.log(o)/tW,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Oh=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Un(f,d.node,Un.BLACK,null,null);{let h=parseInt(u/2,10)+l,_=i(l,h),v=i(h+1,c);return d=t[h],f=n?n(d):d,new Un(f,d.node,Un.BLACK,_,v)}},o=function(l){let c=null,u=null,d=t.length,f=function(_,v){let w=d-_,S=d;d-=_;let H=i(w+1,S),k=t[w],U=n?n(k):k;h(new Un(U,k.node,v,null,H))},h=function(_){c?(c.left=_,c=_):(u=_,c=_)};for(let _=0;_<l.count;++_){let v=l.nextBitIsOne(),w=Math.pow(2,l.count-(_+1));v?f(w,Un.BLACK):(f(w,Un.BLACK),f(w,Un.RED))}return u},s=new uE(t.length),a=o(s);return new vn(r||e,a)};var Hv,qs={},ea=class t{static get Default(){return D(qs&&Me,"ChildrenNode.ts has not been loaded"),Hv=Hv||new t({".priority":qs},{".priority":Me}),Hv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=mo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vn?n:null}hasIndex(e){return Fn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(ne.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Oh(r,e.getCompare()):a=qs;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Gl(this.indexes_,(i,o)=>{let s=mo(this.indexSet_,o);if(D(s,"Missing index implementation for "+o),i===qs)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(ne.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Oh(a,s.getCompare())}else return qs;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new ne(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Gl(this.indexes_,i=>{if(i===qs)return i;{let o=n.get(e.name);return o?i.remove(new ne(e.name,o)):i}});return new t(r,this.indexSet_)}};var dc,Y=(()=>{class t{static get EMPTY_NODE(){return dc||(dc=new t(new vn(KE),null,ea.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tM(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?dc:r}}getChild(n){let r=te(n);return r===null?this:this.getImmediateChild(r).getChild(be(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ne(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?dc:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=te(n);if(i===null)return r;{D(te(n)!==".priority"||wi(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(be(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Me,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+eM(this.getPriority().val())+":"),this.forEachChild(Me,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":kx(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new ne(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ne(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ne(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,ne.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,ne.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===xc?-1:0}withIndex(n){if(n===Qs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Qs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Me),o=r.getIterator(Me),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Qs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),dE=class extends Y{constructor(){super(new vn(KE),Y.EMPTY_NODE,ea.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Y.EMPTY_NODE}isEmpty(){return!1}},xc=new dE;Object.defineProperties(ne,{MIN:{value:new ne(Zs,Y.EMPTY_NODE)},MAX:{value:new ne(xo,xc)}});Rh.__EMPTY_NODE=Y.EMPTY_NODE;Xs.__childrenNodeConstructor=Y;J3(xc);eW(xc);var nW=!0;function Qe(t,e=null){if(t===null)return Y.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Xs(n,Qe(e))}if(!(t instanceof Array)&&nW){let n=[],r=!1;if(ft(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ne(s,l)))}}),n.length===0)return Y.EMPTY_NODE;let o=Oh(n,Z3,s=>s.name,KE);if(r){let s=Oh(n,Me.getCompare());return new Y(o,Qe(e),new ea({".priority":s},{".priority":Me}))}else return new Y(o,Qe(e),ea.Default)}else{let n=Y.EMPTY_NODE;return ft(t,(r,i)=>{if(Fn(t,r)&&r.substring(0,1)!=="."){let o=Qe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Qe(e))}}X3(Qe);var fE=class extends Js{constructor(e){super(),this.indexPath_=e,D(!re(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?No(e.name,n.name):o}makePost(e,n){let r=Qe(e),i=Y.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,i)}maxPost(){let e=Y.EMPTY_NODE.updateChild(this.indexPath_,xc);return new ne(xo,e)}toString(){return yc(this.indexPath_,0).join("/")}};var hE=class extends Js{compare(e,n){let r=e.node.compareTo(n.node);return r===0?No(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){let r=Qe(e);return new ne(n,r)}toString(){return".value"}},rW=new hE;function iM(t){return{type:"value",snapshotNode:t}}function ta(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ec(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var wc=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(vc(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ta(n,r)):s.trackChildChange(Ec(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Me,(i,o)=>{n.hasChild(i)||r.trackChildChange(vc(i,o))}),n.isLeafNode()||n.forEachChild(Me,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ec(i,o,s))}else r.trackChildChange(ta(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Y.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var kh=class t{constructor(e){this.indexedFilter_=new wc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new ne(n,r))||(r=Y.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Y.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Y.EMPTY_NODE);let o=this;return n.forEachChild(Me,(s,a)=>{o.matches(new ne(s,a))||(i=i.updateImmediateChild(s,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var pE=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new kh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new ne(n,r))||(r=Y.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Y.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Y.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;D(a.numChildren()===this.limit_,"");let l=new ne(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ec(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(vc(n,d));let v=a.updateImmediateChild(n,Y.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ta(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(vc(c.name,c.node)),o.trackChildChange(ta(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Y.EMPTY_NODE)):e}};var mE=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function oW(t){return t.loadsAllData()?new wc(t.getIndex()):t.hasLimit()?new pE(t):new kh(t)}function gx(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===rW?n="$value":t.index_===Qs?n="$key":(D(t.index_ instanceof fE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=He(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+He(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=He(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _x(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}var gE=class t extends xh{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ac("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=gx(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),mo(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=gx(e._queryParams),r=e._path.toString(),i=new Rr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+go(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$s(a.responseText)}catch{Rt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Rt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var _E=class{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ph(){return{value:null,children:new Map}}function oM(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=te(e);t.children.has(r)||t.children.set(r,Ph());let i=t.children.get(r);e=be(e),oM(i,e,n)}}function yE(t,e,n){t.value!==null?n(e,t.value):sW(t,(r,i)=>{let o=new me(e.toString()+"/"+r);yE(i,o,n)})}function sW(t,e){t.children.forEach((n,r)=>{e(r,n)})}var vE=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ft(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var yx=10*1e3,aW=30*1e3,lW=5*60*1e3,EE=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vE(e);let r=yx+(aW-yx)*Math.random();hc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ft(e,(i,o)=>{o>0&&Fn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),hc(this.reportStats_.bind(this),Math.floor(Math.random()*2*lW))}};var fr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(fr||{});function QE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ZE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function JE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var wE=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fr.ACK_USER_WRITE,this.source=QE()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new me(e));return new t(fe(),n,this.revert)}}else return D(te(this.path)===e,"operationForChild called for unrelated child."),new t(be(this.path),this.affectedTree,this.revert)}};var Lh=class t{constructor(e,n){this.source=e,this.path=n,this.type=fr.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new t(this.source,fe()):new t(this.source,be(this.path))}};var na=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fr.OVERWRITE}operationForChild(e){return re(this.path)?new t(this.source,fe(),this.snap.getImmediateChild(e)):new t(this.source,be(this.path),this.snap)}};var bc=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fr.MERGE}operationForChild(e){if(re(this.path)){let n=this.children.subtree(new me(e));return n.isEmpty()?null:n.value?new na(this.source,fe(),n.value):new t(this.source,fe(),n)}else return D(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var hr=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;let n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var bE=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function cW(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(iW(s.childName,s.snapshotNode))}),fc(t,i,"child_removed",e,r,n),fc(t,i,"child_added",e,r,n),fc(t,i,"child_moved",o,r,n),fc(t,i,"child_changed",e,r,n),fc(t,i,"value",e,r,n),i}function fc(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>dW(t,a,l)),s.forEach(a=>{let l=uW(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function uW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dW(t,e,n){if(e.childName==null||n.childName==null)throw ho("Should only compare child_ events.");let r=new ne(e.childName,e.snapshotNode),i=new ne(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Qh(t,e){return{eventCache:t,serverCache:e}}function mc(t,e,n,r){return Qh(new hr(e,n,r),t.serverCache)}function sM(t,e,n,r){return Qh(t.eventCache,new hr(e,n,r))}function Fh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Wv,fW=()=>(Wv||(Wv=new vn(f3)),Wv),Ot=class t{static fromObject(e){let n=new t(null);return ft(e,(r,i)=>{n=n.set(new me(r),i)}),n}constructor(e,n=fW()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:fe(),value:this.value};if(re(e))return null;{let r=te(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(be(e),n);return o!=null?{path:xe(new me(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{let n=te(e),r=this.children.get(n);return r!==null?r.subtree(be(e)):new t(null)}}set(e,n){if(re(e))return new t(n,this.children);{let r=te(e),o=(this.children.get(r)||new t(null)).set(be(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(re(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=te(e),r=this.children.get(n);if(r){let i=r.remove(be(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(re(e))return this.value;{let n=te(e),r=this.children.get(n);return r?r.get(be(e)):null}}setTree(e,n){if(re(e))return n;{let r=te(e),o=(this.children.get(r)||new t(null)).setTree(be(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(fe(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(xe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,fe(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{let o=te(e),s=this.children.get(o);return s?s.findOnPath_(be(e),xe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fe(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);let i=te(e),o=this.children.get(i);return o?o.foreachOnPath_(be(e),xe(n,i),r):new t(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Bn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ot(null))}};function gc(t,e,n){if(re(e))return new Bn(new Ot(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Nt(i,e);return o=o.updateChild(s,n),new Bn(t.writeTree_.set(i,o))}else{let i=new Ot(n),o=t.writeTree_.setTree(e,i);return new Bn(o)}}}function CE(t,e,n){let r=t;return ft(n,(i,o)=>{r=gc(r,xe(e,i),o)}),r}function vx(t,e){if(re(e))return Bn.empty();{let n=t.writeTree_.setTree(e,new Ot(null));return new Bn(n)}}function IE(t,e){return Ro(t,e)!=null}function Ro(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nt(n.path,e)):null}function Ex(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(r,i)=>{e.push(new ne(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ne(r,i.value))}),e}function vi(t,e){if(re(e))return t;{let n=Ro(t,e);return n!=null?new Bn(new Ot(n)):new Bn(t.writeTree_.subtree(e))}}function DE(t){return t.writeTree_.isEmpty()}function ra(t,e){return aM(fe(),t.writeTree_,e)}function aM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(D(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=aM(xe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xe(t,".priority"),r)),n}}function Zh(t,e){return dM(e,t)}function hW(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=gc(t.visibleWrites,e,n)),t.lastWriteId=r}function pW(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=CE(t.visibleWrites,e,n),t.lastWriteId=r}function mW(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function gW(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&_W(a,r.path)?i=!1:yn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return yW(t),!0;if(r.snap)t.visibleWrites=vx(t.visibleWrites,r.path);else{let a=r.children;ft(a,l=>{t.visibleWrites=vx(t.visibleWrites,xe(r.path,l))})}return!0}else return!1}function _W(t,e){if(t.snap)return yn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&yn(xe(t.path,n),e))return!0;return!1}function yW(t){t.visibleWrites=lM(t.allWrites,vW,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vW(t){return t.visible}function lM(t,e,n){let r=Bn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)yn(n,s)?(a=Nt(n,s),r=gc(r,a,o.snap)):yn(s,n)&&(a=Nt(s,n),r=gc(r,fe(),o.snap.getChild(a)));else if(o.children){if(yn(n,s))a=Nt(n,s),r=CE(r,a,o.children);else if(yn(s,n))if(a=Nt(s,n),re(a))r=CE(r,fe(),o.children);else{let l=mo(o.children,te(a));if(l){let c=l.getChild(be(a));r=gc(r,fe(),c)}}}else throw ho("WriteRecord should have .snap or .children")}}return r}function cM(t,e,n,r,i){if(!r&&!i){let o=Ro(t.visibleWrites,e);if(o!=null)return o;{let s=vi(t.visibleWrites,e);if(DE(s))return n;if(n==null&&!IE(s,fe()))return null;{let a=n||Y.EMPTY_NODE;return ra(s,a)}}}else{let o=vi(t.visibleWrites,e);if(!i&&DE(o))return n;if(!i&&n==null&&!IE(o,fe()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(yn(c.path,e)||yn(e,c.path))},a=lM(t.allWrites,s,e),l=n||Y.EMPTY_NODE;return ra(a,l)}}}function EW(t,e,n){let r=Y.EMPTY_NODE,i=Ro(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Me,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=vi(t.visibleWrites,e);return n.forEachChild(Me,(s,a)=>{let l=ra(vi(o,new me(s)),a);r=r.updateImmediateChild(s,l)}),Ex(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=vi(t.visibleWrites,e);return Ex(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function wW(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=xe(e,n);if(IE(t.visibleWrites,o))return null;{let s=vi(t.visibleWrites,o);return DE(s)?i.getChild(n):ra(s,i.getChild(n))}}function bW(t,e,n,r){let i=xe(e,n),o=Ro(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=vi(t.visibleWrites,i);return ra(s,r.getNode().getImmediateChild(n))}else return null}function CW(t,e){return Ro(t.visibleWrites,e)}function IW(t,e,n,r,i,o,s){let a,l=vi(t.visibleWrites,e),c=Ro(l,fe());if(c!=null)a=c;else if(n!=null)a=ra(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function DW(){return{visibleWrites:Bn.empty(),allWrites:[],lastWriteId:-1}}function Vh(t,e,n,r){return cM(t.writeTree,t.treePath,e,n,r)}function XE(t,e){return EW(t.writeTree,t.treePath,e)}function wx(t,e,n,r){return wW(t.writeTree,t.treePath,e,n,r)}function jh(t,e){return CW(t.writeTree,xe(t.treePath,e))}function TW(t,e,n,r,i,o){return IW(t.writeTree,t.treePath,e,n,r,i,o)}function ew(t,e,n){return bW(t.writeTree,t.treePath,e,n)}function uM(t,e){return dM(xe(t.treePath,e),t.writeTree)}function dM(t,e){return{treePath:t,writeTree:e}}var TE=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ec(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,vc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ta(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ec(r,e.snapshotNode,i.oldSnap));else throw ho("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var SE=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},fM=new SE,Cc=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ew(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mo(this.viewCache_),o=TW(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function SW(t){return{filter:t}}function AW(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xW(t,e,n,r,i){let o=new TE,s,a;if(n.type===fr.OVERWRITE){let c=n;c.source.fromUser?s=AE(t,e,c.path,c.snap,r,i,o):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),s=Uh(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===fr.MERGE){let c=n;c.source.fromUser?s=NW(t,e,c.path,c.children,r,i,o):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=xE(t,e,c.path,c.children,r,i,a,o))}else if(n.type===fr.ACK_USER_WRITE){let c=n;c.revert?s=kW(t,e,c.path,r,i,o):s=RW(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===fr.LISTEN_COMPLETE)s=OW(t,e,n.path,r,o);else throw ho("Unknown operation type: "+n.type);let l=o.getChanges();return MW(e,s,l),{viewCache:s,changes:l}}function MW(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Fh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(iM(Fh(e)))}}function hM(t,e,n,r,i,o){let s=e.eventCache;if(jh(r,n)!=null)return e;{let a,l;if(re(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Mo(e),u=c instanceof Y?c:Y.EMPTY_NODE,d=XE(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Vh(r,Mo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=te(n);if(c===".priority"){D(wi(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=wx(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=be(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=wx(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=ew(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return mc(e,a,s.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Uh(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(re(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=te(n);if(!l.isCompleteForPath(n)&&wi(n)>1)return e;let _=be(n),w=l.getNode().getImmediateChild(h).updateChild(_,r);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,_,fM,null)}let d=sM(e,c,l.isFullyInitialized()||re(n),u.filtersNodes()),f=new Cc(i,d,o);return hM(t,d,n,i,f,a)}function AE(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new Cc(i,e,o);if(re(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=mc(e,c,!0,t.filter.filtersNodes());else{let d=te(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=mc(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=be(n),h=a.getNode().getImmediateChild(d),_;if(re(f))_=r;else{let v=u.getCompleteChild(d);v!=null?GE(f)===".priority"&&v.getChild(Jx(f)).isEmpty()?_=v:_=v.updateChild(f,r):_=Y.EMPTY_NODE}if(h.equals(_))l=e;else{let v=t.filter.updateChild(a.getNode(),d,_,f,u,s);l=mc(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function bx(t,e){return t.eventCache.isCompleteForChild(e)}function NW(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=xe(n,l);bx(e,te(u))&&(a=AE(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=xe(n,l);bx(e,te(u))||(a=AE(t,a,u,c,i,o,s))}),a}function Cx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;re(n)?c=r:c=new Ot(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),_=Cx(t,h,f);l=Uh(t,l,new me(d),_,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let _=e.serverCache.getNode().getImmediateChild(d),v=Cx(t,_,f);l=Uh(t,l,new me(d),v,i,o,s,a)}}),l}function RW(t,e,n,r,i,o,s){if(jh(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Uh(t,e,n,l.getNode().getChild(n),i,o,a,s);if(re(n)){let c=new Ot(null);return l.getNode().forEachChild(Qs,(u,d)=>{c=c.set(new me(u),d)}),xE(t,e,n,c,i,o,a,s)}else return e}else{let c=new Ot(null);return r.foreach((u,d)=>{let f=xe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),xE(t,e,n,c,i,o,a,s)}}function OW(t,e,n,r,i){let o=e.serverCache,s=sM(e,o.getNode(),o.isFullyInitialized()||re(n),o.isFiltered());return hM(t,s,n,r,fM,i)}function kW(t,e,n,r,i,o){let s;if(jh(r,n)!=null)return e;{let a=new Cc(r,e,i),l=e.eventCache.getNode(),c;if(re(n)||te(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Vh(r,Mo(e));else{let d=e.serverCache.getNode();D(d instanceof Y,"serverChildren would be complete if leaf node"),u=XE(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=te(n),d=ew(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,be(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Y.EMPTY_NODE,be(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Vh(r,Mo(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||jh(r,fe())!=null,mc(e,c,s,t.filter.filtersNodes())}}var ME=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new wc(r.getIndex()),o=oW(r);this.processor_=SW(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Y.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Y.EMPTY_NODE,a.getNode(),null),u=new hr(l,s.isFullyInitialized(),i.filtersNodes()),d=new hr(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qh(d,u),this.eventGenerator_=new bE(this.query_)}get query(){return this.query_}};function PW(t){return t.viewCache_.serverCache.getNode()}function LW(t){return Fh(t.viewCache_)}function FW(t,e){let n=Mo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function Ix(t){return t.eventRegistrations_.length===0}function VW(t,e){t.eventRegistrations_.push(e)}function Dx(t,e,n){let r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Tx(t,e,n,r){e.type===fr.MERGE&&e.source.queryId!==null&&(D(Mo(t.viewCache_),"We should always have a full cache before handling merges"),D(Fh(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=xW(t.processor_,i,e,n,r);return AW(t.processor_,o.viewCache),D(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,pM(t,o.changes,o.viewCache.eventCache.getNode(),null)}function jW(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(o,s)=>{r.push(ta(o,s))}),n.isFullyInitialized()&&r.push(iM(n.getNode())),pM(t,r,n.getNode(),e)}function pM(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return cW(t.eventGenerator_,e,n,i)}var Bh,$h=class{constructor(){this.views=new Map}};function UW(t){D(!Bh,"__referenceConstructor has already been defined"),Bh=t}function BW(){return D(Bh,"Reference.ts has not been loaded"),Bh}function $W(t){return t.views.size===0}function tw(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return D(o!=null,"SyncTree gave us an op for an invalid query."),Tx(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(Tx(s,e,n,r));return o}}function mM(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Vh(n,i?r:null),l=!1;a?l=!0:r instanceof Y?(a=XE(n,r),l=!1):(a=Y.EMPTY_NODE,l=!1);let c=Qh(new hr(a,l,!1),new hr(r,i,!1));return new ME(e,c)}return s}function HW(t,e,n,r,i,o){let s=mM(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),VW(s,n),jW(s,n)}function WW(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=bi(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(Dx(c,n,r)),Ix(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(Dx(l,n,r)),Ix(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!bi(t)&&o.push(new(BW())(e._repo,e._path)),{removed:o,events:s}}function gM(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ei(t,e){let n=null;for(let r of t.views.values())n=n||FW(r,e);return n}function _M(t,e){if(e._queryParams.loadsAllData())return Jh(t);{let r=e._queryIdentifier;return t.views.get(r)}}function yM(t,e){return _M(t,e)!=null}function bi(t){return Jh(t)!=null}function Jh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Hh;function zW(t){D(!Hh,"__referenceConstructor has already been defined"),Hh=t}function GW(){return D(Hh,"Reference.ts has not been loaded"),Hh}var qW=1,Wh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ot(null),this.pendingWriteTree_=DW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function vM(t,e,n,r,i){return hW(t.pendingWriteTree_,e,n,r,i),i?sa(t,new na(QE(),e,n)):[]}function YW(t,e,n,r){pW(t.pendingWriteTree_,e,n,r);let i=Ot.fromObject(n);return sa(t,new bc(QE(),e,i))}function yi(t,e,n=!1){let r=mW(t.pendingWriteTree_,e);if(gW(t.pendingWriteTree_,e)){let o=new Ot(null);return r.snap!=null?o=o.set(fe(),!0):ft(r.children,s=>{o=o.set(new me(s),!0)}),sa(t,new wE(r.path,o,n))}else return[]}function Mc(t,e,n){return sa(t,new na(ZE(),e,n))}function KW(t,e,n){let r=Ot.fromObject(n);return sa(t,new bc(ZE(),e,r))}function QW(t,e){return sa(t,new Lh(ZE(),e))}function ZW(t,e,n){let r=rw(t,n);if(r){let i=iw(r),o=i.path,s=i.queryId,a=Nt(o,e),l=new Lh(JE(s),a);return ow(t,o,l)}else return[]}function zh(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||yM(s,e))){let l=WW(s,e,n,r);$W(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>bi(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=e4(f);for(let _=0;_<h.length;++_){let v=h[_],w=v.query,S=CM(t,v);t.listenProvider_.startListening(_c(w),Ic(t,w),S.hashFn,S.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(_c(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(Xh(f));t.listenProvider_.stopListening(_c(f),h)}))}t4(t,c)}return a}function EM(t,e,n,r){let i=rw(t,r);if(i!=null){let o=iw(i),s=o.path,a=o.queryId,l=Nt(s,e),c=new na(JE(a),l,n);return ow(t,s,c)}else return[]}function JW(t,e,n,r){let i=rw(t,r);if(i){let o=iw(i),s=o.path,a=o.queryId,l=Nt(s,e),c=Ot.fromObject(n),u=new bc(JE(a),l,c);return ow(t,s,u)}else return[]}function NE(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let _=Nt(f,i);o=o||Ei(h,_),s=s||bi(h)});let a=t.syncPointTree_.get(i);a?(s=s||bi(a),o=o||Ei(a,fe())):(a=new $h,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Y.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,_)=>{let v=Ei(_,fe());v&&(o=o.updateImmediateChild(h,v))}));let c=yM(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=Xh(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=n4();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Zh(t.pendingWriteTree_,i),d=HW(a,e,n,u,o,l);if(!c&&!s&&!r){let f=_M(a,e);d=d.concat(r4(t,e,f))}return d}function nw(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Nt(s,e),c=Ei(a,l);if(c)return c});return cM(i,e,o,n,!0)}function XW(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Nt(c,n);r=r||Ei(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Ei(i,fe()):(i=new $h,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new hr(r,!0,!1):null,a=Zh(t.pendingWriteTree_,e._path),l=mM(i,e,a,o?s.getNode():Y.EMPTY_NODE,o);return LW(l)}function sa(t,e){return wM(e,t.syncPointTree_,null,Zh(t.pendingWriteTree_,fe()))}function wM(t,e,n,r){if(re(t.path))return bM(t,e,n,r);{let i=e.get(fe());n==null&&i!=null&&(n=Ei(i,fe()));let o=[],s=te(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=uM(r,s);o=o.concat(wM(a,l,c,u))}return i&&(o=o.concat(tw(i,t,r,n))),o}}function bM(t,e,n,r){let i=e.get(fe());n==null&&i!=null&&(n=Ei(i,fe()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=uM(r,s),u=t.operationForChild(s);u&&(o=o.concat(bM(u,a,l,c)))}),i&&(o=o.concat(tw(i,t,r,n))),o}function CM(t,e){let n=e.query,r=Ic(t,n);return{hashFn:()=>(PW(e)||Y.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ZW(t,n._path,r):QW(t,n._path);{let o=m3(i,n);return zh(t,n,null,o)}}}}function Ic(t,e){let n=Xh(e);return t.queryToTagMap.get(n)}function Xh(t){return t._path.toString()+"$"+t._queryIdentifier}function rw(t,e){return t.tagToQueryMap.get(e)}function iw(t){let e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new me(t.substr(0,e))}}function ow(t,e,n){let r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");let i=Zh(t.pendingWriteTree_,e);return tw(r,n,i,null)}function e4(t){return t.fold((e,n,r)=>{if(n&&bi(n))return[Jh(n)];{let i=[];return n&&(i=gM(n)),ft(r,(o,s)=>{i=i.concat(s)}),i}})}function _c(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(GW())(t._repo,t._path):t}function t4(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Xh(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function n4(){return qW++}function r4(t,e,n){let r=e._path,i=Ic(t,e),o=CM(t,n),s=t.listenProvider_.startListening(_c(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!bi(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!re(c)&&u&&bi(u))return[Jh(u).query];{let f=[];return u&&(f=f.concat(gM(u).map(h=>h.query))),ft(d,(h,_)=>{f=f.concat(_)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(_c(u),Ic(t,u))}}return s}var RE=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},OE=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=xe(this.path_,e);return new t(this.syncTree_,n)}node(){return nw(this.syncTree_,this.path_)}},i4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sx=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return o4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return s4(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},o4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},s4=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);let i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},IM=function(t,e,n,r){return sw(e,new OE(n,t),r)},DM=function(t,e,n){return sw(t,new RE(e),n)};function sw(t,e,n){let r=t.getPriority().val(),i=Sx(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Sx(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Xs(a,Qe(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Xs(i))),s.forEachChild(Me,(a,l)=>{let c=sw(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Dc=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function aw(t,e){let n=e instanceof me?e:new me(e),r=t,i=te(n);for(;i!==null;){let o=mo(r.node.children,i)||{children:{},childCount:0};r=new Dc(i,r,o),n=be(n),i=te(n)}return r}function aa(t){return t.node.value}function TM(t,e){t.node.value=e,kE(t)}function SM(t){return t.node.childCount>0}function a4(t){return aa(t)===void 0&&!SM(t)}function ep(t,e){ft(t.node.children,(n,r)=>{e(new Dc(n,t,r))})}function AM(t,e,n,r){n&&!r&&e(t),ep(t,i=>{AM(i,e,!0,r)}),n&&r&&e(t)}function l4(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Nc(t){return new me(t.parent===null?t.name:Nc(t.parent)+"/"+t.name)}function kE(t){t.parent!==null&&c4(t.parent,t.name,t)}function c4(t,e,n){let r=a4(n),i=Fn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,kE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,kE(t))}var u4=/[\[\].#$\/\u0000-\u001F\u007F]/,d4=/[\[\].#$\u0000-\u001F\u007F]/,zv=10*1024*1024,lw=function(t){return typeof t=="string"&&t.length!==0&&!u4.test(t)},xM=function(t){return typeof t=="string"&&t.length!==0&&!d4.test(t)},f4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xM(t)},h4=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!HE(t)||t&&typeof t=="object"&&Fn(t,".sv")},MM=function(t,e,n,r){r&&e===void 0||tp(ql(t,"value"),e,n)},tp=function(t,e,n){let r=n instanceof me?new oE(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+To(r));if(typeof e=="function")throw new Error(t+"contains a function "+To(r)+" with contents = "+e.toString());if(HE(e))throw new Error(t+"contains "+e.toString()+" "+To(r));if(typeof e=="string"&&e.length>zv/3&&Yl(e)>zv)throw new Error(t+"contains a string greater than "+zv+" utf8 bytes "+To(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ft(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!lw(s)))throw new Error(t+" contains an invalid key ("+s+") "+To(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);z3(r,s),tp(t,a,r),G3(r)}),i&&o)throw new Error(t+' contains ".value" child '+To(r)+" in addition to actual children.")}},p4=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=yc(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!lw(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(W3);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&yn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},m4=function(t,e,n,r){if(r&&e===void 0)return;let i=ql(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];ft(e,(s,a)=>{let l=new me(s);if(tp(i,a,xe(n,l)),GE(l)===".priority"&&!h4(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),p4(i,o)};var NM=function(t,e,n,r){if(!(r&&n===void 0)&&!xM(n))throw new Error(ql(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},g4=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NM(t,e,n,r)},cw=function(t,e){if(te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_4=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!f4(n))throw new Error(ql(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var PE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function np(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!qE(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function RM(t,e,n){np(t,n),OM(t,r=>qE(r,e))}function En(t,e,n){np(t,n),OM(t,r=>yn(r,e)||yn(e,r))}function OM(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(y4(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function y4(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Ao&&dt("event: "+n.toString()),oa(r)}}}var v4="repo_interrupt",E4=25,LE=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ph(),this.transactionQueueTree_=new Dc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function w4(t,e,n){if(t.stats_=zE(t.repoInfo_),t.forceRestClient_||v3())t.server_=new gE(t.repoInfo_,(r,i,o,s)=>{Ax(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new YE(t.repoInfo_,e,(r,i,o,s)=>{Ax(t,r,i,o,s)},r=>{xx(t,r)},r=>{b4(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=w3(t.repoInfo_,()=>new EE(t.stats_,t.server_)),t.infoData_=new _E,t.infoSyncTree_=new Wh({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Mc(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),uw(t,"connected",!1),t.serverSyncTree_=new Wh({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);En(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function kM(t){let n=t.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rp(t){return i4({timestamp:kM(t)})}function Ax(t,e,n,r,i){t.dataUpdateCount++;let o=new me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=Gl(n,c=>Qe(c));s=JW(t.serverSyncTree_,o,l,i)}else{let l=Qe(n);s=EM(t.serverSyncTree_,o,l,i)}else if(r){let l=Gl(n,c=>Qe(c));s=KW(t.serverSyncTree_,o,l)}else{let l=Qe(n);s=Mc(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ia(t,o)),En(t.eventQueue_,a,s)}function xx(t,e){uw(t,"connected",e),e===!1&&T4(t)}function b4(t,e){ft(e,(n,r)=>{uw(t,n,r)})}function uw(t,e,n){let r=new me("/.info/"+e),i=Qe(n);t.infoData_.updateSnapshot(r,i);let o=Mc(t.infoSyncTree_,r,i);En(t.eventQueue_,r,o)}function dw(t){return t.nextWriteId_++}function C4(t,e,n){let r=XW(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Qe(i).withIndex(e._queryParams.getIndex());NE(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Mc(t.serverSyncTree_,e._path,o);else{let a=Ic(t.serverSyncTree_,e);s=EM(t.serverSyncTree_,e._path,o,a)}return En(t.eventQueue_,e._path,s),zh(t.serverSyncTree_,e,n,null,!0),o},i=>(Rc(t,"get for query "+He(e)+" failed: "+i),Promise.reject(new Error(i))))}function I4(t,e,n,r,i){Rc(t,"set",{path:e.toString(),value:n,priority:r});let o=rp(t),s=Qe(n,r),a=nw(t.serverSyncTree_,e),l=DM(s,a,o),c=dw(t),u=vM(t.serverSyncTree_,e,l,c,!0);np(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let _=f==="ok";_||Rt("set at "+e+" failed: "+f);let v=yi(t.serverSyncTree_,c,!_);En(t.eventQueue_,e,v),FE(t,i,f,h)});let d=hw(t,e);ia(t,d),En(t.eventQueue_,d,[])}function D4(t,e,n,r){Rc(t,"update",{path:e.toString(),value:n});let i=!0,o=rp(t),s={};if(ft(n,(a,l)=>{i=!1,s[a]=IM(xe(e,a),Qe(l),t.serverSyncTree_,o)}),i)dt("update() called with empty data.  Don't do anything."),FE(t,r,"ok",void 0);else{let a=dw(t),l=YW(t.serverSyncTree_,e,s,a);np(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Rt("update at "+e+" failed: "+c);let f=yi(t.serverSyncTree_,a,!d),h=f.length>0?ia(t,e):e;En(t.eventQueue_,h,f),FE(t,r,c,u)}),ft(n,c=>{let u=hw(t,xe(e,c));ia(t,u)}),En(t.eventQueue_,e,[])}}function T4(t){Rc(t,"onDisconnectEvents");let e=rp(t),n=Ph();yE(t.onDisconnect_,fe(),(i,o)=>{let s=IM(i,o,t.serverSyncTree_,e);oM(n,i,s)});let r=[];yE(n,fe(),(i,o)=>{r=r.concat(Mc(t.serverSyncTree_,i,o));let s=hw(t,i);ia(t,s)}),t.onDisconnect_=Ph(),En(t.eventQueue_,fe(),r)}function S4(t,e,n){let r;te(e._path)===".info"?r=NE(t.infoSyncTree_,e,n):r=NE(t.serverSyncTree_,e,n),RM(t.eventQueue_,e._path,r)}function Mx(t,e,n){let r;te(e._path)===".info"?r=zh(t.infoSyncTree_,e,n):r=zh(t.serverSyncTree_,e,n),RM(t.eventQueue_,e._path,r)}function A4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(v4)}function Rc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function FE(t,e,n,r){e&&oa(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function PM(t,e,n){return nw(t.serverSyncTree_,e,n)||Y.EMPTY_NODE}function fw(t,e=t.transactionQueueTree_){if(e||ip(t,e),aa(e)){let n=FM(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&x4(t,Nc(e),n)}else SM(e)&&ep(e,n=>{fw(t,n)})}function x4(t,e,n){let r=n.map(c=>c.currentWriteId),i=PM(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Nt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Rc(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(yi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ip(t,aw(t.transactionQueueTree_,e)),fw(t,t.transactionQueueTree_),En(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)oa(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Rt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ia(t,e)}},s)}function ia(t,e){let n=LM(t,e),r=Nc(n),i=FM(t,n);return M4(t,i,r),r}function M4(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Nt(n,l.path),u=!1,d;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(yi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=E4)u=!0,d="maxretry",i=i.concat(yi(t.serverSyncTree_,l.currentWriteId,!0));else{let f=PM(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){tp("transaction failed: Data returned ",h,l.path);let _=Qe(h);typeof h=="object"&&h!=null&&Fn(h,".priority")||(_=_.updatePriority(f.getPriority()));let w=l.currentWriteId,S=rp(t),H=DM(_,f,S);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=H,l.currentWriteId=dw(t),s.splice(s.indexOf(w),1),i=i.concat(vM(t.serverSyncTree_,l.path,H,l.currentWriteId,l.applyLocally)),i=i.concat(yi(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(yi(t.serverSyncTree_,l.currentWriteId,!0))}En(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ip(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)oa(r[a]);fw(t,t.transactionQueueTree_)}function LM(t,e){let n,r=t.transactionQueueTree_;for(n=te(e);n!==null&&aa(r)===void 0;)r=aw(r,n),e=be(e),n=te(e);return r}function FM(t,e){let n=[];return VM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function VM(t,e,n){let r=aa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ep(e,i=>{VM(t,i,n)})}function ip(t,e){let n=aa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TM(e,n.length>0?n:void 0)}ep(e,r=>{ip(t,r)})}function hw(t,e){let n=Nc(LM(t,e)),r=aw(t.transactionQueueTree_,e);return l4(r,i=>{Gv(t,i)}),Gv(t,r),AM(r,i=>{Gv(t,i)}),n}function Gv(t,e){let n=aa(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(D(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(D(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(yi(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?TM(e,void 0):n.length=o+1,En(t.eventQueue_,Nc(e),i);for(let s=0;s<r.length;s++)oa(r[s])}}function N4(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function R4(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${n}' in query '${t}'`)}return e}var Nx=function(t,e){let n=O4(t),r=n.namespace;n.domain==="firebase.com"&&Vr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||u3();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sh(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new me(n.pathString)}},O4=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=N4(t.substring(u,d)));let f=R4(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Rx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",k4=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=Rx.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=Rx.charAt(e[i]);return D(s.length===20,"nextPushId: Length should be 20."),s}}();var Gh=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}},qh=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Yh=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var VE=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:GE(this._path)}get ref(){return new pr(this._repo,this._path)}get _queryIdentifier(){let e=_x(this._queryParams),n=WE(e);return n==="{}"?"default":n}get _queryObject(){return _x(this._queryParams)}isEqual(e){if(e=Le(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=qE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+H3(this._path)}};var pr=class t extends VE{constructor(e,n){super(e,n,new mE,!1)}get parent(){let e=Jx(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Tc=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new me(e),r=wn(this.ref,e);return new t(this._node.getChild(n),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,wn(this.ref,r),Me)))}hasChild(e){let n=new me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function F(t,e){return t=Le(t),t._checkNotDeleted("ref"),e!==void 0?wn(t._root,e):t._root}function wn(t,e){return t=Le(t),te(t._path)===null?g4("child","path",e,!1):NM("child","path",e,!1),new pr(t._repo,xe(t._path,e))}function jM(t,e){t=Le(t),cw("push",t._path),MM("push",e,t._path,!0);let n=kM(t._repo),r=k4(n),i=wn(t,r),o=wn(t,r),s;return e!=null?s=ge(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Oc(t){return cw("remove",t._path),ge(t,null)}function ge(t,e){t=Le(t),cw("set",t._path),MM("set",e,t._path,!1);let n=new Rr;return I4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function UM(t,e){m4("update",e,t._path,!1);let n=new Rr;return D4(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Fe(t){t=Le(t);let e=new Yh(()=>{}),n=new Kh(e);return C4(t._repo,t,n).then(r=>new Tc(r,new pr(t._repo,t._path),t._queryParams.getIndex()))}var Kh=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Gh("value",this,new Tc(e.snapshotNode,new pr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qh(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},jE=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qh(this,e,n):null}createEvent(e,n){D(e.childName!=null,"Child events should have a childName.");let r=wn(new pr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Gh(e.type,this,new Tc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function P4(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Mx(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Yh(n,o||void 0),a=e==="value"?new Kh(s):new jE(e,s);return S4(t._repo,t,a),()=>Mx(t._repo,t,a)}function op(t,e,n,r){return P4(t,"value",e,n,r)}UW(pr);zW(pr);var L4="FIREBASE_DATABASE_EMULATOR_HOST",UE={},F4=!1;function V4(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=po(o);t.repoInfo_=new Sh(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function j4(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Vr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Nx(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[L4]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Nx(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new pc(pc.OWNER):new Jv(t.name,t.options,e);_4("Invalid Firebase Database URL",s),re(s.path)||Vr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=B4(a,t,u,new Zv(t,n));return new BE(d,t)}function U4(t,e){let n=UE[e];(!n||n[t.key]!==t)&&Vr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),A4(t),delete n[t.key]}function B4(t,e,n,r){let i=UE[e.name];i||(i={},UE[e.name]=i);let o=i[t.toURLString()];return o&&Vr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new LE(t,F4,n,r),i[t.toURLString()]=o,o}var BE=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(w4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Hs("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pr(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(U4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vr("Cannot call "+e+" on a deleted database.")}};function jr(t=yo(),e){let n=Vn(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=ZT("database");r&&$4(n,...r)}return n}function $4(t,e,n,r={}){t=Le(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&_n(r,o.repoInfo_.emulatorOptions))return;Vr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Vr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new pc(pc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:JT(r.mockUserToken,t.app.options.projectId);s=new pc(a)}po(e)&&(Wf(e),Hs("Database",!0)),V4(o,i,r,s)}function H4(t){a3(fi),Gt(new nt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return j4(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ut(ex,tx,t),ut(ex,tx,"esm2017")}YE.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};YE.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};H4();var BM=["","Full Time","Part Time","Consultant","Intern"],Oo={activated:!1,sick_days:12,vacation_days:12,pending_days:[],demographics:{first_name:"",last_name:"",dob:"",job_title:"",label:0},salary:{[new Date().getFullYear()]:{months:{1:{link:"",details:{base:0,lunch:0,transport:0,healthcare:0,other:0}}}}}},$M={date:new Date().toISOString().substring(0,10),event:"Initial 12 number of sick days",num_days:12,type:"info",approved:!0,more_info:""},HM={date:new Date().toISOString().substring(0,10),event:"Initial 12 number of vacation days",num_days:12,type:"info_vacation",approved:!0,more_info:""},Nie={sick_days:0,vacation_days:0,first_name:"No",last_name:"Name",date:new Date(0).toISOString().substring(0,10),type:"Error",more_info:"There was an error with emailing request details"};var WM=(()=>{class t{constructor(n){this.router=n,this.db=jr(Fr)}set sign_up(n){let r=document.getElementById("login-tab-link"),i=document.getElementById("signup-tab-link"),o=document.getElementById("login-tab"),s=document.getElementById("signup-tab");n?(r.classList.remove("active"),o.classList.remove("active"),i.classList.add("active"),s.classList.add("active")):(r.classList.add("active"),o.classList.add("active"),i.classList.remove("active"),s.classList.remove("active"))}ngOnInit(){this.authListener()}authListener(){bh(jn,n=>{n&&Fe(wn(F(jr(Fr)),"employees/"+n.uid)).then(r=>{r.exists()?this.router.navigateByUrl("/dashboard"):(alert("Access Denied"),ac(jn))}).catch(r=>{alert("Error"),ac(jn)})})}signup(){let n=document.getElementById("s_email").value,r=document.getElementById("s_password").value,i=document.getElementById("s_cpassword").value,o=document.getElementById("s_fname").value,s=document.getElementById("s_lname").value,a=document.getElementById("s_dob").value;r==i&&n&&r&&o&&s&&a?XA(jn,n,r).then(l=>{let c=Oo;c.demographics.first_name=o,c.demographics.last_name=s,c.demographics.dob=a,ge(F(this.db,"employees/"+l.user.uid),c).then(()=>{this.router.navigateByUrl("/dashboard")})}).catch(l=>{alert("Error")}):alert("Please fill in the fields")}login(){let n=document.getElementById("email").value,r=document.getElementById("password").value;n!=""&&n&&r!=""&&r!=null?JA(n,r):alert("Please fill in the fields")}static{this.\u0275fac=function(r){return new(r||t)(L(rn))}}static{this.\u0275cmp=$t({type:t,selectors:[["app-payroll-login"]],inputs:{sign_up:"sign_up"},decls:65,vars:0,consts:[[2,"padding","2em 3em"],["role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","login-tab-link","role","tab","data-bs-toggle","pill","href","#login-tab",1,"nav-link","active"],["id","signup-tab-link","role","tab","data-bs-toggle","pill","href","#signup-tab",1,"nav-link"],[1,"tab-content"],["id","login-tab","role","tabpanel",1,"tab-pane","active"],[2,"margin-bottom","0.4em"],[1,"container",2,"padding","0","margin","0"],[1,"row"],[1,"col-12","col-lg-6"],["for","email",1,"form-label"],["name","email","type","email","id","email","placeholder","hello@example.com",1,"form-control"],["for","password",1,"form-label"],["name","password","type","password","id","password","placeholder","********",1,"form-control"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click"],["id","signup-tab","role","tabpanel",1,"tab-pane"],[1,"col-12","col-md-6"],["for","s_fname",1,"form-label"],["name","s_fname","type","text","id","s_fname","placeholder","Jane",1,"form-control"],["for","s_lname",1,"form-label"],["name","s_lname","type","text","id","s_lname","placeholder","Doe",1,"form-control"],["for","s_dob",1,"form-label"],["name","s_dob","type","date","id","s_dob","placeholder","DOB",1,"form-control"],["for","s_email",1,"form-label"],["name","s_email","type","email","id","s_email","placeholder","hello@example.com",1,"form-control"],["for","s_password",1,"form-label"],["name","s_password","type","password","id","s_password","placeholder","********",1,"form-control"],["for","s_cpassword",1,"form-label"],["name","s_cpassword","type","password","id","s_cpassword","placeholder","********",1,"form-control"]],template:function(r,i){r&1&&(m(0,"section",0)(1,"div")(2,"ul",1)(3,"li",2)(4,"a",3),g(5,"Log In"),p()(),m(6,"li",2)(7,"a",4),g(8,"Sign Up"),p()()(),m(9,"div",5)(10,"div",6)(11,"h1",7),g(12,"Login"),p(),m(13,"form")(14,"div",8)(15,"div",9)(16,"div",10)(17,"label",11),g(18,"Email"),p(),R(19,"input",12),p()(),m(20,"div",9)(21,"div",10)(22,"label",13),g(23,"Password"),p(),R(24,"input",14),p()(),m(25,"div",9)(26,"div",15)(27,"button",16),O("click",function(){return i.login()}),g(28,"Log In"),p()()()()()(),m(29,"div",17)(30,"h1",7),g(31,"Create New Account"),p(),m(32,"form")(33,"div",8)(34,"div",9)(35,"div",18)(36,"label",19),g(37,"First Name"),p(),R(38,"input",20),p(),m(39,"div",18)(40,"label",21),g(41,"Last Name"),p(),R(42,"input",22),p()(),m(43,"div",9)(44,"div",18)(45,"label",23),g(46,"Date of Birth"),p(),R(47,"input",24),p(),m(48,"div",18)(49,"label",25),g(50,"Email"),p(),R(51,"input",26),p()(),m(52,"div",9)(53,"div",18)(54,"label",27),g(55,"Password"),p(),R(56,"input",28),p(),m(57,"div",18)(58,"label",29),g(59,"Confirm Password"),p(),R(60,"input",30),p()(),m(61,"div",9)(62,"div",15)(63,"button",16),O("click",function(){return i.signup()}),g(64,"Sign Up"),p()()()()()()()()())},styles:[".nav-pills[_ngcontent-%COMP%]{display:inline-block;background-color:#ffde64;border-radius:20px;margin-bottom:2em}.nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:inline-block;color:#000;width:100px;text-align:center;border-radius:20px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border:2px solid rgb(255,222,100)}form[_ngcontent-%COMP%]{text-align:left}"]})}}return t})();var mp={};rO(mp,{afterMain:()=>QM,afterRead:()=>qM,afterWrite:()=>XM,applyStyles:()=>ca,arrow:()=>ap,auto:()=>kc,basePlacements:()=>Ur,beforeMain:()=>YM,beforeRead:()=>zM,beforeWrite:()=>ZM,bottom:()=>We,clippingParents:()=>pw,computeStyles:()=>da,createPopper:()=>Hc,createPopperBase:()=>lN,createPopperLite:()=>cN,detectOverflow:()=>Pt,end:()=>Ci,eventListeners:()=>fa,flip:()=>dp,hide:()=>fp,left:()=>Ne,main:()=>KM,modifierPhases:()=>gw,offset:()=>hp,placements:()=>Lc,popper:()=>ko,popperGenerator:()=>$o,popperOffsets:()=>ma,preventOverflow:()=>pp,read:()=>GM,reference:()=>mw,right:()=>Ve,start:()=>mr,top:()=>Se,variationPlacements:()=>sp,viewport:()=>Pc,write:()=>JM});var Se="top",We="bottom",Ve="right",Ne="left",kc="auto",Ur=[Se,We,Ve,Ne],mr="start",Ci="end",pw="clippingParents",Pc="viewport",ko="popper",mw="reference",sp=Ur.reduce(function(t,e){return t.concat([e+"-"+mr,e+"-"+Ci])},[]),Lc=[].concat(Ur,[kc]).reduce(function(t,e){return t.concat([e,e+"-"+mr,e+"-"+Ci])},[]),zM="beforeRead",GM="read",qM="afterRead",YM="beforeMain",KM="main",QM="afterMain",ZM="beforeWrite",JM="write",XM="afterWrite",gw=[zM,GM,qM,YM,KM,QM,ZM,JM,XM];function rt(t){return t?(t.nodeName||"").toLowerCase():null}function De(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function bn(t){var e=De(t).Element;return t instanceof e||t instanceof Element}function Ze(t){var e=De(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function la(t){if(typeof ShadowRoot>"u")return!1;var e=De(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function W4(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Ze(o)||!rt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function z4(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Ze(i)||!rt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var ca={name:"applyStyles",enabled:!0,phase:"write",fn:W4,effect:z4,requires:["computeStyles"]};function it(t){return t.split("-")[0]}var $n=Math.max,Po=Math.min,Br=Math.round;function ua(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Fc(){return!/^((?!chrome|android).)*safari/i.test(ua())}function Cn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Ze(t)&&(i=t.offsetWidth>0&&Br(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Br(r.height)/t.offsetHeight||1);var s=bn(t)?De(t):window,a=s.visualViewport,l=!Fc()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Lo(t){var e=Cn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Vc(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&la(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kt(t){return De(t).getComputedStyle(t)}function _w(t){return["table","td","th"].indexOf(rt(t))>=0}function ht(t){return((bn(t)?t.ownerDocument:t.document)||window.document).documentElement}function $r(t){return rt(t)==="html"?t:t.assignedSlot||t.parentNode||(la(t)?t.host:null)||ht(t)}function eN(t){return!Ze(t)||kt(t).position==="fixed"?null:t.offsetParent}function G4(t){var e=/firefox/i.test(ua()),n=/Trident/i.test(ua());if(n&&Ze(t)){var r=kt(t);if(r.position==="fixed")return null}var i=$r(t);for(la(i)&&(i=i.host);Ze(i)&&["html","body"].indexOf(rt(i))<0;){var o=kt(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Hn(t){for(var e=De(t),n=eN(t);n&&_w(n)&&kt(n).position==="static";)n=eN(n);return n&&(rt(n)==="html"||rt(n)==="body"&&kt(n).position==="static")?e:n||G4(t)||e}function Fo(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Vo(t,e,n){return $n(t,Po(e,n))}function tN(t,e,n){var r=Vo(t,e,n);return r>n?n:r}function jc(){return{top:0,right:0,bottom:0,left:0}}function Uc(t){return Object.assign({},jc(),t)}function Bc(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var q4=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Uc(typeof e!="number"?e:Bc(e,Ur))};function Y4(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=it(n.placement),l=Fo(a),c=[Ne,Ve].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=q4(i.padding,n),f=Lo(o),h=l==="y"?Se:Ne,_=l==="y"?We:Ve,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],w=s[l]-n.rects.reference[l],S=Hn(o),H=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,k=v/2-w/2,U=d[h],le=H-f[u]-d[_],oe=H/2-f[u]/2+k,Ce=Vo(U,oe,le),ze=l;n.modifiersData[r]=(e={},e[ze]=Ce,e.centerOffset=Ce-oe,e)}}function K4(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Vc(e.elements.popper,i)&&(e.elements.arrow=i))}var ap={name:"arrow",enabled:!0,phase:"main",fn:Y4,effect:K4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function In(t){return t.split("-")[1]}var Q4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z4(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Br(n*i)/i||0,y:Br(r*i)/i||0}}function nN(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=s.x,h=f===void 0?0:f,_=s.y,v=_===void 0?0:_,w=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=w.x,v=w.y;var S=s.hasOwnProperty("x"),H=s.hasOwnProperty("y"),k=Ne,U=Se,le=window;if(c){var oe=Hn(n),Ce="clientHeight",ze="clientWidth";if(oe===De(n)&&(oe=ht(n),kt(oe).position!=="static"&&a==="absolute"&&(Ce="scrollHeight",ze="scrollWidth")),oe=oe,i===Se||(i===Ne||i===Ve)&&o===Ci){U=We;var Ae=d&&oe===le&&le.visualViewport?le.visualViewport.height:oe[Ce];v-=Ae-r.height,v*=l?1:-1}if(i===Ne||(i===Se||i===We)&&o===Ci){k=Ve;var Re=d&&oe===le&&le.visualViewport?le.visualViewport.width:oe[ze];h-=Re-r.width,h*=l?1:-1}}var pt=Object.assign({position:a},c&&Q4),An=u===!0?Z4({x:h,y:v},De(n)):{x:h,y:v};if(h=An.x,v=An.y,l){var wt;return Object.assign({},pt,(wt={},wt[U]=H?"0":"",wt[k]=S?"0":"",wt.transform=(le.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",wt))}return Object.assign({},pt,(e={},e[U]=H?v+"px":"",e[k]=S?h+"px":"",e.transform="",e))}function J4(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:it(e.placement),variation:In(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,nN(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,nN(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var da={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:J4,data:{}};var lp={passive:!0};function X4(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=De(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,lp)}),a&&l.addEventListener("resize",n.update,lp),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,lp)}),a&&l.removeEventListener("resize",n.update,lp)}}var fa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:X4,data:{}};var ez={left:"right",right:"left",bottom:"top",top:"bottom"};function ha(t){return t.replace(/left|right|bottom|top/g,function(e){return ez[e]})}var tz={start:"end",end:"start"};function cp(t){return t.replace(/start|end/g,function(e){return tz[e]})}function jo(t){var e=De(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Uo(t){return Cn(ht(t)).left+jo(t).scrollLeft}function yw(t,e){var n=De(t),r=ht(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Fc();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Uo(t),y:l}}function vw(t){var e,n=ht(t),r=jo(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=$n(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=$n(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Uo(t),l=-r.scrollTop;return kt(i||n).direction==="rtl"&&(a+=$n(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Bo(t){var e=kt(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function up(t){return["html","body","#document"].indexOf(rt(t))>=0?t.ownerDocument.body:Ze(t)&&Bo(t)?t:up($r(t))}function Ii(t,e){var n;e===void 0&&(e=[]);var r=up(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=De(r),s=i?[o].concat(o.visualViewport||[],Bo(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Ii($r(s)))}function pa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function nz(t,e){var n=Cn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function rN(t,e,n){return e===Pc?pa(yw(t,n)):bn(e)?nz(e,n):pa(vw(ht(t)))}function rz(t){var e=Ii($r(t)),n=["absolute","fixed"].indexOf(kt(t).position)>=0,r=n&&Ze(t)?Hn(t):t;return bn(r)?e.filter(function(i){return bn(i)&&Vc(i,r)&&rt(i)!=="body"}):[]}function Ew(t,e,n,r){var i=e==="clippingParents"?rz(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=rN(t,c,r);return l.top=$n(u.top,l.top),l.right=Po(u.right,l.right),l.bottom=Po(u.bottom,l.bottom),l.left=$n(u.left,l.left),l},rN(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $c(t){var e=t.reference,n=t.element,r=t.placement,i=r?it(r):null,o=r?In(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Se:l={x:s,y:e.y-n.height};break;case We:l={x:s,y:e.y+e.height};break;case Ve:l={x:e.x+e.width,y:a};break;case Ne:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Fo(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case mr:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Ci:l[c]=l[c]+(e[u]/2-n[u]/2);break;default:}}return l}function Pt(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?pw:a,c=n.rootBoundary,u=c===void 0?Pc:c,d=n.elementContext,f=d===void 0?ko:d,h=n.altBoundary,_=h===void 0?!1:h,v=n.padding,w=v===void 0?0:v,S=Uc(typeof w!="number"?w:Bc(w,Ur)),H=f===ko?mw:ko,k=t.rects.popper,U=t.elements[_?H:f],le=Ew(bn(U)?U:U.contextElement||ht(t.elements.popper),l,u,s),oe=Cn(t.elements.reference),Ce=$c({reference:oe,element:k,strategy:"absolute",placement:i}),ze=pa(Object.assign({},k,Ce)),Ae=f===ko?ze:oe,Re={top:le.top-Ae.top+S.top,bottom:Ae.bottom-le.bottom+S.bottom,left:le.left-Ae.left+S.left,right:Ae.right-le.right+S.right},pt=t.modifiersData.offset;if(f===ko&&pt){var An=pt[i];Object.keys(Re).forEach(function(wt){var Oi=[Ve,We].indexOf(wt)>=0?1:-1,ki=[Se,We].indexOf(wt)>=0?"y":"x";Re[wt]+=An[ki]*Oi})}return Re}function ww(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Lc:l,u=In(r),d=u?a?sp:sp.filter(function(_){return In(_)===u}):Ur,f=d.filter(function(_){return c.indexOf(_)>=0});f.length===0&&(f=d);var h=f.reduce(function(_,v){return _[v]=Pt(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[it(v)],_},{});return Object.keys(h).sort(function(_,v){return h[_]-h[v]})}function iz(t){if(it(t)===kc)return[];var e=ha(t);return[cp(t),e,cp(e)]}function oz(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,_=h===void 0?!0:h,v=n.allowedAutoPlacements,w=e.options.placement,S=it(w),H=S===w,k=l||(H||!_?[ha(w)]:iz(w)),U=[w].concat(k).reduce(function(Yo,Gr){return Yo.concat(it(Gr)===kc?ww(e,{placement:Gr,boundary:u,rootBoundary:d,padding:c,flipVariations:_,allowedAutoPlacements:v}):Gr)},[]),le=e.rects.reference,oe=e.rects.popper,Ce=new Map,ze=!0,Ae=U[0],Re=0;Re<U.length;Re++){var pt=U[Re],An=it(pt),wt=In(pt)===mr,Oi=[Se,We].indexOf(An)>=0,ki=Oi?"width":"height",Qt=Pt(e,{placement:pt,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),xn=Oi?wt?Ve:Ne:wt?We:Se;le[ki]>oe[ki]&&(xn=ha(xn));var ou=ha(xn),Pi=[];if(o&&Pi.push(Qt[An]<=0),a&&Pi.push(Qt[xn]<=0,Qt[ou]<=0),Pi.every(function(Yo){return Yo})){Ae=pt,ze=!1;break}Ce.set(pt,Pi)}if(ze)for(var su=_?3:1,Jp=function(Gr){var Na=U.find(function(lu){var Li=Ce.get(lu);if(Li)return Li.slice(0,Gr).every(function(Xp){return Xp})});if(Na)return Ae=Na,"break"},Ma=su;Ma>0;Ma--){var au=Jp(Ma);if(au==="break")break}e.placement!==Ae&&(e.modifiersData[r]._skip=!0,e.placement=Ae,e.reset=!0)}}var dp={name:"flip",enabled:!0,phase:"main",fn:oz,requiresIfExists:["offset"],data:{_skip:!1}};function iN(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function oN(t){return[Se,Ve,We,Ne].some(function(e){return t[e]>=0})}function sz(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Pt(e,{elementContext:"reference"}),a=Pt(e,{altBoundary:!0}),l=iN(s,r),c=iN(a,i,o),u=oN(l),d=oN(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var fp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sz};function az(t,e,n){var r=it(t),i=[Ne,Se].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ne,Ve].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function lz(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Lc.reduce(function(u,d){return u[d]=az(d,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var hp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lz};function cz(t){var e=t.state,n=t.name;e.modifiersData[n]=$c({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ma={name:"popperOffsets",enabled:!0,phase:"read",fn:cz,data:{}};function bw(t){return t==="x"?"y":"x"}function uz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,_=n.tetherOffset,v=_===void 0?0:_,w=Pt(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),S=it(e.placement),H=In(e.placement),k=!H,U=Fo(S),le=bw(U),oe=e.modifiersData.popperOffsets,Ce=e.rects.reference,ze=e.rects.popper,Ae=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,Re=typeof Ae=="number"?{mainAxis:Ae,altAxis:Ae}:Object.assign({mainAxis:0,altAxis:0},Ae),pt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,An={x:0,y:0};if(oe){if(o){var wt,Oi=U==="y"?Se:Ne,ki=U==="y"?We:Ve,Qt=U==="y"?"height":"width",xn=oe[U],ou=xn+w[Oi],Pi=xn-w[ki],su=h?-ze[Qt]/2:0,Jp=H===mr?Ce[Qt]:ze[Qt],Ma=H===mr?-ze[Qt]:-Ce[Qt],au=e.elements.arrow,Yo=h&&au?Lo(au):{width:0,height:0},Gr=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jc(),Na=Gr[Oi],lu=Gr[ki],Li=Vo(0,Ce[Qt],Yo[Qt]),Xp=k?Ce[Qt]/2-su-Li-Na-Re.mainAxis:Jp-Li-Na-Re.mainAxis,zR=k?-Ce[Qt]/2+su+Li+lu+Re.mainAxis:Ma+Li+lu+Re.mainAxis,em=e.elements.arrow&&Hn(e.elements.arrow),GR=em?U==="y"?em.clientTop||0:em.clientLeft||0:0,cb=(wt=pt?.[U])!=null?wt:0,qR=xn+Xp-cb-GR,YR=xn+zR-cb,ub=Vo(h?Po(ou,qR):ou,xn,h?$n(Pi,YR):Pi);oe[U]=ub,An[U]=ub-xn}if(a){var db,KR=U==="x"?Se:Ne,QR=U==="x"?We:Ve,Fi=oe[le],cu=le==="y"?"height":"width",fb=Fi+w[KR],hb=Fi-w[QR],tm=[Se,Ne].indexOf(S)!==-1,pb=(db=pt?.[le])!=null?db:0,mb=tm?fb:Fi-Ce[cu]-ze[cu]-pb+Re.altAxis,gb=tm?Fi+Ce[cu]+ze[cu]-pb-Re.altAxis:hb,_b=h&&tm?tN(mb,Fi,gb):Vo(h?mb:fb,Fi,h?gb:hb);oe[le]=_b,An[le]=_b-Fi}e.modifiersData[r]=An}}var pp={name:"preventOverflow",enabled:!0,phase:"main",fn:uz,requiresIfExists:["offset"]};function Cw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Iw(t){return t===De(t)||!Ze(t)?jo(t):Cw(t)}function dz(t){var e=t.getBoundingClientRect(),n=Br(e.width)/t.offsetWidth||1,r=Br(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Dw(t,e,n){n===void 0&&(n=!1);var r=Ze(e),i=Ze(e)&&dz(e),o=ht(e),s=Cn(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((rt(e)!=="body"||Bo(o))&&(a=Iw(e)),Ze(e)?(l=Cn(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Uo(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function fz(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Tw(t){var e=fz(t);return gw.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Sw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Aw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var sN={placement:"bottom",modifiers:[],strategy:"absolute"};function aN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $o(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?sN:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},sN,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(S){var H=typeof S=="function"?S(u.options):S;v(),u.options=Object.assign({},o,u.options,H),u.scrollParents={reference:bn(a)?Ii(a):a.contextElement?Ii(a.contextElement):[],popper:Ii(l)};var k=Tw(Aw([].concat(r,u.options.modifiers)));return u.orderedModifiers=k.filter(function(U){return U.enabled}),_(),h.update()},forceUpdate:function(){if(!f){var S=u.elements,H=S.reference,k=S.popper;if(aN(H,k)){u.rects={reference:Dw(H,Hn(k),u.options.strategy==="fixed"),popper:Lo(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Re){return u.modifiersData[Re.name]=Object.assign({},Re.data)});for(var U=0;U<u.orderedModifiers.length;U++){if(u.reset===!0){u.reset=!1,U=-1;continue}var le=u.orderedModifiers[U],oe=le.fn,Ce=le.options,ze=Ce===void 0?{}:Ce,Ae=le.name;typeof oe=="function"&&(u=oe({state:u,options:ze,name:Ae,instance:h})||u)}}}},update:Sw(function(){return new Promise(function(w){h.forceUpdate(),w(u)})}),destroy:function(){v(),f=!0}};if(!aN(a,l))return h;h.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function _(){u.orderedModifiers.forEach(function(w){var S=w.name,H=w.options,k=H===void 0?{}:H,U=w.effect;if(typeof U=="function"){var le=U({state:u,name:S,instance:h,options:k}),oe=function(){};d.push(le||oe)}})}function v(){d.forEach(function(w){return w()}),d=[]}return h}}var lN=$o();var hz=[fa,ma,da,ca],cN=$o({defaultModifiers:hz});var pz=[fa,ma,da,ca,hp,dp,pp,ap,fp],Hc=$o({defaultModifiers:pz});var Di=new Map,xw={set(t,e,n){Di.has(t)||Di.set(t,new Map);let r=Di.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return Di.has(t)&&Di.get(t).get(e)||null},remove(t,e){if(!Di.has(t))return;let n=Di.get(t);n.delete(e),n.size===0&&Di.delete(t)}},mz=1e6,gz=1e3,Ww="transitionend",VN=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),_z=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),yz=t=>{do t+=Math.floor(Math.random()*mz);while(document.getElementById(t));return t},vz=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t),r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*gz)},jN=t=>{t.dispatchEvent(new Event(Ww))},Hr=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ti=t=>Hr(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(VN(t)):null,ba=t=>{if(!Hr(t)||t.getClientRects().length===0)return!1;let e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){let r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},Si=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",UN=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?UN(t.parentNode):null},Ip=()=>{},Kc=t=>{t.offsetHeight},BN=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Mw=[],Ez=t=>{document.readyState==="loading"?(Mw.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of Mw)e()}),Mw.push(t)):t()},Dn=()=>document.documentElement.dir==="rtl",Sn=t=>{Ez(()=>{let e=BN();if(e){let n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},Kt=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,$N=(t,e,n=!0)=>{if(!n){Kt(t);return}let i=vz(e)+5,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(Ww,s),Kt(t))};e.addEventListener(Ww,s),setTimeout(()=>{o||jN(e)},i)},Kw=(t,e,n,r)=>{let i=t.length,o=t.indexOf(e);return o===-1?!n&&r?t[i-1]:t[0]:(o+=n?1:-1,r&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])},wz=/[^.]*(?=\..*)\.|.*/,bz=/\..*/,Cz=/::\d+$/,Nw={},uN=1,HN={mouseenter:"mouseover",mouseleave:"mouseout"},Iz=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function WN(t,e){return e&&`${e}::${uN++}`||t.uidEvent||uN++}function zN(t){let e=WN(t);return t.uidEvent=e,Nw[e]=Nw[e]||{},Nw[e]}function Dz(t,e){return function n(r){return Qw(r,{delegateTarget:t}),n.oneOff&&b.off(t,r.type,e),e.apply(t,[r])}}function Tz(t,e,n){return function r(i){let o=t.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return Qw(i,{delegateTarget:s}),r.oneOff&&b.off(t,i.type,e,n),n.apply(s,[i])}}function GN(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function qN(t,e,n){let r=typeof e=="string",i=r?n:e||n,o=YN(t);return Iz.has(o)||(o=t),[r,i,o]}function dN(t,e,n,r,i){if(typeof e!="string"||!t)return;let[o,s,a]=qN(e,n,r);e in HN&&(s=(_=>function(v){if(!v.relatedTarget||v.relatedTarget!==v.delegateTarget&&!v.delegateTarget.contains(v.relatedTarget))return _.call(this,v)})(s));let l=zN(t),c=l[a]||(l[a]={}),u=GN(c,s,o?n:null);if(u){u.oneOff=u.oneOff&&i;return}let d=WN(s,e.replace(wz,"")),f=o?Tz(t,n,s):Dz(t,s);f.delegationSelector=o?n:null,f.callable=s,f.oneOff=i,f.uidEvent=d,c[d]=f,t.addEventListener(a,f,o)}function zw(t,e,n,r,i){let o=GN(e[n],r,i);o&&(t.removeEventListener(n,o,!!i),delete e[n][o.uidEvent])}function Sz(t,e,n,r){let i=e[n]||{};for(let[o,s]of Object.entries(i))o.includes(r)&&zw(t,e,n,s.callable,s.delegationSelector)}function YN(t){return t=t.replace(bz,""),HN[t]||t}var b={on(t,e,n,r){dN(t,e,n,r,!1)},one(t,e,n,r){dN(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;let[i,o,s]=qN(e,n,r),a=s!==e,l=zN(t),c=l[s]||{},u=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(c).length)return;zw(t,l,s,o,i?n:null);return}if(u)for(let d of Object.keys(l))Sz(t,l,d,e.slice(1));for(let[d,f]of Object.entries(c)){let h=d.replace(Cz,"");(!a||e.includes(h))&&zw(t,l,s,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;let r=BN(),i=YN(e),o=e!==i,s=null,a=!0,l=!0,c=!1;o&&r&&(s=r.Event(e,n),r(t).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());let u=Qw(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&s&&s.preventDefault(),u}};function Qw(t,e={}){for(let[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function fN(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Rw(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Wr={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Rw(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Rw(e)}`)},getDataAttributes(t){if(!t)return{};let e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=fN(t.dataset[r])}return e},getDataAttribute(t,e){return fN(t.getAttribute(`data-bs-${Rw(e)}`))}},zo=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){let r=Hr(n)?Wr.getDataAttribute(n,"config"):{};return C(C(C(C({},this.constructor.Default),typeof r=="object"?r:{}),Hr(n)?Wr.getDataAttributes(n):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,n=this.constructor.DefaultType){for(let[r,i]of Object.entries(n)){let o=e[r],s=Hr(o)?"element":_z(o);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}},Az="5.3.6",an=class extends zo{constructor(e,n){super(),e=Ti(e),e&&(this._element=e,this._config=this._getConfig(n),xw.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xw.remove(this._element,this.constructor.DATA_KEY),b.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){$N(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return xw.get(Ti(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Az}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},Ow=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>VN(n)).join(","):null},V={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){let n=[],r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Si(n)&&ba(n))},getSelectorFromElement(t){let e=Ow(t);return e&&V.findOne(e)?e:null},getElementFromSelector(t){let e=Ow(t);return e?V.findOne(e):null},getMultipleElementsFromSelector(t){let e=Ow(t);return e?V.find(e):[]}},kp=(t,e="hide")=>{let n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;b.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Si(this))return;let o=V.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(o)[e]()})},xz="alert",Mz="bs.alert",KN=`.${Mz}`,Nz=`close${KN}`,Rz=`closed${KN}`,Oz="fade",kz="show",Dp=class t extends an{static get NAME(){return xz}close(){if(b.trigger(this._element,Nz).defaultPrevented)return;this._element.classList.remove(kz);let n=this._element.classList.contains(Oz);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),b.trigger(this._element,Rz),this.dispose()}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};kp(Dp,"close");Sn(Dp);var Pz="button",Lz="bs.button",Fz=`.${Lz}`,Vz=".data-api",jz="active",hN='[data-bs-toggle="button"]',Uz=`click${Fz}${Vz}`,Tp=class t extends an{static get NAME(){return Pz}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(jz))}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this);e==="toggle"&&n[e]()})}};b.on(document,Uz,hN,t=>{t.preventDefault();let e=t.target.closest(hN);Tp.getOrCreateInstance(e).toggle()});Sn(Tp);var Bz="swipe",Ca=".bs.swipe",$z=`touchstart${Ca}`,Hz=`touchmove${Ca}`,Wz=`touchend${Ca}`,zz=`pointerdown${Ca}`,Gz=`pointerup${Ca}`,qz="touch",Yz="pen",Kz="pointer-event",Qz=40,Zz={endCallback:null,leftCallback:null,rightCallback:null},Jz={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Sp=class t extends zo{constructor(e,n){super(),this._element=e,!(!e||!t.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Zz}static get DefaultType(){return Jz}static get NAME(){return Bz}dispose(){b.off(this._element,Ca)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Kt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=Qz)return;let n=e/this._deltaX;this._deltaX=0,n&&Kt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(b.on(this._element,zz,e=>this._start(e)),b.on(this._element,Gz,e=>this._end(e)),this._element.classList.add(Kz)):(b.on(this._element,$z,e=>this._start(e)),b.on(this._element,Hz,e=>this._move(e)),b.on(this._element,Wz,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Yz||e.pointerType===qz)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Xz="carousel",e8="bs.carousel",Mi=`.${e8}`,QN=".data-api",t8="ArrowLeft",n8="ArrowRight",r8=500,Wc="next",ga="prev",ya="left",bp="right",i8=`slide${Mi}`,kw=`slid${Mi}`,o8=`keydown${Mi}`,s8=`mouseenter${Mi}`,a8=`mouseleave${Mi}`,l8=`dragstart${Mi}`,c8=`load${Mi}${QN}`,u8=`click${Mi}${QN}`,ZN="carousel",gp="active",d8="slide",f8="carousel-item-end",h8="carousel-item-start",p8="carousel-item-next",m8="carousel-item-prev",JN=".active",XN=".carousel-item",g8=JN+XN,_8=".carousel-item img",y8=".carousel-indicators",v8="[data-bs-slide], [data-bs-slide-to]",E8='[data-bs-ride="carousel"]',w8={[t8]:bp,[n8]:ya},b8={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},C8={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Gc=class t extends an{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=V.findOne(y8,this._element),this._addEventListeners(),this._config.ride===ZN&&this.cycle()}static get Default(){return b8}static get DefaultType(){return C8}static get NAME(){return Xz}next(){this._slide(Wc)}nextWhenVisible(){!document.hidden&&ba(this._element)&&this.next()}prev(){this._slide(ga)}pause(){this._isSliding&&jN(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){b.one(this._element,kw,()=>this.cycle());return}this.cycle()}}to(e){let n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){b.one(this._element,kw,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let i=e>r?Wc:ga;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&b.on(this._element,o8,e=>this._keydown(e)),this._config.pause==="hover"&&(b.on(this._element,s8,()=>this.pause()),b.on(this._element,a8,()=>this._maybeEnableCycle())),this._config.touch&&Sp.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of V.find(_8,this._element))b.on(r,l8,i=>i.preventDefault());let n={leftCallback:()=>this._slide(this._directionToOrder(ya)),rightCallback:()=>this._slide(this._directionToOrder(bp)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),r8+this._config.interval))}};this._swipeHelper=new Sp(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let n=w8[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let n=V.findOne(JN,this._indicatorsElement);n.classList.remove(gp),n.removeAttribute("aria-current");let r=V.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(gp),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;let r=this._getActive(),i=e===Wc,o=n||Kw(this._getItems(),r,i,this._config.wrap);if(o===r)return;let s=this._getItemIndex(o),a=h=>b.trigger(this._element,h,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:s});if(a(i8).defaultPrevented||!r||!o)return;let c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let u=i?h8:f8,d=i?p8:m8;o.classList.add(d),Kc(o),r.classList.add(u),o.classList.add(u);let f=()=>{o.classList.remove(u,d),o.classList.add(gp),r.classList.remove(gp,d,u),this._isSliding=!1,a(kw)};this._queueCallback(f,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(d8)}_getActive(){return V.findOne(g8,this._element)}_getItems(){return V.find(XN,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Dn()?e===ya?ga:Wc:e===ya?Wc:ga}_orderToDirection(e){return Dn()?e===ga?ya:bp:e===ga?bp:ya}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};b.on(document,u8,v8,function(t){let e=V.getElementFromSelector(this);if(!e||!e.classList.contains(ZN))return;t.preventDefault();let n=Gc.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Wr.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});b.on(window,c8,()=>{let t=V.find(E8);for(let e of t)Gc.getOrCreateInstance(e)});Sn(Gc);var I8="collapse",D8="bs.collapse",Qc=`.${D8}`,T8=".data-api",S8=`show${Qc}`,A8=`shown${Qc}`,x8=`hide${Qc}`,M8=`hidden${Qc}`,N8=`click${Qc}${T8}`,Pw="show",Ea="collapse",_p="collapsing",R8="collapsed",O8=`:scope .${Ea} .${Ea}`,k8="collapse-horizontal",P8="width",L8="height",F8=".collapse.show, .collapse.collapsing",Gw='[data-bs-toggle="collapse"]',V8={parent:null,toggle:!0},j8={parent:"(null|element)",toggle:"boolean"},Ap=class t extends an{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];let r=V.find(Gw);for(let i of r){let o=V.getSelectorFromElement(i),s=V.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return V8}static get DefaultType(){return j8}static get NAME(){return I8}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(F8).filter(a=>a!==this._element).map(a=>t.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||b.trigger(this._element,S8).defaultPrevented)return;for(let a of e)a.hide();let r=this._getDimension();this._element.classList.remove(Ea),this._element.classList.add(_p),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(_p),this._element.classList.add(Ea,Pw),this._element.style[r]="",b.trigger(this._element,A8)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||b.trigger(this._element,x8).defaultPrevented)return;let n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Kc(this._element),this._element.classList.add(_p),this._element.classList.remove(Ea,Pw);for(let i of this._triggerArray){let o=V.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(_p),this._element.classList.add(Ea),b.trigger(this._element,M8)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Pw)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ti(e.parent),e}_getDimension(){return this._element.classList.contains(k8)?P8:L8}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(Gw);for(let n of e){let r=V.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){let n=V.find(O8,this._config.parent);return V.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(let r of e)r.classList.toggle(R8,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){let n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){let r=t.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};b.on(document,N8,Gw,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(let e of V.getMultipleElementsFromSelector(this))Ap.getOrCreateInstance(e,{toggle:!1}).toggle()});Sn(Ap);var pN="dropdown",U8="bs.dropdown",Go=`.${U8}`,Zw=".data-api",B8="Escape",mN="Tab",$8="ArrowUp",gN="ArrowDown",H8=2,W8=`hide${Go}`,z8=`hidden${Go}`,G8=`show${Go}`,q8=`shown${Go}`,eR=`click${Go}${Zw}`,tR=`keydown${Go}${Zw}`,Y8=`keyup${Go}${Zw}`,va="show",K8="dropup",Q8="dropend",Z8="dropstart",J8="dropup-center",X8="dropdown-center",Ho='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',e6=`${Ho}.${va}`,Cp=".dropdown-menu",t6=".navbar",n6=".navbar-nav",r6=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",i6=Dn()?"top-end":"top-start",o6=Dn()?"top-start":"top-end",s6=Dn()?"bottom-end":"bottom-start",a6=Dn()?"bottom-start":"bottom-end",l6=Dn()?"left-start":"right-start",c6=Dn()?"right-start":"left-start",u6="top",d6="bottom",f6={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},h6={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Ai=class t extends an{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=V.next(this._element,Cp)[0]||V.prev(this._element,Cp)[0]||V.findOne(Cp,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return f6}static get DefaultType(){return h6}static get NAME(){return pN}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Si(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!b.trigger(this._element,G8,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(n6))for(let r of[].concat(...document.body.children))b.on(r,"mouseover",Ip);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(va),this._element.classList.add(va),b.trigger(this._element,q8,e)}}hide(){if(Si(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!b.trigger(this._element,W8,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))b.off(r,"mouseover",Ip);this._popper&&this._popper.destroy(),this._menu.classList.remove(va),this._element.classList.remove(va),this._element.setAttribute("aria-expanded","false"),Wr.removeDataAttribute(this._menu,"popper"),b.trigger(this._element,z8,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Hr(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${pN.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof mp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Hr(this._config.reference)?e=Ti(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let n=this._getPopperConfig();this._popper=Hc(e,this._menu,n)}_isShown(){return this._menu.classList.contains(va)}_getPlacement(){let e=this._parent;if(e.classList.contains(Q8))return l6;if(e.classList.contains(Z8))return c6;if(e.classList.contains(J8))return u6;if(e.classList.contains(X8))return d6;let n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(K8)?n?o6:i6:n?a6:s6}_detectNavbar(){return this._element.closest(t6)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Wr.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),C(C({},e),Kt(this._config.popperConfig,[void 0,e]))}_selectMenuItem({key:e,target:n}){let r=V.find(r6,this._menu).filter(i=>ba(i));r.length&&Kw(r,n,e===gN,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===H8||e.type==="keyup"&&e.key!==mN)return;let n=V.find(e6);for(let r of n){let i=t.getInstance(r);if(!i||i._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===mN||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){let n=/input|textarea/i.test(e.target.tagName),r=e.key===B8,i=[$8,gN].includes(e.key);if(!i&&!r||n&&!r)return;e.preventDefault();let o=this.matches(Ho)?this:V.prev(this,Ho)[0]||V.next(this,Ho)[0]||V.findOne(Ho,e.delegateTarget.parentNode),s=t.getOrCreateInstance(o);if(i){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};b.on(document,tR,Ho,Ai.dataApiKeydownHandler);b.on(document,tR,Cp,Ai.dataApiKeydownHandler);b.on(document,eR,Ai.clearMenus);b.on(document,Y8,Ai.clearMenus);b.on(document,eR,Ho,function(t){t.preventDefault(),Ai.getOrCreateInstance(this).toggle()});Sn(Ai);var nR="backdrop",p6="fade",_N="show",yN=`mousedown.bs.${nR}`,m6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},g6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},xp=class extends zo{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return m6}static get DefaultType(){return g6}static get NAME(){return nR}show(e){if(!this._config.isVisible){Kt(e);return}this._append();let n=this._getElement();this._config.isAnimated&&Kc(n),n.classList.add(_N),this._emulateAnimation(()=>{Kt(e)})}hide(e){if(!this._config.isVisible){Kt(e);return}this._getElement().classList.remove(_N),this._emulateAnimation(()=>{this.dispose(),Kt(e)})}dispose(){this._isAppended&&(b.off(this._element,yN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(p6),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ti(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),b.on(e,yN,()=>{Kt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){$N(e,this._getElement(),this._config.isAnimated)}},_6="focustrap",y6="bs.focustrap",Mp=`.${y6}`,v6=`focusin${Mp}`,E6=`keydown.tab${Mp}`,w6="Tab",b6="forward",vN="backward",C6={autofocus:!0,trapElement:null},I6={autofocus:"boolean",trapElement:"element"},Np=class extends zo{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return C6}static get DefaultType(){return I6}static get NAME(){return _6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),b.off(document,Mp),b.on(document,v6,e=>this._handleFocusin(e)),b.on(document,E6,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,b.off(document,Mp))}_handleFocusin(e){let{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;let r=V.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===vN?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===w6&&(this._lastTabNavDirection=e.shiftKey?vN:b6)}},EN=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wN=".sticky-top",yp="padding-right",bN="margin-right",qc=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yp,n=>n+e),this._setElementAttributes(EN,yp,n=>n+e),this._setElementAttributes(wN,bN,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yp),this._resetElementAttributes(EN,yp),this._resetElementAttributes(wN,bN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){let i=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,n);let a=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,n){let r=e.style.getPropertyValue(n);r&&Wr.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){let r=i=>{let o=Wr.getDataAttribute(i,n);if(o===null){i.style.removeProperty(n);return}Wr.removeDataAttribute(i,n),i.style.setProperty(n,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(Hr(e)){n(e);return}for(let r of V.find(e,this._element))n(r)}},D6="modal",T6="bs.modal",Tn=`.${T6}`,S6=".data-api",A6="Escape",x6=`hide${Tn}`,M6=`hidePrevented${Tn}`,rR=`hidden${Tn}`,iR=`show${Tn}`,N6=`shown${Tn}`,R6=`resize${Tn}`,O6=`click.dismiss${Tn}`,k6=`mousedown.dismiss${Tn}`,P6=`keydown.dismiss${Tn}`,L6=`click${Tn}${S6}`,CN="modal-open",F6="fade",IN="show",Lw="modal-static",V6=".modal.show",j6=".modal-dialog",U6=".modal-body",B6='[data-bs-toggle="modal"]',$6={backdrop:!0,focus:!0,keyboard:!0},H6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Lt=class t extends an{constructor(e,n){super(e,n),this._dialog=V.findOne(j6,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new qc,this._addEventListeners()}static get Default(){return $6}static get DefaultType(){return H6}static get NAME(){return D6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||b.trigger(this._element,iR,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||b.trigger(this._element,x6).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(IN),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){b.off(window,Tn),b.off(this._dialog,Tn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Np({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let n=V.findOne(U6,this._dialog);n&&(n.scrollTop=0),Kc(this._element),this._element.classList.add(IN);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,b.trigger(this._element,N6,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){b.on(this._element,P6,e=>{if(e.key===A6){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),b.on(window,R6,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),b.on(this._element,k6,e=>{b.one(this._element,O6,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CN),this._resetAdjustments(),this._scrollBar.reset(),b.trigger(this._element,rR)})}_isAnimated(){return this._element.classList.contains(F6)}_triggerBackdropTransition(){if(b.trigger(this._element,M6).defaultPrevented)return;let n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Lw)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Lw),this._queueCallback(()=>{this._element.classList.remove(Lw),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){let i=Dn()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&e){let i=Dn()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}};b.on(document,L6,B6,function(t){let e=V.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),b.one(e,iR,i=>{i.defaultPrevented||b.one(e,rR,()=>{ba(this)&&this.focus()})});let n=V.findOne(V6);n&&Lt.getInstance(n).hide(),Lt.getOrCreateInstance(e).toggle(this)});kp(Lt);Sn(Lt);var W6="offcanvas",z6="bs.offcanvas",zr=`.${z6}`,oR=".data-api",G6=`load${zr}${oR}`,q6="Escape",DN="show",TN="showing",SN="hiding",Y6="offcanvas-backdrop",sR=".offcanvas.show",K6=`show${zr}`,Q6=`shown${zr}`,Z6=`hide${zr}`,AN=`hidePrevented${zr}`,aR=`hidden${zr}`,J6=`resize${zr}`,X6=`click${zr}${oR}`,eG=`keydown.dismiss${zr}`,tG='[data-bs-toggle="offcanvas"]',nG={backdrop:!0,keyboard:!0,scroll:!1},rG={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},xi=class t extends an{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nG}static get DefaultType(){return rG}static get NAME(){return W6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||b.trigger(this._element,K6,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new qc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(TN);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(DN),this._element.classList.remove(TN),b.trigger(this._element,Q6,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||b.trigger(this._element,Z6).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(SN),this._backdrop.hide();let n=()=>{this._element.classList.remove(DN,SN),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new qc().reset(),b.trigger(this._element,aR)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){b.trigger(this._element,AN);return}this.hide()},n=!!this._config.backdrop;return new xp({className:Y6,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new Np({trapElement:this._element})}_addEventListeners(){b.on(this._element,eG,e=>{if(e.key===q6){if(this._config.keyboard){this.hide();return}b.trigger(this._element,AN)}})}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};b.on(document,X6,tG,function(t){let e=V.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Si(this))return;b.one(e,aR,()=>{ba(this)&&this.focus()});let n=V.findOne(sR);n&&n!==e&&xi.getInstance(n).hide(),xi.getOrCreateInstance(e).toggle(this)});b.on(window,G6,()=>{for(let t of V.find(sR))xi.getOrCreateInstance(t).show()});b.on(window,J6,()=>{for(let t of V.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&xi.getOrCreateInstance(t).hide()});kp(xi);Sn(xi);var iG=/^aria-[\w-]*$/i,lR={"*":["class","dir","id","lang","role",iG],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},oG=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),sG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,aG=(t,e)=>{let n=t.nodeName.toLowerCase();return e.includes(n)?oG.has(n)?!!sG.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function lG(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);let i=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}let l=[].concat(...s.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(let u of l)aG(u,c)||s.removeAttribute(u.nodeName)}return i.body.innerHTML}var cG="TemplateFactory",uG={allowList:lR,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},dG={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},fG={entry:"(string|element|function|null)",selector:"(string|element)"},qw=class extends zo{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return uG}static get DefaultType(){return dG}static get NAME(){return cG}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=C(C({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);let n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},fG)}_setContent(e,n,r){let i=V.findOne(r,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Hr(n)){this._putElementInTemplate(Ti(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?lG(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Kt(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}},hG="tooltip",pG=new Set(["sanitize","allowList","sanitizeFn"]),Fw="fade",mG="modal",vp="show",gG=".tooltip-inner",xN=`.${mG}`,MN="hide.bs.modal",zc="hover",Vw="focus",_G="click",yG="manual",vG="hide",EG="hidden",wG="show",bG="shown",CG="inserted",IG="click",DG="focusin",TG="focusout",SG="mouseenter",AG="mouseleave",xG={AUTO:"auto",TOP:"top",RIGHT:Dn()?"left":"right",BOTTOM:"bottom",LEFT:Dn()?"right":"left"},MG={allowList:lR,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},NG={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},wa=class t extends an{constructor(e,n){if(typeof mp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return MG}static get DefaultType(){return NG}static get NAME(){return hG}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),b.off(this._element.closest(xN),MN,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=b.trigger(this._element,this.constructor.eventName(wG)),r=(UN(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),b.trigger(this._element,this.constructor.eventName(CG))),this._popper=this._createPopper(i),i.classList.add(vp),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))b.on(a,"mouseover",Ip);let s=()=>{b.trigger(this._element,this.constructor.eventName(bG)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||b.trigger(this._element,this.constructor.eventName(vG)).defaultPrevented)return;if(this._getTipElement().classList.remove(vp),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))b.off(i,"mouseover",Ip);this._activeTrigger[_G]=!1,this._activeTrigger[Vw]=!1,this._activeTrigger[zc]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),b.trigger(this._element,this.constructor.eventName(EG)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Fw,vp),n.classList.add(`bs-${this.constructor.NAME}-auto`);let r=yz(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Fw),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new qw(K(C({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[gG]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Fw)}_isShown(){return this.tip&&this.tip.classList.contains(vp)}_createPopper(e){let n=Kt(this._config.placement,[this,e,this._element]),r=xG[n.toUpperCase()];return Hc(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Kt(e,[this._element,this._element])}_getPopperConfig(e){let n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return C(C({},n),Kt(this._config.popperConfig,[void 0,n]))}_setListeners(){let e=this._config.trigger.split(" ");for(let n of e)if(n==="click")b.on(this._element,this.constructor.eventName(IG),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==yG){let r=n===zc?this.constructor.eventName(SG):this.constructor.eventName(DG),i=n===zc?this.constructor.eventName(AG):this.constructor.eventName(TG);b.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?Vw:zc]=!0,s._enter()}),b.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?Vw:zc]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},b.on(this._element.closest(xN),MN,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let n=Wr.getDataAttributes(this._element);for(let r of Object.keys(n))pG.has(r)&&delete n[r];return e=C(C({},n),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ti(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};Sn(wa);var RG="popover",OG=".popover-header",kG=".popover-body",PG=K(C({},wa.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),LG=K(C({},wa.DefaultType),{content:"(null|string|element|function)"}),Yw=class t extends wa{static get Default(){return PG}static get DefaultType(){return LG}static get NAME(){return RG}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[OG]:this._getTitle(),[kG]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};Sn(Yw);var FG="scrollspy",VG="bs.scrollspy",Jw=`.${VG}`,jG=".data-api",UG=`activate${Jw}`,NN=`click${Jw}`,BG=`load${Jw}${jG}`,$G="dropdown-item",_a="active",HG='[data-bs-spy="scroll"]',jw="[href]",WG=".nav, .list-group",RN=".nav-link",zG=".nav-item",GG=".list-group-item",qG=`${RN}, ${zG} > ${RN}, ${GG}`,YG=".dropdown",KG=".dropdown-toggle",QG={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ZG={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Rp=class t extends an{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return QG}static get DefaultType(){return ZG}static get NAME(){return FG}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ti(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(b.off(this._config.target,NN),b.on(this._config.target,NN,jw,e=>{let n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();let r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){let n=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(r(s),!i)return;continue}!o&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=V.find(jw,this._config.target);for(let n of e){if(!n.hash||Si(n))continue;let r=V.findOne(decodeURI(n.hash),this._element);ba(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(_a),this._activateParents(e),b.trigger(this._element,UG,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains($G)){V.findOne(KG,e.closest(YG)).classList.add(_a);return}for(let n of V.parents(e,WG))for(let r of V.prev(n,qG))r.classList.add(_a)}_clearActiveClass(e){e.classList.remove(_a);let n=V.find(`${jw}.${_a}`,e);for(let r of n)r.classList.remove(_a)}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};b.on(window,BG,()=>{for(let t of V.find(HG))Rp.getOrCreateInstance(t)});Sn(Rp);var JG="tab",XG="bs.tab",qo=`.${XG}`,e5=`hide${qo}`,t5=`hidden${qo}`,n5=`show${qo}`,r5=`shown${qo}`,i5=`click${qo}`,o5=`keydown${qo}`,s5=`load${qo}`,a5="ArrowLeft",ON="ArrowRight",l5="ArrowUp",kN="ArrowDown",Uw="Home",PN="End",Wo="active",LN="fade",Bw="show",c5="dropdown",cR=".dropdown-toggle",u5=".dropdown-menu",$w=`:not(${cR})`,d5='.list-group, .nav, [role="tablist"]',f5=".nav-item, .list-group-item",h5=`.nav-link${$w}, .list-group-item${$w}, [role="tab"]${$w}`,uR='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hw=`${h5}, ${uR}`,p5=`.${Wo}[data-bs-toggle="tab"], .${Wo}[data-bs-toggle="pill"], .${Wo}[data-bs-toggle="list"]`,Yc=class t extends an{constructor(e){super(e),this._parent=this._element.closest(d5),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),b.on(this._element,o5,n=>this._keydown(n)))}static get NAME(){return JG}show(){let e=this._element;if(this._elemIsActive(e))return;let n=this._getActiveElem(),r=n?b.trigger(n,e5,{relatedTarget:e}):null;b.trigger(e,n5,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Wo),this._activate(V.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Bw);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),b.trigger(e,r5,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(LN))}_deactivate(e,n){if(!e)return;e.classList.remove(Wo),e.blur(),this._deactivate(V.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Bw);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),b.trigger(e,t5,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(LN))}_keydown(e){if(![a5,ON,l5,kN,Uw,PN].includes(e.key))return;e.stopPropagation(),e.preventDefault();let n=this._getChildren().filter(i=>!Si(i)),r;if([Uw,PN].includes(e.key))r=n[e.key===Uw?0:n.length-1];else{let i=[ON,kN].includes(e.key);r=Kw(n,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),t.getOrCreateInstance(r).show())}_getChildren(){return V.find(Hw,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(let r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let n=V.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){let r=this._getOuterElement(e);if(!r.classList.contains(c5))return;let i=(o,s)=>{let a=V.findOne(o,r);a&&a.classList.toggle(s,n)};i(cR,Wo),i(u5,Bw),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(Wo)}_getInnerElement(e){return e.matches(Hw)?e:V.findOne(Hw,e)}_getOuterElement(e){return e.closest(f5)||e}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};b.on(document,i5,uR,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Si(this)&&Yc.getOrCreateInstance(this).show()});b.on(window,s5,()=>{for(let t of V.find(p5))Yc.getOrCreateInstance(t)});Sn(Yc);var m5="toast",g5="bs.toast",Ni=`.${g5}`,_5=`mouseover${Ni}`,y5=`mouseout${Ni}`,v5=`focusin${Ni}`,E5=`focusout${Ni}`,w5=`hide${Ni}`,b5=`hidden${Ni}`,C5=`show${Ni}`,I5=`shown${Ni}`,D5="fade",FN="hide",Ep="show",wp="showing",T5={animation:"boolean",autohide:"boolean",delay:"number"},S5={animation:!0,autohide:!0,delay:5e3},Op=class t extends an{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return S5}static get DefaultType(){return T5}static get NAME(){return m5}show(){if(b.trigger(this._element,C5).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(D5);let n=()=>{this._element.classList.remove(wp),b.trigger(this._element,I5),this._maybeScheduleHide()};this._element.classList.remove(FN),Kc(this._element),this._element.classList.add(Ep,wp),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||b.trigger(this._element,w5).defaultPrevented)return;let n=()=>{this._element.classList.add(FN),this._element.classList.remove(wp,Ep),b.trigger(this._element,b5)};this._element.classList.add(wp),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ep),super.dispose()}isShown(){return this._element.classList.contains(Ep)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){b.on(this._element,_5,e=>this._onInteraction(e,!0)),b.on(this._element,y5,e=>this._onInteraction(e,!1)),b.on(this._element,v5,e=>this._onInteraction(e,!0)),b.on(this._element,E5,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};kp(Op);Sn(Op);var ER=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(L(Dr),L(Xn))};static \u0275dir=Te({type:t})}return t})(),nu=(()=>{class t extends ER{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275dir=Te({type:t,features:[Ht]})}return t})(),Aa=new x("");var A5={provide:Aa,useExisting:dn(()=>xa),multi:!0};function x5(){let t=mn()?mn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var M5=new x(""),xa=(()=>{class t extends ER{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!x5())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(L(Dr),L(Xn),L(M5,8))};static \u0275dir=Te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[tr([A5]),Ht]})}return t})();var $p=new x(""),wR=new x("");function N5(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function R5(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function dR(t){return null}function bR(t){return t!=null}function CR(t){return io(t)?Ie(t):t}function IR(t){let e={};return t.forEach(n=>{e=n!=null?C(C({},e),n):e}),Object.keys(e).length===0?null:e}function DR(t,e){return e.map(n=>n(t))}function O5(t){return!t.validate}function TR(t){return t.map(e=>O5(e)?e:n=>e.validate(n))}function k5(t){if(!t)return null;let e=t.filter(bR);return e.length==0?null:function(n){return IR(DR(n,e))}}function nb(t){return t!=null?k5(TR(t)):null}function P5(t){if(!t)return null;let e=t.filter(bR);return e.length==0?null:function(n){let r=DR(n,e).map(CR);return Nm(r).pipe(J(IR))}}function rb(t){return t!=null?P5(TR(t)):null}function fR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function L5(t){return t._rawValidators}function F5(t){return t._rawAsyncValidators}function Xw(t){return t?Array.isArray(t)?t:[t]:[]}function Lp(t,e){return Array.isArray(t)?t.includes(e):t===e}function hR(t,e){let n=Xw(e);return Xw(t).forEach(i=>{Lp(n,i)||n.push(i)}),n}function pR(t,e){return Xw(e).filter(n=>!Lp(t,n))}var Fp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ta=class extends Fp{name;get formDirective(){return null}get path(){return null}},Sa=class extends Fp{_parent=null;name=null;valueAccessor=null},Vp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},V5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fce=K(C({},V5),{"[class.ng-submitted]":"isSubmitted"}),Hp=(()=>{class t extends Vp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(L(Sa,2))};static \u0275dir=Te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Gd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ht]})}return t})(),SR=(()=>{class t extends Vp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(L(Ta,10))};static \u0275dir=Te({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Gd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ht]})}return t})();var Zc="VALID",Pp="INVALID",Ia="PENDING",Jc="DISABLED",Ri=class{},jp=class extends Ri{value;source;constructor(e,n){super(),this.value=e,this.source=n}},eu=class extends Ri{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},tu=class extends Ri{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Da=class extends Ri{status;source;constructor(e,n){super(),this.status=e,this.source=n}},eb=class extends Ri{source;constructor(e){super(),this.source=e}},tb=class extends Ri{source;constructor(e){super(),this.source=e}};function AR(t){return(Wp(t)?t.validators:t)||null}function j5(t){return Array.isArray(t)?nb(t):t||null}function xR(t,e){return(Wp(e)?e.asyncValidators:t)||null}function U5(t){return Array.isArray(t)?rb(t):t||null}function Wp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function B5(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function $5(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var Up=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Tr(this.statusReactive)}set status(e){Tr(()=>this.statusReactive.set(e))}_status=rl(()=>this.statusReactive());statusReactive=tl(void 0);get valid(){return this.status===Zc}get invalid(){return this.status===Pp}get pending(){return this.status==Ia}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}errors;get pristine(){return Tr(this.pristineReactive)}set pristine(e){Tr(()=>this.pristineReactive.set(e))}_pristine=rl(()=>this.pristineReactive());pristineReactive=tl(!0);get dirty(){return!this.pristine}get touched(){return Tr(this.touchedReactive)}set touched(e){Tr(()=>this.touchedReactive.set(e))}_touched=rl(()=>this.touchedReactive());touchedReactive=tl(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pR(e,this._rawAsyncValidators))}hasValidator(e){return Lp(this._rawValidators,e)}hasAsyncValidator(e){return Lp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(K(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new tu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new tu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(K(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAsPending(e={}){this.status=Ia;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Da(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(K(C({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(i=>{i.disable(K(C({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jp(this.value,r)),this._events.next(new Da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this._forEachChild(r=>{r.enable(K(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(K(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===Ia)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jp(this.value,n)),this._events.next(new Da(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(K(C({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=CR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Da(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?Pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(Pp)?Pp:Zc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new eu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new tu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=U5(this._rawAsyncValidators)}},Bp=class extends Up{constructor(e,n,r){super(AR(n),xR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$5(this,!0,e),Object.keys(e).forEach(r=>{B5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zp=new x("",{providedIn:"root",factory:()=>Gp}),Gp="always";function H5(t,e){return[...e.path,t]}function MR(t,e,n=Gp){NR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),z5(t,e),q5(t,e),G5(t,e),W5(t,e)}function mR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function W5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function NR(t,e){let n=L5(t);e.validator!==null?t.setValidators(fR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=F5(t);e.asyncValidator!==null?t.setAsyncValidators(fR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();mR(e._rawValidators,i),mR(e._rawAsyncValidators,i)}function z5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&RR(t,e)})}function G5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&RR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function RR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function q5(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Y5(t,e){t==null,NR(t,e)}function K5(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Q5(t){return Object.getPrototypeOf(t.constructor)===nu}function Z5(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function J5(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===xa?n=o:Q5(o)?r=o:i=o}),i||r||n||null}var X5={provide:Ta,useExisting:dn(()=>ib)},Xc=Promise.resolve(),ib=(()=>{class t extends Ta{callSetDisabledState;get submitted(){return Tr(this.submittedReactive)}_submitted=rl(()=>this.submittedReactive());submittedReactive=tl(!1);_directives=new Set;form;ngSubmit=new Ye;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Bp({},nb(n),rb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Xc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),MR(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Xc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Xc.then(()=>{let r=this._findContainer(n.path),i=new Bp({});Y5(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Xc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Xc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Z5(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new eb(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new tb(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(L($p,10),L(wR,10),L(zp,8))};static \u0275dir=Te({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tr([X5]),Ht]})}return t})();function gR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _R(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var eq=class extends Up{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(AR(n),xR(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(_R(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_R(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var tq={provide:Sa,useExisting:dn(()=>ru)},yR=Promise.resolve(),ru=(()=>{class t extends Sa{_changeDetectorRef;callSetDisabledState;control=new eq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=J5(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),K5(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){MR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){yR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Is(r);yR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?H5(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(L(Ta,9),L($p,10),L(wR,10),L(Aa,10),L(nr,8),L(zp,8))};static \u0275dir=Te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tr([tq]),Ht,ti]})}return t})();var OR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Te({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),nq={provide:Aa,useExisting:dn(()=>ob),multi:!0},ob=(()=>{class t extends nu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275dir=Te({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[tr([nq]),Ht]})}return t})(),rq={provide:Aa,useExisting:dn(()=>sb),multi:!0};var iq=(()=>{class t{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sb=(()=>{class t extends nu{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=T(zp,{optional:!0})??Gp;constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Sa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||t)(L(Dr),L(Xn),L(iq),L(Yn))};static \u0275dir=Te({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[tr([rq]),Ht]})}return t})();var oq={provide:Aa,useExisting:dn(()=>qp),multi:!0};function kR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function sq(t){return t.split(":")[0]}var qp=(()=>{class t extends nu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=kR(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=sq(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275dir=Te({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tr([oq]),Ht]})}return t})(),Yp=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(kR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(L(Xn),L(Dr),L(qp,9))};static \u0275dir=Te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),aq={provide:Aa,useExisting:dn(()=>PR),multi:!0};function vR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function lq(t){return t.split(":")[0]}var PR=(()=>{class t extends nu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=lq(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275dir=Te({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tr([aq]),Ht]})}return t})(),Kp=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(vR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(vR(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(L(Xn),L(Dr),L(PR,9))};static \u0275dir=Te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function LR(t){return typeof t=="number"?t:parseFloat(t)}var FR=(()=>{class t{_validator=dR;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dR,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Te({type:t,features:[ti]})}return t})(),cq={provide:$p,useExisting:dn(()=>ab),multi:!0},ab=(()=>{class t extends FR{max;inputName="max";normalizeInput=n=>LR(n);createValidator=n=>R5(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275dir=Te({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&er("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[tr([cq]),Ht]})}return t})(),uq={provide:$p,useExisting:dn(()=>lb),multi:!0},lb=(()=>{class t extends FR{min;inputName="min";normalizeInput=n=>LR(n);createValidator=n=>N5(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jn(t)))(i||t)}})();static \u0275dir=Te({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&er("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[tr([uq]),Ht]})}return t})();var dq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=ei({})}return t})();var Qp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zp,useValue:n.callSetDisabledState??Gp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=ei({imports:[dq]})}return t})();var Zp=(()=>{class t{transform(n){let r;return function(i){i[i.January=1]="January",i[i.February=2]="February",i[i.March=3]="March",i[i.April=4]="April",i[i.May=5]="May",i[i.June=6]="June",i[i.July=7]="July",i[i.August=8]="August",i[i.September=9]="September",i[i.October=10]="October",i[i.November=11]="November",i[i.December=12]="December"}(r||(r={})),r[parseInt(n)]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Cs({name:"month",type:t,pure:!0})}}return t})();function fq(t,e){if(t&1){let n=ue();m(0,"div")(1,"h1"),g(2,"Your account will be activated soon."),p(),m(3,"button",0),O("click",function(){M(n);let i=I(2);return N(i.logout())}),g(4," Log Out"),p()()}}function hq(t,e){t&1&&(m(0,"h2"),g(1,"Your account is deactivated"),p())}function pq(t,e){t&1&&R(0,"span",6)}function mq(t,e){t&1&&R(0,"span",7)}function gq(t,e){t&1&&R(0,"span",45)}function _q(t,e){t&1&&R(0,"span",46)}function yq(t,e){if(t&1){let n=ue();m(0,"button",44),O("click",function(){M(n);let i=I(3);return N(i.edit_extras())}),he(1,gq,1,0,"span",45)(2,_q,1,0,"span",46),p()}if(t&2){let n=I(3);E(),de(n.extras_editing?2:1)}}function vq(t,e){if(t&1&&(m(0,"li"),g(1,"Address: "),m(2,"span"),g(3),p()(),m(4,"li"),g(5,"Phone Number (#): "),m(6,"span"),g(7),p()(),R(8,"br"),m(9,"li"),g(10,"Emergency Contact: "),m(11,"span"),g(12),p()(),m(13,"li"),g(14,"Emergency Contact Phone #: "),m(15,"span"),g(16),p()()),t&2){let n=I(3);E(3),z(n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.address),E(4),z(n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.phone),E(5),z(n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.emer_contact),E(4),z(n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.emer_phone)}}function Eq(t,e){if(t&1&&(m(0,"li"),g(1,"Address: "),R(2,"br")(3,"input",47),p(),m(4,"li"),g(5,"Phone Number (#): "),R(6,"br")(7,"input",48),p(),R(8,"br"),m(9,"li"),g(10,"Emergency Contact: "),R(11,"br")(12,"input",49),p(),m(13,"li"),g(14,"Emergency Contact Phone #: "),R(15,"br")(16,"input",50),p()),t&2){let n=I(3);E(3),at("value",n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.address),E(4),at("value",n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.phone),E(5),at("value",n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.emer_contact),E(4),at("value",n.employee_details.demographics.extras==null?null:n.employee_details.demographics.extras.emer_phone)}}function wq(t,e){if(t&1){let n=ue();m(0,"button",56),O("click",function(){M(n);let i=I(4);return N(i.request_day())}),g(1,"Request Day Off"),p()}}function bq(t,e){if(t&1){let n=ue();m(0,"button",54),O("click",function(){M(n);let i=I(4);return N(i.view_pending_days())}),g(1,"View Pending Approvals"),p()}}function Cq(t,e){if(t&1){let n=ue();m(0,"div",10)(1,"div")(2,"h2",51),g(3),p(),m(4,"span",52),g(5," sick day(s) left"),p()(),m(6,"div")(7,"h2",51),g(8),p(),m(9,"span",52),g(10," vacation day(s) left"),p()(),he(11,wq,2,0,"button",53),m(12,"button",54),O("click",function(){M(n);let i=I(3);return N(i.view_history())}),g(13,"View History"),p(),he(14,bq,2,0,"button",55),p()}if(t&2){let n=I(3);E(3),z(n.employee_details.sick_days!=null?n.employee_details.sick_days:0),E(5),z(n.employee_details.vacation_days!=null?n.employee_details.vacation_days:0),E(3),de(n.employee_details.deactivated!=!0?11:-1),E(3),de(n.employee_details.deactivated!=!0?14:-1)}}function Iq(t,e){if(t&1&&(m(0,"option"),g(1),p()),t&2){let n=e.$implicit;E(),z(n.key)}}function Dq(t,e){if(t&1&&(m(0,"tr")(1,"th")(2,"a",57),g(3),Pe(4,"month"),p()(),m(5,"td")(6,"div"),g(7,"\u20A6"),p(),m(8,"div"),g(9),p()(),m(10,"td")(11,"div"),g(12,"\u20A6"),p(),m(13,"div"),g(14),p()(),m(15,"td")(16,"div"),g(17,"\u20A6"),p(),m(18,"div"),g(19),p()(),m(20,"td")(21,"div"),g(22,"\u20A6"),p(),m(23,"div"),g(24),p()(),m(25,"td")(26,"div"),g(27,"\u20A6"),p(),m(28,"div"),g(29),p()(),m(30,"td")(31,"b")(32,"div"),g(33,"\u20A6"),p(),m(34,"div"),g(35),p()()()()),t&2){let n=e.$implicit,r=I(3);E(2),at("href",n.value.link,h_),E(),z(oi(4,8,n.key)),E(6),z(n.value.details.base),E(5),z(n.value.details.lunch),E(5),z(n.value.details.transport),E(5),z(n.value.details.healthcare),E(5),z(n.value.details.other),E(6),z(r.total(n.key))}}function Tq(t,e){if(t&1&&(m(0,"div",31)(1,"h2",58)(2,"button",59)(3,"div",28)(4,"div",29),g(5),Pe(6,"date"),p(),m(7,"div",30),g(8),p(),m(9,"div",29),g(10),p()()()(),m(11,"div",60)(12,"div",61),g(13),p()()()),t&2){let n=e.$implicit,r=e.$index,i=I(3);E(2),er("data-bs-target","#history"+r),E(3),z(xt(6,6,n.date,"longDate")),E(3),z(n.event),E(2),z(i.plural_fill(n.num_days,n.type)),E(),at("id","history"+r),E(2),gt(" ",n.more_info," ")}}function Sq(t,e){if(t&1){let n=ue();m(0,"tr",43)(1,"td"),g(2),Pe(3,"date"),p(),m(4,"td"),g(5),p(),m(6,"td")(7,"button",62),O("click",function(){let i=M(n).$implicit,o=I(3);return N(o.cancel_pending_day(i.key))}),g(8,"Cancel"),p()(),m(9,"td"),g(10),Pe(11,"date"),p(),m(12,"td"),g(13),Pe(14,"titlecase"),p()()}if(t&2){let n=e.$implicit;E(2),z(xt(3,4,n.value.proposed_date,"longDate")),E(3),z(n.value.reason),E(5),z(xt(11,7,n.value.request_date,"longDate")),E(3),z(oi(14,10,n.value.type))}}function Aq(t,e){if(t&1){let n=ue();m(0,"div"),he(1,hq,2,0,"h2"),m(2,"div",1)(3,"div",2)(4,"table",3)(5,"tbody")(6,"tr")(7,"td")(8,"div"),g(9,"First Name"),p(),g(10),p(),m(11,"td")(12,"div"),g(13,"Last Name"),p(),g(14),p(),m(15,"td")(16,"div"),g(17,"Date of Birth"),p(),g(18),Pe(19,"date"),p(),m(20,"td")(21,"div"),g(22,"Current Job Title"),p(),g(23),p()()(),m(24,"div",4)(25,"button",5),O("click",function(){M(n);let i=I(2);return N(i.extras_collapsed=!i.extras_collapsed)}),he(26,pq,1,0,"span",6)(27,mq,1,0,"span",7),p(),he(28,yq,3,1,"button",8),p(),m(29,"tfoot",9)(30,"ul")(31,"li"),g(32),p(),he(33,vq,17,4)(34,Eq,17,4),p()()()(),m(35,"button",0),O("click",function(){M(n);let i=I(2);return N(i.logout())}),g(36," Log Out"),p()(),he(37,Cq,15,4,"div",10),m(38,"div")(39,"div",11),R(40,"div",12),m(41,"button",13),O("click",function(){M(n);let i=I(2);return N(i.csv())}),g(42,"Export"),p(),m(43,"button",13),O("click",function(){M(n);let i=I(2);return N(i.print())}),g(44,"Print"),p(),m(45,"select",14),ct("ngModelChange",function(i){M(n);let o=I(2);return _t(o.current_year,i)||(o.current_year=i),N(i)}),m(46,"optgroup",15),St(47,Iq,2,1,"option",null,Tt),Pe(49,"keyvalue"),p()()(),m(50,"div",16)(51,"table",17)(52,"thead")(53,"tr")(54,"th"),g(55,"Salary Details"),p(),m(56,"th"),g(57,"Base"),p(),m(58,"th"),g(59,"Lunch"),p(),m(60,"th"),g(61,"Transport"),p(),m(62,"th"),g(63,"Healthcare"),p(),m(64,"th"),g(65,"Other"),p(),m(66,"th"),g(67,"Total"),p()()(),m(68,"tbody"),St(69,Dq,36,10,"tr",null,Tt),Pe(71,"keyvalue"),p()()()(),m(72,"div",18)(73,"div",19)(74,"div",20)(75,"div",21)(76,"h5",22),g(77,"View Days Off"),p(),R(78,"button",23),p(),m(79,"div",24)(80,"div",25)(81,"div",26)(82,"h6",27)(83,"div",28)(84,"div",29),g(85,"Date Taken"),p(),m(86,"div",30),g(87,"Event Description"),p(),m(88,"div",29),g(89,"Remaining Days"),p()()()(),St(90,Tq,14,9,"div",31,Tt),p()(),m(92,"div",32)(93,"button",33),g(94,"Close"),p()()()()(),m(95,"div",34)(96,"div",35)(97,"div",20)(98,"div",21)(99,"h5",22),g(100,"Request Time Off"),p(),R(101,"button",23),p(),m(102,"div",24)(103,"label"),g(104,"For which day?"),p(),m(105,"input",36),ct("ngModelChange",function(i){M(n);let o=I(2);return _t(o.days_date,i)||(o.days_date=i),N(i)}),p(),R(106,"br")(107,"br"),m(108,"label"),g(109,"Reason"),p(),m(110,"textarea",37),ct("ngModelChange",function(i){M(n);let o=I(2);return _t(o.days_reason,i)||(o.days_reason=i),N(i)}),p(),R(111,"br")(112,"br"),m(113,"label",38),g(114,"Which type?"),p(),R(115,"input",39),g(116,"Sick "),R(117,"input",40),g(118,"Vacation "),R(119,"br")(120,"br"),p(),m(121,"div",32)(122,"button",33),g(123,"Close"),p(),m(124,"button",41),O("click",function(){M(n);let i=I(2);return N(i.request_sick_day())}),g(125,"Request"),p()()()()(),m(126,"div",42)(127,"div",19)(128,"div",20)(129,"div",21)(130,"h5",22),g(131,"View Pending Days"),p(),R(132,"button",23),p(),m(133,"div",24)(134,"table",2)(135,"thead")(136,"th"),g(137,"Proposed Date"),p(),m(138,"th"),g(139,"Reason"),p(),m(140,"th"),g(141,"Decision"),p(),m(142,"th"),g(143,"Requested on"),p(),m(144,"th"),g(145,"Day Type"),p()(),m(146,"tbody"),St(147,Sq,15,12,"tr",43,Tt),Pe(149,"keyvalue"),p()()(),m(150,"div",32)(151,"button",33),g(152,"Close"),p()()()()()()}if(t&2){let n=I(2);E(),de(n.employee_details.deactivated==!0?1:-1),E(9),gt(" ",n.employee_details.demographics.first_name," "),E(4),gt(" ",n.employee_details.demographics.last_name," "),E(4),gt(" ",xt(19,13,n.employee_details.demographics.dob,"longDate")," "),E(5),gt(" ",n.employee_details.demographics.job_title," "),E(3),de(n.extras_collapsed?26:27),E(2),de(!n.extras_collapsed&&n.employee_details.deactivated!=!0?28:-1),E(4),gt("Email: ",n.email,""),E(),de(n.extras_editing?34:33),E(4),de(n.employee_details.sick_days>-1?37:-1),E(8),lt("ngModel",n.current_year),E(2),At(xt(49,16,n.employee_details.salary,n.keyDescOrder)),E(22),At(xt(71,19,n.employee_details.salary[n.current_year].months,n.keyAscOrder)),E(21),At(n.days_history.slice().reverse()),E(15),lt("ngModel",n.days_date),E(5),lt("ngModel",n.days_reason),E(37),At(oi(149,22,n.pending_days))}}function xq(t,e){if(t&1&&(m(0,"section"),he(1,fq,5,0,"div")(2,Aq,153,24,"div"),p()),t&2){let n=I();E(),de(n.employee_details.activated?2:1)}}var jR=(()=>{class t{constructor(n,r,i){this.router=n,this.changeDetection=r,this.http=i,this.objectKeys=Object.keys,this.current_year=new Date().getFullYear(),this.employee_details=Oo,this.activated=!1,this.loaded=!1,this.extras_collapsed=!0,this.extras_editing=!1,this.db=jr(Fr),this.uid="",this.email="",this.days_history_modal=null,this.days_history=[],this.sick_days_modal=null,this.days_date="",this.days_reason="",this.pending_days_modal=null,this.pending_days={},this.pending_days_ids=[],this.email_path="https://mail-code.theimperialmedia.com",this.originalOrder=(o,s)=>0,this.keyAscOrder=(o,s)=>{let a=parseInt(o.key),l=parseInt(s.key);return a>l?1:l>a?-1:0},this.keyDescOrder=(o,s)=>{let a=parseInt(o.key),l=parseInt(s.key);return a>l?-1:l>a?1:0}}ngOnInit(){this.authListener()}authListener(){bh(jn,n=>{n?op(F(this.db,"employees/"+n.uid),r=>{if(r.exists()){let i=r.val();i.activated&&(this.activated=!0,this.employee_details=Object.assign([],i),this.uid=n.uid,this.email=n.email??"No email",this.current_year=parseInt(Object.keys(this.employee_details.salary).sort(this.compareFn)[0]),this.changeDetection.detectChanges())}else alert("Access Denied"),this.logout();this.loaded=!0}):this.router.navigateByUrl("/login")})}view_history(){this.days_history_modal||(this.days_history_modal=new Lt("#days_history_modal",{focus:!1})),this.days_history_modal&&(Fe(F(this.db,"sick_days_history/"+this.uid)).then(n=>{n.exists()&&(this.days_history=n.val())}).catch(n=>{alert("Error, please contact admin"),console.log(n.message)}),this.days_history_modal?.show())}request_day(){(this.employee_details.sick_days>0||this.employee_details.vacation_days>0)&&(this.sick_days_modal||(this.sick_days_modal=new Lt("#sick_days_modal",{focus:!1})),this.sick_days_modal&&(this.days_date="",this.days_reason="",this.sick_days_modal?.show()))}request_sick_day(){let n=document.getElementsByName("day_type")[0],r=document.getElementsByName("day_type")[1],i=n.checked?"sick":r.checked?"vacation":"";if(this.days_date.length>0&&this.days_reason.length>0&&i!=""){let o=new Date(this.days_date);if(o){let s=o.toISOString().substring(0,10);for(let u=0;u<this.days_history.length;u++){let d=this.days_history[u];if(d.date==s&&d.approved)return}for(let u=0;u<this.pending_days_ids.length;u++)if(this.pending_days[this.pending_days_ids[u]].proposed_date==s)return;if(i=="vacation"||i=="sick"){if((i=="vacation"?this.employee_details.vacation_days:this.employee_details.sick_days)<=0)return}else return;let a={proposed_date:s,reason:this.days_reason,request_date:new Date().toISOString().substring(0,10),uid:this.uid,name:this.employee_details.demographics.first_name+" "+this.employee_details.demographics.last_name,type:i},l={date:s,sick_days:this.employee_details.sick_days,vacation_days:this.employee_details.vacation_days,first_name:this.employee_details.demographics.first_name,last_name:this.employee_details.demographics.last_name,type:i,more_info:this.days_reason};l.type=l.type.charAt(0).toUpperCase()+l.type.slice(1);let c=jM(wn(F(this.db),"pending_days")).key;if(c){let u={};u["/pending_days/"+c]=a,UM(F(this.db),u),this.days_date="",this.days_reason="",this.sick_days_modal?.hide(),Fe(F(this.db,"employees/"+this.uid+"/pending_days")).then(d=>{let f=[];d.exists()&&(f=d.val()),f.push(c),ge(F(this.db,"employees/"+this.uid+"/pending_days"),f),this.http.post(this.email_path+"/mail/test",l).subscribe(h=>{console.log(h),h.text&&h.text!="true"&&alert("There was an error sending an email. Please directly contact your manager/admin")})}).catch(d=>{alert("Error, please contact admin"),console.log(d.message)})}}}}view_pending_days(){this.pending_days_modal||(this.pending_days_modal=new Lt("#pending_days_modal",{focus:!1})),this.pending_days_modal&&(Fe(F(this.db,"employees/"+this.uid+"/pending_days")).then(n=>{n.exists()&&(this.pending_days_ids=n.val(),Fe(F(this.db,"pending_days")).then(r=>{for(let i=0;i<this.pending_days_ids.length;i++){let o=this.pending_days_ids[i];this.pending_days[o]=r.val()[o]}}).catch(r=>{alert("Error, please contact admin"),console.log(r.message)}))}).catch(n=>{alert("Error, please contact admin"),console.log(n.message)}),this.pending_days_modal?.show())}cancel_pending_day(n){this.pending_days_ids.splice(this.pending_days_ids.indexOf(n),1),delete this.pending_days[n],Oc(F(this.db,"pending_days/"+n)),ge(F(this.db,"employees/"+this.uid+"/pending_days"),this.pending_days_ids)}plural_fill(n,r){let i=""+n,o=" day"+(n==1?"":"s");return r=="info"||r=="sick"?r=" sick":r=="info_vacation"||r=="vacation"?r=" vacation":r="",i+r+o}total(n){let r=parseInt(n),i=this.employee_details.salary[this.current_year].months[r].details,o=Object.keys(i),s=0;for(let a=0;a<o.length;a++)s+=i[o[a]];return s}compareFn(n,r){return parseInt(r)-parseInt(n)}logout(){ac(jn).then(()=>{}).catch(n=>{alert("Error")})}print(){let n=this.current_year,r=document.getElementById("print_prep"),i=window.open("","PRINT","height=650,width=900,top=100,left=150");if(i&&r){r.innerHTML+='<h1 style="text-decoration: underline">Salary Details</h1><br /><br />';let o=this.employee_details.salary,s=Object.keys(o);for(let a=0;a<s.length;a++)this.current_year=parseInt(s[a]),this.changeDetection.detectChanges(),r.innerHTML+=document.getElementById("pay_table")?.innerHTML.replace("Salary Details",s[a]),r.innerHTML+="<br />",r.innerHTML+="<style>table {border: 1px solid black; width:70%;}tr{border:1px solid black;}</style>";i.document.body.innerHTML=r.innerHTML,i.window.focus(),i.window.print(),r.innerHTML="",this.current_year=n}}csv(){let n=`Year,Month,Link,Base,Lunch,Transport,Healthcare,Other\r
`,r=this.employee_details.salary,i=Object.keys(r);for(let l=0;l<i.length;l++){let c=r[parseInt(i[l])].months,u=Object.keys(c);for(let d=0;d<u.length;d++){let f=parseInt(u[d]);n+=i[l]+","+u[d]+","+c[f].link+","+c[f].details.base+","+c[f].details.lunch+","+c[f].details.transport+","+c[f].details.healthcare+","+c[f].details.other+`\r
`}}try{var o=!!new Blob,s="salary_csv.csv",a=new File([n],s,{type:"text/plain;charset=utf-8"});let l=document.createElement("a");l.href=URL.createObjectURL(a),l.download=s,l.click(),l.remove()}catch{alert("Error Creating/Saving file")}}edit_extras(){if(this.extras_editing){let n=document.getElementById("ext_addr"),r=document.getElementById("ext_phone"),i=document.getElementById("ext_emcon"),o=document.getElementById("ext_emphone");if(n&&r&&i&&o)if(r.value!=o.value||r.value==""){let s={address:n.value,phone:r.value,emer_contact:i.value,emer_phone:o.value};this.employee_details.demographics.extras=s,this.extras_editing=!this.extras_editing,ge(F(this.db,"employees/"+this.uid+"/demographics/extras"),s)}else alert("Your phone number and emergency contact phone number cannot be the same.")}else this.extras_editing=!this.extras_editing}static{this.\u0275fac=function(r){return new(r||t)(L(rn),L(nr),L(pf))}}static{this.\u0275cmp=$t({type:t,selectors:[["app-payroll-dashboard"]],decls:1,vars:1,consts:[["type","button",1,"btn","btn-primary","medium",2,"display","block","margin","1em 0 2em",3,"click"],["id","personals"],[1,"table-responsive"],[1,"table","table-sm"],[2,"margin-left","12px"],["data-bs-toggle","collapse","data-bs-target","#collapse11",1,"btn","btn-link",3,"click"],[1,"bi","bi-chevron-down"],[1,"bi","bi-chevron-right"],[1,"btn","btn-link"],["id","collapse11",1,"collapse","fade"],["id","sick_days",2,"margin-bottom","1em"],[2,"float","right","margin-bottom","1em"],["id","print_prep",2,"display","none"],[2,"margin-right","7px",3,"click"],["placeholder","Year",3,"ngModelChange","ngModel"],["label","Year"],["id","pay_table",1,"table-responsive",2,"clear","both","z-index","1"],[1,"table"],["id","days_history_modal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-md","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",2,"color","black"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","accordion","role","tablist",1,"accordion"],[1,"accordion-item"],[1,"accordion-header",2,"padding","16px 20px"],[1,"row",2,"table-layout","fixed","width","100%"],[1,"col-3"],[1,"col-6"],["role","tab",1,"accordion-item"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","small"],["id","sick_days_modal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-sm","modal-dialog-scrollable"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],[2,"margin-right","1em"],["type","radio","name","day_type","value","sick",2,"margin-right","4px"],["type","radio","name","day_type","value","vacation",2,"margin-right","4px"],["type","button",1,"btn","btn-primary","small",3,"click"],["id","pending_days_modal","tabindex","-1",1,"modal","fade"],["role","tab"],[1,"btn","btn-link",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-check2"],["placeholder","Address","id","ext_addr",3,"value"],["placeholder","Phone Number","type","tel","id","ext_phone",3,"value"],["placeholder","Emergency Contact","id","ext_emcon",3,"value"],["id","ext_emphone","placeholder","Emergency Phone Number","type","tel",3,"value"],[2,"margin","0","font-size","60px","display","inline-block"],[2,"margin","0"],["type","button",1,"btn","btn-primary","small",2,"margin","6px 6px 6px 0"],["type","button",1,"btn","btn-primary","small",2,"width","175px","margin","6px 6px 6px 0",3,"click"],["type","button",1,"btn","btn-primary","small",2,"width","175px","margin","6px 6px 6px 0"],["type","button",1,"btn","btn-primary","small",2,"margin","6px 6px 6px 0",3,"click"],["target","_blank",1,"link",3,"href"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed",2,"width","100%"],["role","tabpanel","data-bs-parent","#accordion",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"btn","btn-primary","small",3,"click"]],template:function(r,i){r&1&&he(0,xq,3,1,"section"),r&2&&de(i.loaded?0:-1)},dependencies:[Qp,Yp,Kp,xa,qp,Hp,ru,Zp,ul,cl,dl],styles:["@media (min-width: 992px){section[_ngcontent-%COMP%]{padding:1.5em 6em}}@media (max-width: 991px){section[_ngcontent-%COMP%]{padding:1.5em 2em}}#pay_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:fixed;min-width:755px}#personals[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{width:100%;background:#ffde64;border:none}#personals[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:fixed;min-width:650px}#personals[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:24px;width:25%;color:#505050;background-color:#ffde64;font-weight:700;border:none}#personals[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], #personals[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ffde64}#personals[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px;color:#fff}tfoot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:max-content}#pay_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--bs-gray-500);display:inline;vertical-align:middle;white-space:nowrap}#pay_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{color:var(--bs-gray-500);float:right;text-align:center;margin-right:1em;white-space:nowrap}#pay_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:22%;white-space:nowrap}#pay_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #pay_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:13%;white-space:nowrap}#pending_days_modal[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{width:100%;border:1px solid black}#pending_days_modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #pending_days_modal[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid black;padding:3px 4px}#pending_days_modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(2){word-break:break-all}#pending_days_modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(3){text-align:center}.btn-link[_ngcontent-%COMP%]{padding:4px 8px!important}"]})}}return t})();function Mq(t,e){if(t&1){let n=ue();m(0,"section")(1,"h1",0),g(2,"Admin Login"),p(),m(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),g(8,"Email"),p(),R(9,"input",6),p()(),m(10,"div",3)(11,"div",4)(12,"label",7),g(13,"Password"),p(),R(14,"input",8),p()(),m(15,"div",3)(16,"div",9)(17,"button",10),O("click",function(){M(n);let i=I();return N(i.login())}),g(18,"Log In"),p()()()()()()}}var UR=(()=>{class t{constructor(n){this.router=n,this.loaded=!1}ngOnInit(){jn.currentUser?this.router.navigateByUrl("/dashboard"):(this.loaded=!0,Ih("logged_in")=="true"&&this.router.navigateByUrl("/admin-dashboard"))}login(){let n=document.getElementById("email").value,r=document.getElementById("password").value;n!=""&&n!=null&&r!=""&&r!=null?Fe(wn(F(jr(Fr)),"admin/")).then(i=>{if(i.exists()){let o=i.val();o.email==n&&o.password==r?(Ch("logged_in","true",1),this.router.navigateByUrl("/admin-dashboard")):(alert("Access Denied"),this.router.navigateByUrl("/dashboard"))}else alert("Error"),this.router.navigateByUrl("/dashboard")}).catch(i=>{alert("Error"),this.router.navigateByUrl("/dashboard")}):alert("Please fill in the fields")}static{this.\u0275fac=function(r){return new(r||t)(L(rn))}}static{this.\u0275cmp=$t({type:t,selectors:[["app-admin-login"]],decls:1,vars:1,consts:[[2,"margin-bottom","0.4em"],[2,"width","100%"],[1,"container",2,"padding","0","margin","0"],[1,"row"],[1,"col-12","col-lg-6"],["for","email",1,"form-label"],["name","email","type","email","id","email","placeholder","hello@example.com",1,"form-control"],["for","password",1,"form-label"],["name","password","type","password","id","password","placeholder","********",1,"form-control"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){r&1&&he(0,Mq,19,0,"section"),r&2&&de(i.loaded?0:-1)},styles:["body[_ngcontent-%COMP%]{background-color:#000}"]})}}return t})();function Nq(t,e){if(t&1){let n=ue();m(0,"div")(1,"input",37),O("change",function(){M(n);let i=I(2);return N(i.filter())}),p(),m(2,"label",38),g(3),p()()}if(t&2){let n=e.$implicit,r=e.$index;E(),at("id",n),at("name",n),at("value",r),E(),at("for",n),E(),z(n==""?"Untagged":n)}}function Rq(t,e){if(t&1){let n=ue();m(0,"th")(1,"div",41)(2,"button",42),O("click",function(){M(n);let i=I(2).$implicit,o=I(2);return N(o.deactivate_pre(i.ID))}),R(3,"i",43),p(),m(4,"button",44),O("click",function(){M(n);let i=I(2).$implicit,o=I(2);return N(o.activate(i.ID))}),g(5,"Activate"),p()()()}}function Oq(t,e){if(t&1){let n=ue();m(0,"th")(1,"button",44),O("click",function(){M(n);let i=I(2).$implicit,o=I(2);return N(o.open(i.ID))}),g(2,"Open"),p()()}}function kq(t,e){if(t&1){let n=ue();m(0,"div"),g(1),m(2,"div",45)(3,"i",46),O("click",function(){M(n);let i=I(2).$implicit,o=I(2);return N(o.edit_title(i.ID))}),p()()()}if(t&2){let n=I(2).$implicit;E(),gt(" ",n.demographics.job_title," ")}}function Pq(t,e){t&1&&(m(0,"div"),g(1,"N/A"),p())}function Lq(t,e){if(t&1){let n=ue();m(0,"div"),g(1),m(2,"div",45)(3,"i",46),O("click",function(){M(n);let i=I(2).$implicit,o=I(2);return N(o.edit_sick_days(i.ID))}),p()()()}if(t&2){let n=I(2).$implicit;E(),Kd(" ",n.sick_days," | ",n.vacation_days," ")}}function Fq(t,e){t&1&&(m(0,"div"),g(1,"N/A"),p())}function Vq(t,e){if(t&1){let n=ue();m(0,"div")(1,"span",47),O("click",function(){M(n);let i=I(2).$implicit,o=I(2);return N(o.view_sick_days(i.ID))}),g(2,"View"),p()()}}function jq(t,e){t&1&&(m(0,"div"),g(1,"N/A"),p())}function Uq(t,e){if(t&1&&(m(0,"option",40),g(1),p()),t&2){let n=e.$implicit,r=e.$index,i=I(2).$implicit;at("value",r),hn("selected",i.demographics.label==r?"selected":null),E(),z(n)}}function Bq(t,e){if(t&1){let n=ue();m(0,"tr"),he(1,Rq,6,0,"th")(2,Oq,3,0,"th"),m(3,"td"),g(4),p(),m(5,"td"),g(6),p(),m(7,"td"),g(8),Pe(9,"date"),p(),m(10,"td"),he(11,kq,4,1,"div")(12,Pq,2,0,"div"),p(),m(13,"td"),he(14,Lq,4,2,"div")(15,Fq,2,0,"div"),p(),m(16,"td"),he(17,Vq,3,0,"div")(18,jq,2,0,"div"),p(),m(19,"td")(20,"select",39),O("change",function(i){M(n);let o=I().$implicit,s=I(2);return N(s.label_update(i,o.ID))}),St(21,Uq,2,3,"option",40,Tt),p()()()}if(t&2){let n=I().$implicit,r=I(2);E(),de(n.activated?2:1),E(3),z(n.demographics.first_name),E(2),z(n.demographics.last_name),E(2),z(xt(9,7,n.demographics.dob,"longDate")),E(3),de(n.activated?11:12),E(3),de(n.activated&&n.sick_days>-1?14:15),E(3),de(n.activated&&n.sick_days>-1?17:18),E(4),At(r.labels)}}function $q(t,e){if(t&1&&(qd(0),he(1,Bq,23,10,"tr"),Yd()),t&2){let n=e.$implicit;E(),de(n.deactivated!=!0?1:-1)}}function Hq(t,e){if(t&1){let n=ue();m(0,"tr")(1,"th")(2,"button",44),O("click",function(){M(n);let i=I().$implicit,o=I(2);return N(o.open(i.ID))}),g(3,"Open"),p()(),m(4,"td"),g(5),p(),m(6,"td"),g(7),p(),m(8,"td"),g(9),Pe(10,"date"),p(),m(11,"td")(12,"div"),g(13),p()(),m(14,"td")(15,"div"),g(16),p()(),m(17,"td")(18,"div")(19,"span",47),O("click",function(){M(n);let i=I().$implicit,o=I(2);return N(o.view_sick_days(i.ID))}),g(20,"View"),p()()(),m(21,"th")(22,"button",48),O("click",function(){M(n);let i=I().$implicit,o=I(2);return N(o.deleteAcc(i.ID))}),g(23,"Delete"),p()()()}if(t&2){let n=I().$implicit;E(5),z(n.demographics.first_name),E(2),z(n.demographics.last_name),E(2),z(xt(10,6,n.demographics.dob,"longDate")),E(4),gt(" ",n.demographics.job_title," "),E(3),Kd(" ",n.sick_days," | ",n.vacation_days," ")}}function Wq(t,e){if(t&1&&(qd(0),he(1,Hq,24,9,"tr"),Yd()),t&2){let n=e.$implicit;E(),de(n.deactivated==!0?1:-1)}}function zq(t,e){if(t&1){let n=ue();m(0,"div")(1,"input",49),ct("ngModelChange",function(i){M(n);let o=I(2);return _t(o.current_modal_year,i)||(o.current_modal_year=i),N(i)}),p(),m(2,"button",50),O("click",function(){M(n);let i=I(2);return N(i.add_year())}),g(3,"Add Year"),p()()}if(t&2){let n=I(2);E(),hn("max",n.current_year),lt("ngModel",n.current_modal_year)}}function Gq(t,e){if(t&1){let n=ue();m(0,"div",13)(1,"a",51),g(2,"Sample CSV file"),p(),m(3,"label",52),R(4,"i",53),g(5,"Upload CSV "),p(),m(6,"input",54),O("change",function(i){M(n);let o=I(2);return N(o.upload(i))}),p()()}}function qq(t,e){if(t&1){let n=ue();m(0,"i",62),O("click",function(){M(n);let i=I().$implicit,o=I(2);return N(o.delete_year(i.key))}),p()}}function Yq(t,e){if(t&1&&(m(0,"option",64),g(1),p()),t&2){let n=e.$implicit;at("value",n),E(),z(n)}}function Kq(t,e){if(t&1){let n=ue();m(0,"tr")(1,"td")(2,"select",63),St(3,Yq,2,2,"option",64,Tt),p()(),R(5,"td",65),m(6,"td",66)(7,"button",67),O("click",function(){M(n);let i=I().$implicit,o=I(2);return N(o.add_month(i.key))}),g(8,"+ "),p()()()}if(t&2){let n=I().$implicit,r=I(2);E(2),at("id","months_"+n.key),E(),At(r.current_modal_months[n.key].months)}}function Qq(t,e){if(t&1){let n=ue();m(0,"i",74),O("click",function(){M(n);let i=I().$implicit,o=I().$implicit,s=I(2);return N(s.delete_month(o.key,i.key))}),p()}}function Zq(t,e){if(t&1){let n=ue();m(0,"i",75),O("click",function(){M(n);let i=I().$implicit,o=I().$implicit,s=I(2);return N(s.month_other_note(o.key,i.key))}),p()}}function Jq(t,e){if(t&1){let n=ue();m(0,"tr")(1,"th"),g(2),Pe(3,"month"),he(4,Qq,1,0,"i",68),p(),m(5,"td")(6,"input",69),ct("ngModelChange",function(i){let o=M(n).$implicit;return _t(o.value.link,i)||(o.value.link=i),N(i)}),p()(),m(7,"td",70)(8,"input",71),ct("ngModelChange",function(i){let o=M(n).$implicit;return _t(o.value.details.base,i)||(o.value.details.base=i),N(i)}),p()(),m(9,"td",70)(10,"input",71),ct("ngModelChange",function(i){let o=M(n).$implicit;return _t(o.value.details.lunch,i)||(o.value.details.lunch=i),N(i)}),p()(),m(11,"td",70)(12,"input",71),ct("ngModelChange",function(i){let o=M(n).$implicit;return _t(o.value.details.transport,i)||(o.value.details.transport=i),N(i)}),p()(),m(13,"td",70)(14,"input",71),ct("ngModelChange",function(i){let o=M(n).$implicit;return _t(o.value.details.healthcare,i)||(o.value.details.healthcare=i),N(i)}),p()(),m(15,"td",70)(16,"input",72),ct("ngModelChange",function(i){let o=M(n).$implicit;return _t(o.value.details.other,i)||(o.value.details.other=i),N(i)}),p(),he(17,Zq,1,0,"i",73),p(),m(18,"td",66),g(19),p()()}if(t&2){let n=e.$implicit,r=I().$implicit,i=I(2);E(2),gt("",oi(3,16,n.key)," "),E(2),de(i.employee_details.deactivated!=!0?4:-1),E(2),hn("disabled",i.employee_details.deactivated==!0),lt("ngModel",n.value.link),E(2),hn("disabled",i.employee_details.deactivated==!0),lt("ngModel",n.value.details.base),E(2),hn("disabled",i.employee_details.deactivated==!0),lt("ngModel",n.value.details.lunch),E(2),hn("disabled",i.employee_details.deactivated==!0),lt("ngModel",n.value.details.transport),E(2),hn("disabled",i.employee_details.deactivated==!0),lt("ngModel",n.value.details.healthcare),E(2),hn("disabled",i.employee_details.deactivated==!0),lt("ngModel",n.value.details.other),E(),de(i.employee_details.deactivated!=!0?17:-1),E(2),gt("\u20A6 ",i.total(n.key,r.key),"")}}function Xq(t,e){if(t&1&&(m(0,"div",14)(1,"div",55)(2,"h3",56),he(3,qq,1,0,"i",57),g(4),p(),m(5,"div",2)(6,"table",58)(7,"thead")(8,"tr")(9,"th",59),g(10,"Month"),p(),m(11,"th",60),g(12,"Salary Details (Enter Link)"),p(),m(13,"th",59),g(14,"Base"),p(),m(15,"th",59),g(16,"Lunch"),p(),m(17,"th",59),g(18,"Transport"),p(),m(19,"th",59),g(20,"Healthcare"),p(),m(21,"th",59),g(22,"Other"),p(),m(23,"th",61),g(24,"Total"),p()()(),m(25,"tbody"),he(26,Kq,9,1,"tr"),St(27,Jq,20,18,"tr",null,Tt),Pe(29,"keyvalue"),p()()(),R(30,"br")(31,"br"),p()()),t&2){let n=e.$implicit,r=I(2);E(3),de(r.employee_details.deactivated!=!0?3:-1),E(),gt(" ",n.key," "),E(22),de(r.employee_details.deactivated!=!0?26:-1),E(),At(xt(29,3,n.value.months,r.keyAscOrder))}}function e7(t,e){if(t&1){let n=ue();m(0,"button",77),O("click",function(){M(n);let i=I(3);return N(i.reactivate(i.employee_details.ID))}),g(1,"Reactivate"),p()}}function t7(t,e){if(t&1){let n=ue();m(0,"button",77),O("click",function(){M(n);let i=I(3);return N(i.deactivate())}),g(1,"Deactivate"),p()}}function n7(t,e){if(t&1&&he(0,e7,2,0,"button",76)(1,t7,2,0,"button",76),t&2){let n=I(2);de(n.employee_details.deactivated==!0?0:1)}}function r7(t,e){if(t&1){let n=ue();m(0,"button",25),O("click",function(){M(n);let i=I(2);return N(i.save())}),g(1,"Save"),p()}}function i7(t,e){if(t&1){let n=ue();m(0,"button",25),O("click",function(){M(n);let i=I(2);return N(i.activate_save())}),g(1,"Activate"),p()}}function o7(t,e){if(t&1){let n=ue();m(0,"button",44),O("click",function(){M(n);let i=I(2);return N(i.disable_days())}),g(1,"Disable vacation & sick days"),p()}}function s7(t,e){if(t&1&&(m(0,"div",34)(1,"h2",78)(2,"button",79)(3,"div",31)(4,"div",32),g(5),Pe(6,"date"),p(),m(7,"div",33),g(8),p(),m(9,"div",32),g(10),p()()()(),m(11,"div",80)(12,"div",81),g(13),p()()()),t&2){let n=e.$implicit,r=e.$index,i=I(2);E(2),er("data-bs-target","#history"+r),E(3),z(xt(6,6,n.date,"longDate")),E(3),z(n.event),E(2),z(i.plural_fill(n.num_days,n.type)),E(),at("id","history"+r),E(2),gt(" ",n.more_info," ")}}function a7(t,e){if(t&1){let n=ue();m(0,"tr",36)(1,"td"),g(2),p(),m(3,"td"),g(4),Pe(5,"date"),p(),m(6,"td"),g(7),p(),m(8,"td")(9,"button",44),O("click",function(){let i=M(n).$index,o=I(2);return N(o.approve_day(!0,i))}),g(10,"Approve"),p(),m(11,"button",44),O("click",function(){let i=M(n).$index,o=I(2);return N(o.approve_day(!1,i))}),g(12,"Deny"),p()(),m(13,"td"),g(14),Pe(15,"date"),p(),m(16,"td"),g(17),Pe(18,"titlecase"),p()()}if(t&2){let n=e.$implicit;E(2),z(n.value.name),E(2),z(xt(5,5,n.value.proposed_date,"longDate")),E(3),z(n.value.reason),E(7),z(xt(15,8,n.value.request_date,"longDate")),E(3),z(oi(18,11,n.value.type))}}function l7(t,e){if(t&1){let n=ue();m(0,"section")(1,"button",0),O("click",function(){M(n);let i=I();return N(i.logout())}),g(2," Log Out"),p(),m(3,"button",1),O("click",function(){M(n);let i=I();return N(i.view_pending_days())}),g(4," View Pending Days"),p(),m(5,"div",2)(6,"form",3)(7,"h4"),g(8,"Filter:"),p(),St(9,Nq,4,5,"div",null,Tt),p(),m(11,"table",4)(12,"thead")(13,"tr")(14,"th"),g(15,"Employees"),p(),m(16,"th"),g(17,"First Name"),p(),m(18,"th"),g(19,"Last Name"),p(),m(20,"th"),g(21,"Date of Birth"),p(),m(22,"th"),g(23,"Current Job Title"),p(),m(24,"th"),g(25,"Sick | Vacation Days"),p(),R(26,"th"),p()(),m(27,"tbody"),St(28,$q,2,1,"ng-container",null,Tt),m(30,"tr")(31,"th"),g(32,"Deactivated Accounts"),p()(),St(33,Wq,2,1,"ng-container",null,Tt),p()()(),m(35,"div",5)(36,"div",6)(37,"div",7)(38,"div",8)(39,"h5",9),g(40),p(),R(41,"button",10),p(),m(42,"div",11)(43,"div",12),he(44,zq,4,2,"div")(45,Gq,7,0,"div",13),p(),St(46,Xq,32,6,"div",14,Tt),Pe(48,"keyvalue"),he(49,n7,2,1),p(),m(50,"div",15)(51,"button",16),g(52,"Close"),p(),he(53,r7,2,0,"button",17)(54,i7,2,0,"button",17),p()()()(),m(55,"div",18)(56,"div",19)(57,"div",7)(58,"div",8)(59,"h5",9),g(60,"Edit Sick Days"),p(),R(61,"button",10),p(),m(62,"div",11)(63,"input",20),O("change",function(){M(n);let i=I();return N(i.sick_days_change=i.employees[i.current_sick_days_modal_idx].sick_days)}),ct("ngModelChange",function(i){M(n);let o=I();return _t(o.vaca_or_sick,i)||(o.vaca_or_sick=i),N(i)}),p(),g(64," Sick "),m(65,"input",21),O("change",function(){M(n);let i=I();return N(i.sick_days_change=i.employees[i.current_sick_days_modal_idx].vacation_days)}),ct("ngModelChange",function(i){M(n);let o=I();return _t(o.vaca_or_sick,i)||(o.vaca_or_sick=i),N(i)}),p(),g(66," Vacation "),R(67,"br")(68,"br"),m(69,"label"),g(70),p(),m(71,"input",22),ct("ngModelChange",function(i){M(n);let o=I();return _t(o.sick_days_change,i)||(o.sick_days_change=i),N(i)}),p(),R(72,"br")(73,"br"),m(74,"label"),g(75,"Reason"),p(),m(76,"textarea",23),ct("ngModelChange",function(i){M(n);let o=I();return _t(o.days_reason,i)||(o.days_reason=i),N(i)}),p(),he(77,o7,2,0,"button",24),p(),m(78,"div",15)(79,"button",16),g(80,"Close"),p(),m(81,"button",25),O("click",function(){M(n);let i=I();return N(i.save_edit_sick_days())}),g(82,"Edit"),p()()()()(),m(83,"div",26)(84,"div",27)(85,"div",7)(86,"div",8)(87,"h5",9),g(88,"View Days Off"),p(),R(89,"button",10),p(),m(90,"div",11)(91,"div",28)(92,"div",29)(93,"h6",30)(94,"div",31)(95,"div",32),g(96,"Date Taken"),p(),m(97,"div",33),g(98,"Event Description"),p(),m(99,"div",32),g(100,"Remaining Days"),p()()()(),St(101,s7,14,9,"div",34,Tt),p()(),m(103,"div",15)(104,"button",16),g(105,"Close"),p()()()()(),m(106,"div",35)(107,"div",27)(108,"div",7)(109,"div",8)(110,"h5",9),g(111,"Pending Days Off"),p(),R(112,"button",10),p(),m(113,"div",11)(114,"table")(115,"thead")(116,"th"),g(117,"Name"),p(),m(118,"th"),g(119,"Proposed Date"),p(),m(120,"th"),g(121,"Reason"),p(),m(122,"th"),g(123,"Decision"),p(),m(124,"th"),g(125,"Requested on"),p(),m(126,"th"),g(127,"Day Type"),p()(),m(128,"tbody"),St(129,a7,19,13,"tr",36,Tt),Pe(131,"keyvalue"),p()()(),m(132,"div",15)(133,"button",16),g(134,"Close"),p()()()()()()}if(t&2){let n=I();E(9),At(n.labels),E(19),At(n.organize()),E(5),At(n.employees),E(7),z(n.employee_details.demographics.first_name+" "+n.employee_details.demographics.last_name),E(4),de(n.employee_details.deactivated!=!0?44:-1),E(),de(n.employee_details.deactivated!=!0?45:-1),E(),At(xt(48,12,n.employee_details.salary,n.keyDescOrder)),E(3),de(n.employee_details.activated?49:-1),E(4),de(!n.global_active&&n.employee_details.deactivated!=!0?53:-1),E(),de(n.global_active?54:-1),E(9),lt("ngModel",n.vaca_or_sick),E(2),lt("ngModel",n.vaca_or_sick),E(5),z("Number of "+n.vaca_or_sick+" days"),E(),lt("ngModel",n.sick_days_change),E(5),lt("ngModel",n.days_reason),E(),de(n.employee_details.sick_days>-1?77:-1),E(24),At(n.days_history.slice().reverse()),E(28),At(oi(131,15,n.pending_days))}}var BR=(()=>{class t{constructor(n,r){this.router=n,this.changeDetection=r,this.objectKeys=Object.keys,this.current_year=new Date().getFullYear(),this.db=jr(Fr),this.loaded=!1,this.uids=[],this.employees=[],this.employee_details=Oo,this.changed_title="",this.current_modal_idx=-1,this.current_sick_days_modal_idx=-1,this.current_modal_months={[this.current_year]:{months:[1,2]}},this.current_modal_year=this.current_year,this.global_active=!1,this.modal=null,this.sick_days_modal=null,this.days_history_modal=null,this.pending_days_modal=null,this.sick_days_change=12,this.days_reason="",this.days_history=[],this.pending_days={},this.vaca_or_sick="sick",this.labels=BM,this.keyAscOrder=(i,o)=>{let s=parseInt(i.key),a=parseInt(o.key);return s>a?1:a>s?-1:0},this.keyDescOrder=(i,o)=>{let s=parseInt(i.key),a=parseInt(o.key);return s>a?-1:a>s?1:0},this.og=[],this.backed_up=!1,this.filterlist=[...Array(this.labels.length).keys()],this.loaded2=!1,this.empys=[]}ngOnInit(){Ih("logged_in")=="true"?op(F(this.db,"employees"),n=>{let r=n.val();this.employees=Object.values(r),this.uids=Object.keys(r),this.IDPopulate(),this.loaded=!0}):this.router.navigateByUrl("/admin-login")}IDPopulate(){for(let n=0;n<this.employees.length;n++)this.employees[n].ID="id"+n+"|"+new Date().getTime()}findIDindex(n){for(var r=0;this.employees[r].ID!=n;)r++;return r}cleanID(n){let r=iu(n);return delete r.ID,r}readFileContent(n){return new Promise((r,i)=>{n||r("");let o=new FileReader;o.onload=s=>{if(o.result){let a=o.result.toString();r(a)}},o.readAsText(n)})}upload(n){return y(this,null,function*(){let r=n.target;if(r.files){let i=r.files[0],o=new FileReader,s=yield this.readFileContent(i);if(s){let a=d7(s),l=Object.keys(this.employee_details.salary),c=[];for(let u=0;u<a.length;u++){let d=a[u],f=d.Month,h=d.Year,_=parseInt(f),v=parseInt(h);if(_>=1&&_<=12){if(this.employee_details.salary[v]&&Object.keys(this.employee_details.salary[v].months).includes(f)&&!confirm("Do you want to override the paycheck for "+d.Month+" "+d.Year+"?"))continue;!l.includes(h)&&!c.includes(h)&&(c.push(h),this.current_modal_months[v]={months:[1,2,3,4,5,6,7,8,9,10,11,12]},this.employee_details.salary[v]={months:{[_]:{link:"",details:{base:0,lunch:0,transport:0,healthcare:0,other:0}}}}),this.employee_details.salary[v].months[_]={link:d.Link,details:{base:parseInt(d.Base),lunch:parseInt(d.Lunch),transport:parseInt(d.Transport),healthcare:parseInt(d.Healthcare),other:parseInt(d.Other)}},this.current_modal_months[v].months.splice(this.current_modal_months[v].months.indexOf(_),1)}else alert("The paycheck for "+d.Month+" "+d.Year+" can not be entered as the month is invalid")}this.getNextYear()}r.value=""}})}add_year(){this.current_modal_year<=this.current_year&&(Object.keys(this.employee_details.salary).includes(this.current_modal_year.toString())||(this.employee_details.salary[this.current_modal_year]={months:{1:{link:"",details:{base:0,lunch:0,transport:0,healthcare:0,other:0}}}},this.current_modal_months[this.current_modal_year]={months:[2,3,4,5,6,7,8,9,10,11,12]},this.getNextYear()))}delete_year(n){let r=parseInt(n);Object.keys(this.employee_details.salary).length>1?confirm("Are you sure you want to delete the paycheck(s) for "+n+"?")&&(delete this.employee_details.salary[r],delete this.current_modal_months[n],this.getNextYear()):alert("There needs to be at least one year per employee.")}add_month(n){let r=parseInt(document.getElementById("months_"+n).value);this.employee_details.salary[parseInt(n)].months[r]={link:"",details:{base:0,lunch:0,transport:0,healthcare:0,other:0}},this.current_modal_months[n].months.splice(this.current_modal_months[n].months.indexOf(r),1)}delete_month(n,r){let i=parseInt(r),o=parseInt(n);Object.keys(this.employee_details.salary[o].months).length>1?confirm("Are you sure you want to delete the paycheck for "+new Date(2e3,i-1).toLocaleString("default",{month:"long"})+" "+n+"?")&&(delete this.employee_details.salary[o].months[i],this.current_modal_months[n].months.push(i),this.current_modal_months[n].months.sort(function(a,l){return a-l})):alert("There needs to be at least one month per year.")}open(n,r){if(this.modal||(this.modal=new Lt("#modal",{focus:!1})),this.modal){r?this.global_active=!0:this.global_active=!1;var i=-1;if(n!=null&&n.length>0)i=this.findIDindex(n);else return;this.employee_details=iu(this.employees[i]),this.current_modal_idx=i;let o=this.current_year;this.current_modal_months={[o]:{months:[1,2]}},this.current_modal_year=o;let s=Object.keys(this.employee_details.salary);for(let a=0;a<s.length;a++){let l=parseInt(s[a]);this.current_modal_months[l]={months:[1,2,3,4,5,6,7,8,9,10,11,12]};let c=Object.keys(this.employee_details.salary[l].months);for(let u=0;u<c.length;u++){let d=this.current_modal_months[l].months.indexOf(parseInt(c[u]));d>=0&&this.current_modal_months[l].months.splice(d,1)}}this.getNextYear(),this.modal?.show()}}save(){this.checkNoneEmpty()?(this.modal?.hide(),ge(F(this.db,"employees/"+this.uids[this.current_modal_idx]+"/salary"),this.employee_details.salary).then(()=>{this.resetModal()})):alert("Please fill in all the fields")}activate(n){let r=prompt("What job title do they need?");r&&r.length>=0&&(this.changed_title=r,this.open(n,!0))}activate_save(){this.checkNoneEmpty()?(this.modal?.hide(),this.employee_details.demographics.job_title=this.changed_title,this.employee_details.activated=!0,ge(F(this.db,"employees/"+this.uids[this.current_modal_idx]),this.cleanID(this.employee_details)).then(()=>{ge(F(this.db,"sick_days_history/"+this.uids[this.current_modal_idx]),[$M,HM]),this.resetModal()})):alert("Please fill in all the fields")}resetModal(n=!1){if(n)this.sick_days_modal?.hide(),this.current_sick_days_modal_idx=-1,this.sick_days_change=12,this.days_reason="",this.days_history=[],this.vaca_or_sick="sick";else{this.current_modal_idx=-1,this.employee_details=Oo;let r=this.current_year;this.current_modal_months={[r]:{months:[1,2]}},this.current_modal_year=r}}month_other_note(n,r){let i=this.employee_details.salary[parseInt(n)].months[parseInt(r)].notes,o=prompt("Enter your 'Other' notes",i);o!=null&&(this.employee_details.salary[parseInt(n)].months[parseInt(r)].notes=o)}edit_title(n){var r=-1;if(n!=null&&n.length>0)r=this.findIDindex(n);else return;let i=prompt("Change current job title",this.employees[r].demographics.job_title);i&&i?.length>0&&ge(F(this.db,"employees/"+this.uids[r]+"/demographics/job_title"),i)}edit_sick_days(n){var r=-1;if(n!=null&&n.length>0)r=this.findIDindex(n);else return;this.sick_days_modal||(this.sick_days_modal=new Lt("#sick_days_modal",{focus:!1})),this.sick_days_modal&&(this.vaca_or_sick="sick",this.sick_days_change=this.employees[r].sick_days,this.current_sick_days_modal_idx=r,this.days_reason="",this.sick_days_modal?.show())}save_edit_sick_days(){let n=this.current_sick_days_modal_idx,r=this.uids[n],i=this.vaca_or_sick=="vacation"?this.employees[n].vacation_days:this.employees[n].sick_days;if(document.getElementById("sick_days_change").value.length>0&&!Number.isNaN(this.sick_days_change)&&this.sick_days_change>=0&&this.sick_days_change!=i&&this.days_reason.length>0){let s="/"+this.vaca_or_sick+"_days";ge(F(this.db,"employees/"+r+s),this.sick_days_change);let a=this.sick_days_change-i,l=a>0?"Added ":"Removed ";a=Math.abs(a);let c={date:new Date().toISOString().substring(0,10),event:l+a+" "+this.vaca_or_sick+" day"+(a==1?"":"s"),num_days:this.sick_days_change,type:this.vaca_or_sick=="vacation"?"info_vacation":"info",approved:!0,more_info:"Reason: "+this.days_reason};Fe(F(this.db,"sick_days_history/"+r)).then(u=>{u.exists()&&(this.days_history=u.val(),this.days_history.push(c),ge(F(this.db,"sick_days_history/"+r),this.days_history),this.resetModal(!0))}).catch(u=>{alert("Error, please contact admin"),console.log(u.message)})}}view_sick_days(n){var r=-1;if(n!=null&&n.length>0)r=this.findIDindex(n);else return;this.days_history_modal||(this.days_history_modal=new Lt("#days_history_modal",{focus:!1})),this.days_history_modal&&(Fe(F(this.db,"sick_days_history/"+this.uids[r])).then(i=>{i.exists()&&(this.days_history=i.val())}).catch(i=>{alert("Error, please contact admin"),console.log(i.message)}),this.days_history_modal?.show())}view_pending_days(){this.pending_days_modal||(this.pending_days_modal=new Lt("#pending_days_modal",{focus:!1})),this.pending_days_modal&&(Fe(F(this.db,"pending_days")).then(n=>{n.exists()&&(this.pending_days=n.val())}).catch(n=>{alert("Error, please contact admin"),console.log(n.message)}),this.pending_days_modal?.show())}approve_day(n,r){let i=Object.values(this.pending_days)[r],o=this.uids.indexOf(i.uid);if(i.type=="sick"&&this.employees[o].sick_days>0||i.type=="vacation"&&this.employees[o].vacation_days>0){let s="";if(n)i.type=="sick"?(this.employees[o].sick_days=this.employees[o].sick_days-1,ge(F(this.db,"employees/"+i.uid+"/sick_days"),this.employees[o].sick_days)):i.type=="vacation"&&(this.employees[o].vacation_days=this.employees[o].vacation_days-1,ge(F(this.db,"employees/"+i.uid+"/vacation_days"),this.employees[o].vacation_days));else{s=" | Deny Reason: ";let c="";do c+=prompt("Why are you denying this request?","");while(c?.length<=0);s+=c}let a=n?"Approved ":"Denied ",l={date:i.proposed_date,event:a+(i.type=="vacation"?"vacation day":"sick day"),num_days:i.type=="vacation"?this.employees[o].vacation_days:this.employees[o].sick_days,type:i.type=="vacation"?"vacation":"sick",approved:n,more_info:"Request Date: "+i.request_date+" | "+a+"on: "+new Date().toISOString().substring(0,10)+" | Request Reason: "+i.reason+s};Fe(F(this.db,"sick_days_history/"+i.uid)).then(c=>{if(c.exists()){this.days_history=c.val(),this.days_history.push(l),ge(F(this.db,"sick_days_history/"+i.uid),this.days_history);let u=Object.keys(this.pending_days)[r];Oc(F(this.db,"pending_days/"+u));let d=this.employees[o].pending_days.slice();d.splice(d.indexOf(u),1),ge(F(this.db,"employees/"+i.uid+"/pending_days"),d),this.pending_days_modal?.hide()}}).catch(c=>{alert("Error, please contact admin"),console.log(c.message)})}else alert("Please add more sick days to approve or deny")}checkNoneEmpty(){let n=!0,r=document.getElementsByClassName("ins");for(let i=0;i<r.length;i++)if(!r[i].value){n=!1;break}return n}getNextYear(){let n=Object.keys(this.employee_details.salary);for(this.current_modal_year=this.current_year;n.includes(this.current_modal_year.toString());)this.current_modal_year--}total(n,r){let i=parseInt(n),o=parseInt(r),s=this.employee_details.salary[o].months[i].details,a=Object.keys(s),l=0;for(let c=0;c<a.length;c++)l+=s[a[c]];return l}plural_fill(n,r){let i=""+n,o=" day"+(n==1?"":"s");return r=="info"||r=="sick"?r=" sick":r=="info_vacation"||r=="vacation"?r=" vacation":r="",i+r+o}deactivate(){confirm("Are you sure you want to deactivate this user?")&&Fe(F(this.db,"pending_days")).then(n=>{let r=this.current_modal_idx;if(n.exists()){let o=n.val();if(o){var i=Object.values(o);for(let s=0;s<i.length&&i[s].uid==this.uids[r];s++){confirm("Please settle all pending days before deactivating");return}}}this.employee_details.deactivated=!0,this.modal?.hide(),ge(F(this.db,"employees/"+this.uids[r]),this.cleanID(this.employee_details)).then(()=>{this.resetModal();let o={date:new Date().toISOString().substring(0,10),event:"Deactivated account",num_days:-1,type:"info",approved:!0,more_info:""};Fe(F(this.db,"sick_days_history/"+this.uids[r])).then(s=>{s.exists()&&(this.days_history=s.val(),this.days_history.push(o),ge(F(this.db,"sick_days_history/"+this.uids[r]),this.days_history))}).catch(s=>{alert("Error, please contact admin"),console.log(s.message)})})}).catch(n=>{alert("Error, please contact admin"),console.log(n.message)})}deactivate_pre(n){if(confirm("Are you sure you want to deactivate this user?")){var r=-1;if(n!=null&&n.length>0)r=this.findIDindex(n);else return;this.current_modal_idx=r,this.employees[r].deactivated=!0,ge(F(this.db,"employees/"+this.uids[r]),this.cleanID(this.employees[r])).then(()=>{let i={date:new Date().toISOString().substring(0,10),event:"Deactivated account",num_days:-1,type:"info",approved:!0,more_info:""};Fe(F(this.db,"sick_days_history/"+this.uids[r])).then(o=>{this.days_history=[],o.exists()&&(this.days_history=o.val()),this.days_history.push(i),ge(F(this.db,"sick_days_history/"+this.uids[r]),this.days_history)}).catch(o=>{alert("Error, please contact admin"),console.log(o.message)})})}}reactivate(n){if(confirm("Are you sure you want to reactivate this user?")){var r=-1;if(n!=null&&n.length>0)r=this.findIDindex(n);else return;delete this.employees[r].deactivated,this.modal?.hide(),ge(F(this.db,"employees/"+this.uids[r]),this.cleanID(this.employees[r])).then(()=>{this.resetModal();let i={date:new Date().toISOString().substring(0,10),event:"Reactivated account",num_days:-1,type:"info",approved:!0,more_info:""};Fe(F(this.db,"sick_days_history/"+this.uids[r])).then(o=>{o.exists()&&(this.days_history=o.val(),this.days_history.push(i),ge(F(this.db,"sick_days_history/"+this.uids[r]),this.days_history))}).catch(o=>{alert("Error, please contact admin"),console.log(o.message)})})}}deleteAcc(n){if(confirm("Are you sure you want to delete this user? History & details will be saved")){var r=-1;if(n!=null&&n.length>0)r=this.findIDindex(n);else return;let i=iu(this.employees[r]);delete i.ID,ge(F(this.db,"deleted_employees/"+this.uids[r]),i).then(()=>{let o={date:new Date().toISOString().substring(0,10),event:"Deleted account",num_days:-1,type:"info",approved:!0,more_info:""};Fe(F(this.db,"sick_days_history/"+this.uids[r])).then(s=>{s.exists()&&(this.days_history=s.val(),this.days_history.push(o),ge(F(this.db,"sick_days_history/"+this.uids[r]),this.days_history),Oc(F(this.db,"employees/"+this.uids[r])))}).catch(s=>{alert("Error, please contact admin"),console.log(s.message)})})}}disable_days(){confirm("Are you sure you want to disable vacation and sick days for this user?")&&Fe(F(this.db,"pending_days")).then(n=>{if(n.exists())n.val()&&confirm("Please settle all pending days before disabled");else{let r=this.employees[this.current_sick_days_modal_idx].sick_days,i=this.employees[this.current_sick_days_modal_idx].vacation_days;this.employees[this.current_sick_days_modal_idx].sick_days=-1,this.employees[this.current_sick_days_modal_idx].vacation_days=-1,this.sick_days_modal?.hide();let o=this.current_sick_days_modal_idx;ge(F(this.db,"employees/"+this.uids[o]),this.cleanID(this.employees[this.current_sick_days_modal_idx])).then(()=>{this.current_sick_days_modal_idx=-1;let s={date:new Date().toISOString().substring(0,10),event:"Disabled sick days",num_days:r,type:"info",approved:!0,more_info:"There were "+r+" sick days left at time of disabling."},a={date:new Date().toISOString().substring(0,10),event:"Disabled vacation days",num_days:i,type:"info_vacation",approved:!0,more_info:"There were "+i+" vacation days left at time of disabling."};Fe(F(this.db,"sick_days_history/"+this.uids[o])).then(l=>{l.exists()&&(this.days_history=l.val(),this.days_history.push(s),this.days_history.push(a),ge(F(this.db,"sick_days_history/"+this.uids[o]),this.days_history))}).catch(l=>{alert("Error, please contact admin"),console.log(l.message)})})}}).catch(n=>{alert("Error, please contact admin"),console.log(n.message)})}label_update(n,r){var i=-1;if(r!=null&&r.length>0)i=this.findIDindex(r);else return;let o=n.target.value,s=parseInt(o);s=s<0?0:s;let a=this.employees[i].demographics.label;this.employees[i].demographics.label=s,n.target.value=""+a,ge(F(this.db,"employees/"+this.uids[i]+"/demographics/label"),s)}sort(){let n=[],r=[],i=[];for(let o=1;o<this.labels.length;o++)for(let s=0;s<this.employees.length;s++)n.indexOf(s)>-1||this.employees[s].demographics.label==o&&(r.push(this.employees[s]),n.push(s),i.push(this.uids[s]));for(let o=0;o<this.employees.length;o++)n.indexOf(o)>-1||(r.push(this.employees[o]),i.push(this.uids[o]));this.employees=r,this.uids=i}filter(){this.filterlist=[];let n=document.getElementsByClassName("labels");for(let r=0;r<n.length;r++)n[r].checked&&this.filterlist.push(parseInt(n[r].value))}ngAfterViewInit(){}organize(){this.loaded2&&this.filter(),this.sort();let n=[];for(let r=0;r<this.employees.length;r++)this.filterlist.indexOf(0)>-1&&this.employees[r].demographics.label==null?n.push(this.employees[r]):this.filterlist.indexOf(this.employees[r].demographics.label)>-1&&n.push(this.employees[r]);return n}logout(){Ch("logged_in","",-1),this.router.navigateByUrl("/admin-login")}static{this.\u0275fac=function(r){return new(r||t)(L(rn),L(nr))}}static{this.\u0275cmp=$t({type:t,selectors:[["app-admin-dashboard"]],decls:1,vars:1,consts:[["type","button",1,"btn","btn-primary","medium",2,"display","block","margin-bottom","2em","float","left",3,"click"],["type","button",1,"btn","btn-primary","medium",2,"display","block","margin-bottom","2em","float","right",3,"click"],[1,"table-responsive",2,"clear","both"],["id","filter_tags"],["id","employee-table",1,"table"],["id","modal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",2,"color","black"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[2,"width","100%"],[2,"clear","both","width","200px","margin","1em 0 2em"],[1,"row","year-row",2,"clear","both"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","small"],["type","button",1,"btn","btn-primary","small"],["id","sick_days_modal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-sm","modal-dialog-scrollable"],["type","radio","name","vaca_or_sick","value","sick",3,"change","ngModelChange","ngModel"],["type","radio","name","vaca_or_sick","value","vacation",3,"change","ngModelChange","ngModel"],["type","number","id","sick_days_change","min","0",1,"form-control",3,"ngModelChange","ngModel"],["id","reason_sickdays",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","small"],["type","button",1,"btn","btn-primary","small",3,"click"],["id","days_history_modal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-scrollable"],["id","accordion","role","tablist",1,"accordion"],[1,"accordion-item"],[1,"accordion-header",2,"padding","16px 20px"],[1,"row",2,"table-layout","fixed","width","100%"],[1,"col-3"],[1,"col-6"],["role","tab",1,"accordion-item"],["id","pending_days_modal","tabindex","-1",1,"modal","fade"],["role","tab"],["checked","","type","checkbox",1,"labels",3,"change","id","name","value"],[3,"for"],[1,"selectt",3,"change"],[3,"selected","value"],["role","group",1,"btn-group"],[1,"btn","btn-primary","small",2,"padding","8px!important","width","initial","border-right","2px solid white",3,"click"],[1,"bi","bi-x",2,"margin","0"],[1,"btn","btn-primary","small",3,"click"],[1,"editing"],[1,"bi","bi-pencil-fill",3,"click"],[3,"click"],[1,"btn","btn-danger","small",3,"click"],["placeholder","Year","type","number",1,"form-control",2,"width","75%","display","inline-block",3,"ngModelChange","max","ngModel"],[1,"btn","btn-primary","small",2,"height","46px","width","20%","float","right",3,"click"],["href","/assets/salaries.csv","download","",1,"link"],["for","file_input",1,"btn","btn-secondary","small",2,"margin-top","6px"],[1,"fa","bi-cloud-arrow-up-fill",2,"margin-right","4px"],["id","file_input","type","file","accept",".csv",3,"change"],[1,"col"],[2,"float","right"],[1,"bi","bi-x-lg",2,"cursor","pointer","font-size","18px"],[1,"table",2,"z-index","1","vertical-align","middle"],[2,"width","12%"],[2,"width","20%"],[2,"width","8%"],[1,"bi","bi-x-lg",2,"cursor","pointer","font-size","18px",3,"click"],["placeholder","Month",2,"padding-top","6px","padding-bottom","6px",3,"id"],[3,"value"],["colspan","6"],[2,"text-align","right"],["type","button",1,"btn","btn-primary",2,"width","30px","height","30px","line-height","20px","padding","0px!important",3,"click"],[1,"bi","bi-x-lg",2,"cursor","pointer","font-size","12px"],["type","text",1,"ins","form-control",3,"ngModelChange","disabled","ngModel"],[1,"input-sz"],["type","number",1,"ins","form-control",3,"ngModelChange","disabled","ngModel"],["type","number",1,"ins","form-control",2,"width","80%!important","display","inline-block","margin-right","4px",3,"ngModelChange","disabled","ngModel"],[1,"bi","bi-pencil-fill",2,"cursor","pointer"],[1,"bi","bi-x-lg",2,"cursor","pointer","font-size","12px",3,"click"],[1,"bi","bi-pencil-fill",2,"cursor","pointer",3,"click"],[1,"btn","btn-primary","small",2,"width","120px"],[1,"btn","btn-primary","small",2,"width","120px",3,"click"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed",2,"width","100%"],["role","tabpanel","data-bs-parent","#accordion",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"]],template:function(r,i){r&1&&he(0,l7,135,17,"section"),r&2&&de(i.loaded?0:-1)},dependencies:[Qp,OR,Yp,Kp,xa,ob,sb,Hp,SR,lb,ab,ru,ib,Zp,ul,cl,dl],styles:["td[_ngcontent-%COMP%]{border-top:1px solid var(--bs-gray-200);border-bottom:1px solid var(--bs-gray-200);border-left:1px solid var(--bs-gray-200)}.input-sz[_ngcontent-%COMP%]{min-width:80px!important}.input-sz[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important;padding:.7em 2px .7em 1em!important}#employee-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer}#employee-table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;color:#0cf}.editing[_ngcontent-%COMP%]{float:right}#employee-table[_ngcontent-%COMP%]{vertical-align:middle}#employee-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}#modal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200)}input[type=file][_ngcontent-%COMP%]{display:none}label.btn[_ngcontent-%COMP%]{text-transform:none;width:100%}#pending_days_modal[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{width:100%;border:1px solid black}#pending_days_modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #pending_days_modal[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid black;padding:3px 4px}#pending_days_modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:6px 0}#pending_days_modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(3){word-break:break-all}#pending_days_modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(4){text-align:center}#filter_tags[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}#filter_tags[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}#filter_tags[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:3px;margin-bottom:1px}"]})}}return t})();function iu(t){return typeof t!="object"||t===null?t:Array.isArray(t)?u7(t):c7(t)}function c7(t){let e={};return Object.keys(t).forEach(n=>{let r=t[n];e[n]=iu(r)},{}),e}function u7(t){return t.map(e=>iu(e))}function d7(t,e=","){t=t.split(/\r?\n/).filter(r=>r.trim()!=="").join(`
`);let n=t.slice(0,t.indexOf(`
`)).split(e);return t.slice(t.indexOf(`
`)+1).split(`
`).map(r=>{let i=r.split(e);return n.reduce((o,s,a)=>(o[s]=i[a],o),{})})}var f7=()=>({sign_up:!0}),$R=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=$t({type:t,selectors:[["app-home"]],decls:22,vars:2,consts:[[2,"padding","0"],[1,"container"],[1,"row"],[1,"col-lg-6","col-2",2,"padding-top","1.8em"],["id","play_svg","xmlns","http://www.w3.org/2000/svg","width","1em","height","1em","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-play-circle",2,"color","rgb(255,222,100)"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"],[1,"col-lg-5","col-9",2,"padding-top","3em"],[2,"margin","0.5em 0 1em"],[2,"text-align","center"],["routerLink","/login",1,"btn","btn-primary",2,"line-height","12px",3,"queryParams"],[1,"bi","bi-play-circle",2,"font-size","18px","vertical-align","middle","margin-left","6px"],["routerLink","/dashboard",1,"btn","btn-primary",2,"line-height","12px"]],template:function(r,i){r&1&&(m(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),MI(),m(4,"svg",4),R(5,"path",5)(6,"path",6),p()(),NI(),m(7,"div",7)(8,"h5"),g(9,"Developed by"),p(),m(10,"h3"),g(11,"PGI"),p(),m(12,"h1",8),g(13,"Sign up to receive your payroll details"),p(),m(14,"div",9)(15,"a",10),g(16,"Sign up for an account "),R(17,"i",11),p(),R(18,"br"),m(19,"a",12),g(20,"Login "),R(21,"i",11),p()()()()()()),r&2&&(E(15),hn("queryParams",tD(1,f7)))},dependencies:[Us],styles:["@media (min-width: 992px){#play_svg[_ngcontent-%COMP%]{font-size:286px}}@media (max-width: 991px){#play_svg[_ngcontent-%COMP%]{font-size:10vw}}.btn[_ngcontent-%COMP%]{padding:.9em 2em!important;margin-top:6px;margin-left:6px}"]})}}return t})();var HR=[{path:"login",component:WM},{path:"dashboard",component:jR},{path:"admin-login",component:UR},{path:"admin-dashboard",component:BR},{path:"admin",redirectTo:"/admin-login",pathMatch:"full"},{path:"",component:$R},{path:"**",redirectTo:"/",pathMatch:"full"}];var WR={providers:[Ey(HR,wy()),K_()]};WT.production&&void 0;G_(HT,WR).catch(t=>console.error(t));
